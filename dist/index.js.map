{"version":3,"file":"index.js","sources":["../src/lib/cms-v2/lp-template.ts","../src/integrations/supabase/client.ts","../src/lib/cms-v2/cms-api.ts","../src/lib/cms-v2/CMSProvider.tsx","../src/lib/cms-v2/rich-text.tsx","../src/lib/cms-v2/utm-v2.ts","../src/lib/cms-v2/resolveTracking-v2.ts","../src/lib/utils.ts","../src/components/landing-v2/SectionCTAV2.tsx","../src/components/landing-v2/HeroV2.tsx","../src/components/landing-v2/IconBadgeV2.tsx","../src/components/landing-v2/BenefitsV2.tsx","../src/components/landing-v2/HowItWorksV2.tsx","../src/components/landing-v2/CountdownTimerV2.tsx","../src/components/landing-v2/PlansV2.tsx","../src/components/landing-v2/TestimonialCardV2.tsx","../src/components/ui/button.tsx","../src/components/ui/carousel.tsx","../src/components/landing-v2/TestimonialsV2.tsx","../src/components/landing-v2/KPIsV2.tsx","../src/components/landing-v2/AboutV2.tsx","../src/components/landing-v2/ContactV2.tsx","../src/components/landing-v2/BeforeAfterV2.tsx","../src/components/landing-v2/ProcessV2.tsx","../src/components/landing-v2/ServicesV2.tsx","../src/components/landing-v2/VideoV2.tsx","../src/lib/cms-v2/video-utils-v2.ts","../src/components/ui/aspect-ratio.tsx","../src/components/landing-v2/VideoCarouselV2.tsx","../src/components/landing-v2/WhyChooseV2.tsx","../src/components/landing-v2/CTAFinalV2.tsx","../src/components/ui/accordion.tsx","../src/components/landing-v2/FAQV2.tsx","../src/components/landing-v2/ForWhomV2.tsx","../src/components/landing-v2/FooterV2.tsx","../src/components/ui/input.tsx","../src/components/ui/label.tsx","../src/components/ui/textarea.tsx","../src/components/ui/checkbox.tsx","../src/components/ui/select.tsx","../src/lib/cms-v2/form-masks-v2.ts","../src/hooks/use-toast.ts","../src/components/landing-v2/form/CEPFieldWithButtonV2.tsx","../src/components/landing-v2/form/DynamicFormFieldV2.tsx","../src/components/landing-v2/FormV2.tsx","../src/components/landing-v2/SpeakersV2.tsx","../src/components/landing-v2/SponsorsV2.tsx","../src/components/landing-v2/WhatsAppButtonV2.tsx","../src/components/landing-v2/TrackingHeadV2.tsx","../src/components/landing-v2/ExitIntentPopupV2.tsx","../src/components/landing-v2/SocialProofToastV2.tsx","../src/components/landing-v2/StickyMobileCtaV2.tsx","../src/components/landing-v2/GlobalMenuV2.tsx","../src/pages/LandingPageV2.tsx","../src/components/ui/card.tsx","../src/components/ui/badge.tsx","../src/components/ui/dialog.tsx","../src/components/ui/dropdown-menu.tsx","../src/components/admin/layout/AdminPageContainer.tsx","../src/components/admin/layout/AdminPageHeader.tsx","../src/components/ui/sheet.tsx","../src/components/admin/preview-v2/PreviewDrawerV2.tsx","../src/hooks/useDebouncedInput.ts","../src/components/admin/shared-v2/DebouncedInputV2.tsx","../src/lib/cms-v2/pixelValidation-v2.ts","../src/components/admin/sections-v2/GlobalTrackingPanelV2.tsx","../src/lib/homepage-api.ts","../src/pages/admin/LandingPagesV2.tsx","../src/hooks/cms/useCMSSync.ts","../src/hooks/cms/useAdminEditorV2Production.ts","../src/components/ui/collapsible.tsx","../src/lib/dateUtils.ts","../src/components/admin/shared-v2/SaveStatusHUDV2.tsx","../node_modules/date-fns/locale/_lib/buildFormatLongFn.js","../node_modules/date-fns/locale/_lib/buildLocalizeFn.js","../node_modules/date-fns/locale/_lib/buildMatchFn.js","../node_modules/date-fns/locale/_lib/buildMatchPatternFn.js","../node_modules/date-fns/locale/pt-BR/_lib/formatDistance.js","../node_modules/date-fns/locale/pt-BR/_lib/formatLong.js","../node_modules/date-fns/locale/pt-BR/_lib/formatRelative.js","../node_modules/date-fns/locale/pt-BR/_lib/localize.js","../node_modules/date-fns/locale/pt-BR/_lib/match.js","../node_modules/date-fns/locale/pt-BR.js","../src/components/ui/scroll-area.tsx","../src/components/ui/alert-dialog.tsx","../src/hooks/useCMSHistory.ts","../src/components/admin/CMSHistoryPanel.tsx","../src/components/ui/switch.tsx","../src/components/admin/shared-v2/DebouncedTextareaV2.tsx","../src/lib/uploadImage.ts","../src/lib/imageOptimizer.ts","../src/components/admin/shared-v2/ImageUploadV2.tsx","../src/components/admin/shared-v2/SectionCTAEditorV2.tsx","../src/components/admin/sections-v2/HeroEditorV2.tsx","../src/components/admin/sections-v2/BenefitsEditorV2.tsx","../src/components/admin/sections-v2/HowItWorksEditorV2.tsx","../src/components/admin/sections-v2/BeforeAfterEditorV2.tsx","../src/components/admin/sections-v2/ProcessEditorV2.tsx","../src/components/admin/sections-v2/ForWhomEditorV2.tsx","../src/components/admin/sections-v2/ServicesEditorV2.tsx","../src/components/admin/sections-v2/PlansEditorV2.tsx","../src/components/admin/sections-v2/VideoEditorV2.tsx","../src/components/admin/sections-v2/VideoCarouselEditorV2.tsx","../src/components/admin/sections-v2/WhyChooseEditorV2.tsx","../src/components/admin/sections-v2/TestimonialsEditorV2.tsx","../src/components/admin/sections-v2/AboutEditorV2.tsx","../src/components/admin/sections-v2/FaqEditorV2.tsx","../src/components/admin/sections-v2/CTAFinalEditorV2.tsx","../src/components/admin/sections-v2/ContactEditorV2.tsx","../src/components/admin/sections-v2/KPIsEditorV2.tsx","../src/components/admin/sections-v2/FooterEditorV2.tsx","../src/components/admin/sections-v2/FormEditorV2.tsx","../src/components/admin/sections-v2/TrackingEditorV2.tsx","../src/components/admin/sections-v2/SeoEditorV2.tsx","../src/components/ui/slider.tsx","../src/components/admin/sections-v2/DesignEditorV2.tsx","../src/components/admin/sections-v2/SectionOrderEditorV2.tsx","../src/components/admin/sections-v2/FloatingWhatsappEditorV2.tsx","../src/components/admin/sections-v2/ConversionEditorV2.tsx","../src/components/admin/sections-v2/GlobalMenuEditorV2.tsx","../src/components/admin/sections-v2/SpeakersEditorV2.tsx","../src/components/admin/sections-v2/SponsorsEditorV2.tsx","../src/pages/admin/landpage/LPEditorV2.tsx"],"sourcesContent":["// ============================================================\n// GABARITO UNIVERSAL — Fonte Única da Verdade (Hardcoded)\n// ============================================================\n// Este template NÃO depende de nenhuma LP existente no banco.\n// Toda LP nova nasce deste molde. Ele é invisível pro usuário.\n// Se qualquer LP for deletada, o gabarito continua intacto.\n// Apenas o código-fonte pode alterar este arquivo.\n// ============================================================\n\nimport type { LPContent, SectionFooterCTA } from './cms-types';\n\n// ---- Helper: footerCta padrão (desabilitado por default) ----\nconst defaultFooterCta: SectionFooterCTA = {\n  enabled: false,\n  text: 'Quero contratar',\n  link: '#plans',\n  mobileHidden: false,\n};\n\n// ============================================================\n// O MOLDE\n// ============================================================\nexport const DEFAULT_LP_TEMPLATE: LPContent = {\n\n  // ==================== HERO ====================\n  hero: {\n    enabled: true,\n    title: '',\n    subtitle: '',\n    ctaPrimary: { text: 'Contratar agora', link: '#plans' },\n    ctaSecondary: { text: 'Saiba mais', link: '#beneficios' },\n    imageDesktop: '',\n    imageMobile: '',\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== BENEFITS ====================\n  benefits: {\n    enabled: true,\n    title: '',\n    items: [\n      { title: '', description: '', image: '' },\n      { title: '', description: '', image: '' },\n      { title: '', description: '', image: '' },\n    ],\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== HOW IT WORKS ====================\n  howItWorks: {\n    enabled: true,\n    title: '',\n    steps: ['', '', ''],\n    imageDesktop: '',\n    imageMobile: '',\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== BEFORE & AFTER ====================\n  beforeAfter: {\n    enabled: false,\n    title: '',\n    subtitle: '',\n    images: [\n      { before: '', after: '', caption: '' },\n    ],\n    imageDesktop: '',\n    imageMobile: '',\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== PROCESS ====================\n  process: {\n    enabled: true,\n    title: '',\n    subtitle: '',\n    steps: [\n      { title: '', description: '' },\n      { title: '', description: '' },\n      { title: '', description: '' },\n      { title: '', description: '' },\n    ],\n    imageDesktop: '',\n    imageMobile: '',\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== FOR WHOM ====================\n  forWhom: {\n    enabled: false,\n    title: '',\n    subtitle: '',\n    items: ['', '', '', ''],\n    imageDesktop: '',\n    imageMobile: '',\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== SERVICES ====================\n  services: {\n    enabled: true,\n    title: '',\n    items: [\n      { text: '', enabled: true },\n      { text: '', enabled: true },\n      { text: '', enabled: true },\n      { text: '', enabled: true },\n      { text: '', enabled: true },\n    ],\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== PLANS ====================\n  plans: {\n    enabled: true,\n    title: '',\n    items: [\n      {\n        id: 'bronze',\n        name: 'Bronze',\n        frequency: '',\n        price: '',\n        originalPrice: '',\n        showStrikethrough: false,\n        discount: '',\n        supportText: '',\n        features: ['', '', ''],\n        ctaText: 'Contratar',\n        link: '',\n        recommended: false,\n      },\n      {\n        id: 'silver',\n        name: 'Prata',\n        frequency: '',\n        price: '',\n        originalPrice: '',\n        showStrikethrough: false,\n        discount: '',\n        supportText: '',\n        features: ['', '', ''],\n        ctaText: 'Contratar',\n        link: '',\n        recommended: false,\n      },\n      {\n        id: 'gold',\n        name: 'Ouro',\n        frequency: '',\n        price: '',\n        originalPrice: '',\n        showStrikethrough: false,\n        discount: '',\n        supportText: '',\n        features: ['', '', ''],\n        ctaText: 'Contratar',\n        link: '',\n        recommended: true,\n      },\n      {\n        id: 'diamond',\n        name: 'Diamante',\n        frequency: '',\n        price: '',\n        originalPrice: '',\n        showStrikethrough: false,\n        discount: '',\n        supportText: '',\n        features: ['', '', ''],\n        ctaText: 'Contratar',\n        link: '',\n        recommended: false,\n      },\n    ],\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== VIDEO ====================\n  video: {\n    enabled: false,\n    title: '',\n    subtitle: '',\n    url: '',\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== WHY CHOOSE ====================\n  whyChoose: {\n    enabled: false,\n    title: '',\n    subtitle: '',\n    items: [\n      { title: '', description: '' },\n      { title: '', description: '' },\n      { title: '', description: '' },\n    ],\n    imageDesktop: '',\n    imageMobile: '',\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== TESTIMONIALS ====================\n  testimonials: {\n    enabled: true,\n    title: '',\n    items: [\n      { image: '', text: '', name: '', city: '', rating: 5 },\n      { image: '', text: '', name: '', city: '', rating: 5 },\n      { image: '', text: '', name: '', city: '', rating: 5 },\n    ],\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== VIDEO CAROUSEL ====================\n  videoCarousel: {\n    enabled: false,\n    title: '',\n    items: [\n      { title: '', url: '' },\n    ],\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== KPIS ====================\n  kpis: {\n    enabled: true,\n    items: [\n      { enabled: true, value: '', label: '', description: '' },\n      { enabled: true, value: '', label: '', description: '' },\n      { enabled: true, value: '', label: '', description: '' },\n    ],\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== SPEAKERS ====================\n  speakers: {\n    enabled: false,\n    title: '',\n    subtitle: '',\n    items: [],\n    layout: 'grid',\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== SPONSORS ====================\n  sponsors: {\n    enabled: false,\n    title: '',\n    subtitle: '',\n    tiers: [\n      { name: 'Diamante', enabled: true, color: '#B9F2FF', logoHeight: 'lg', items: [] },\n      { name: 'Ouro', enabled: true, color: '#FFD700', logoHeight: 'md', items: [] },\n      { name: 'Prata', enabled: true, color: '#C0C0C0', logoHeight: 'md', items: [] },\n      { name: 'Bronze', enabled: false, color: '#CD7F32', logoHeight: 'sm', items: [] },\n      { name: 'Apoio', enabled: false, color: '', logoHeight: 'sm', items: [] },\n    ],\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== ABOUT ====================\n  about: {\n    enabled: true,\n    title: '',\n    text: '',\n    imageDesktop: '',\n    imageMobile: '',\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== FAQ ====================\n  faq: {\n    enabled: true,\n    title: '',\n    items: [\n      { question: '', answer: '' },\n      { question: '', answer: '' },\n      { question: '', answer: '' },\n    ],\n    footerCta: { ...defaultFooterCta },\n  },\n\n  // ==================== FORM ====================\n  form: {\n    enabled: false,\n    title: '',\n    subtitle: '',\n    ctaButton: 'Enviar',\n    fields: [\n      { id: 'nome', type: 'text', label: 'Nome completo', placeholder: 'Seu nome', required: true, width: '100%' },\n      { id: 'email', type: 'email', label: 'E-mail', placeholder: 'seu@email.com', required: true, width: '50%' },\n      { id: 'whatsapp', type: 'whatsapp', label: 'WhatsApp', placeholder: '(00) 00000-0000', required: true, width: '50%' },\n    ],\n    footerCta: { ...defaultFooterCta },\n    successAction: {\n      type: 'toast',\n      redirectUrl: '',\n      successTitle: 'Enviado com sucesso!',\n      successMessage: 'Entraremos em contato em breve.',\n      successImage: '',\n    },\n    webhookUrl: '',\n  },\n\n  // ==================== CTA FINAL ====================\n  ctaFinal: {\n    enabled: true,\n    title: '',\n    subtitle: '',\n    buttonText: 'Contratar agora',\n    buttonLink: '#plans',\n    imageDesktop: '',\n    imageMobile: '',\n    trustText: '',\n  },\n\n  // ==================== CONTACT ====================\n  contact: {\n    enabled: true,\n    title: '',\n    subtitle: '',\n    whatsappLink: '',\n  },\n\n  // ==================== FOOTER ====================\n  footer: {\n    enabled: true,\n    logo: '',\n    logoDesktop: '',\n    logoMobile: '',\n    links: [],\n    privacy: { text: 'Política de Privacidade', url: '', hasLink: false, enabled: true },\n    terms: { text: 'Termos de Uso', url: '', hasLink: false, enabled: true },\n    cnpj: { text: '', enabled: false },\n    socials: {\n      instagram: { url: '', enabled: false },\n      facebook: { url: '', enabled: false },\n      linkedin: { url: '', enabled: false },\n      youtube: { url: '', enabled: false },\n      tiktok: { url: '', enabled: false },\n    },\n  },\n\n  // ==================== SECTION ORDER ====================\n  sectionOrder: [\n    'hero',\n    'benefits',\n    'howItWorks',\n    'beforeAfter',\n    'process',\n    'forWhom',\n    'services',\n    'plans',\n    'video',\n    'whyChoose',\n    'testimonials',\n    'videoCarousel',\n    'kpis',\n    'speakers',\n    'sponsors',\n    'about',\n    'faq',\n    'form',\n    'ctaFinal',\n    'contact',\n  ],\n\n  // ==================== DESIGN (Midnight = default) ====================\n  design: {\n    preset: 'midnight',\n    primaryColor: '#6366F1',\n    secondaryColor: '#818CF8',\n    backgroundColor: '#0F0B1A',\n    gradient: { from: '#0F0B1A', to: '#1A1333' },\n    glassIntensity: 0.08,\n    buttonColor: '#6366F1',\n    titleColor: '#FFFFFF',\n    borderColor: '#312E81',\n    iconColor: '#818CF8',\n    starColor: '#FBBF24',\n    cardRoundness: 'medio',\n    verticalSpacing: 'medium',\n    fontFamily: 'Inter',\n    textPrimaryColor: '#FFFFFF',\n    textSecondaryColor: '#A1A1AA',\n  },\n\n  // ==================== SEO (sempre vazio — LP-specific) ====================\n  seo: {\n    metaTitle: '',\n    metaDescription: '',\n    ogTitle: '',\n    ogDescription: '',\n    ogImage: '',\n  },\n\n  // ==================== TRACKING (sempre vazio — LP-specific) ====================\n  tracking: {\n    enabled: false,\n    meta: '',\n    ga: '',\n    tiktok: '',\n    linkedin: '',\n    gtm: '',\n  },\n\n  // ==================== FLOATING WHATSAPP ====================\n  floatingWhatsapp: {\n    enabled: false,\n    phoneNumber: '',\n    message: '',\n    label: 'Fale conosco',\n    pulseEffect: true,\n    showOnMobile: true,\n    showLabelOnMobile: false,\n    stickyCta: {\n      enabled: false,\n      text: 'Contratar agora',\n      link: '#plans',\n      scrollThreshold: 600,\n    },\n  },\n\n  // ==================== CONVERSION ====================\n  conversion: {\n    couponCode: '',\n    countdown: {\n      enabled: false,\n      mode: 'evergreen',\n      evergreenHours: 24,\n      roundHourAhead: 2,\n      label: 'OFERTA EXPIRA EM',\n      showInPlans: true,\n      showInCtaFinal: false,\n      expiredText: 'Oferta expirada',\n      urgencyColor: '',\n    },\n    exitIntent: {\n      enabled: false,\n      title: '',\n      text: '',\n      ctaText: 'Aproveitar oferta',\n      ctaLink: '#plans',\n      dismissText: 'Não, obrigado',\n      titleUppercase: true,\n      frequency: 'session',\n      delaySeconds: 3,\n      imageUrl: '',\n      imagePosition: 'top',\n    },\n    socialProof: {\n      enabled: false,\n      items: [\n        { name: '', city: '', plan: '', timeAgo: 'há 5 minutos' },\n        { name: '', city: '', plan: '', timeAgo: 'há 12 minutos' },\n        { name: '', city: '', plan: '', timeAgo: 'há 23 minutos' },\n      ],\n      intervalSeconds: 15,\n      maxPerVisit: 5,\n      position: 'bottom-left',\n      toastDuration: 4,\n    },\n  },\n\n  // ==================== GLOBAL MENU ====================\n  globalMenu: {\n    enabled: false,\n    logoUrl: '',\n    links: [],\n  },\n};\n\n// ============================================================\n// Função que entrega um clone limpo do template.\n// Sempre retorna uma cópia nova (deep clone) — nunca o original.\n// ============================================================\nexport const getNewLPContent = (): LPContent => {\n  return JSON.parse(JSON.stringify(DEFAULT_LP_TEMPLATE));\n};\n","// ============================================================\n// Supabase Client — Multi LP BRZ Dev\n// ============================================================\n// Cada projeto define suas próprias credenciais via .env:\n//   VITE_SUPABASE_URL=https://xxxxx.supabase.co\n//   VITE_SUPABASE_ANON_KEY=eyJ...\n// ============================================================\n\nimport { createClient } from \"@supabase/supabase-js\";\nimport type { Database } from \"./types\";\n\nconst SUPABASE_URL = import.meta.env.VITE_SUPABASE_URL;\nconst SUPABASE_ANON_KEY = import.meta.env.VITE_SUPABASE_ANON_KEY;\n\nif (!SUPABASE_URL || !SUPABASE_ANON_KEY) {\n  throw new Error(\n    '[Multi LP] Faltam variáveis de ambiente: VITE_SUPABASE_URL e VITE_SUPABASE_ANON_KEY. Configure no .env do projeto.'\n  );\n}\n\nexport const supabase = createClient<Database>(SUPABASE_URL, SUPABASE_ANON_KEY, {\n  auth: {\n    storage: localStorage,\n    persistSession: true,\n    autoRefreshToken: true,\n  },\n});\n","import { supabase } from \"@/integrations/supabase/client\";\nimport { LPRecord, LPContent, LPStatus, TrackingSettings } from \"./cms-types\";\nimport { Database, Json } from \"@/integrations/supabase/types\";\n\n// ============================================================\n// CMS V2 API - Camada de persistência com tipagem rigorosa\n// ============================================================\n\n// Database row types\ntype DbLPRow = Database['public']['Tables']['bd_cms_lp_v2']['Row'];\ntype DbLPInsert = Database['public']['Tables']['bd_cms_lp_v2']['Insert'];\n\n/**\n * Converte row do banco para LPRecord de domínio\n */\nconst rowToRecord = (row: DbLPRow): LPRecord => ({\n  id: row.id,\n  lp_key: row.lp_key,\n  name: row.name,\n  slug: row.slug,\n  status: row.status as LPStatus,\n  content: row.content as unknown as LPContent,\n  created_at: row.created_at ?? '',\n  updated_at: row.updated_at ?? ''\n});\n\n/**\n * Converte LPRecord parcial para inserção no banco\n */\nconst recordToInsert = (record: Omit<LPRecord, 'id' | 'created_at' | 'updated_at'>): DbLPInsert => ({\n  lp_key: record.lp_key,\n  name: record.name,\n  slug: record.slug,\n  status: record.status,\n  content: record.content as unknown as Json\n});\n\n/**\n * Busca uma LP completa pelo seu identificador (lp_key ou slug)\n */\nexport const fetchLPByRef = async (ref: string): Promise<LPRecord | null> => {\n  try {\n    const { data, error } = await supabase\n      .from('bd_cms_lp_v2')\n      .select('*')\n      .or(`lp_key.eq.${ref},slug.eq.${ref}`)\n      .single();\n\n    if (error) {\n      console.error(`[CMS-V2] Erro ao buscar LP (${ref}):`, error);\n      return null;\n    }\n\n    if (!data) return null;\n    \n    return rowToRecord(data);\n  } catch (err) {\n    console.error(`[CMS-V2] Erro crítico no fetch:`, err);\n    return null;\n  }\n};\n\n/**\n * Lista todas as LPs da V2 (para Admin)\n */\nexport const fetchAllLPs = async (): Promise<LPRecord[]> => {\n  try {\n    const { data, error } = await supabase\n      .from('bd_cms_lp_v2')\n      .select('*')\n      .order('lp_key');\n    \n    if (error) {\n      console.error(`[CMS-V2] Erro ao listar LPs:`, error);\n      return [];\n    }\n    \n    return (data || []).map(rowToRecord);\n  } catch (err) {\n    console.error(`[CMS-V2] Erro crítico no fetchAll:`, err);\n    return [];\n  }\n};\n\n/**\n * Salva APENAS o content de uma LP (usado pelo save manual do editor)\n * NÃO sobrescreve name/slug/status — resolve o bug C2\n *\n * FIX: Usa .select() após .update() para detectar 0 rows affected.\n * Se 0 rows → a LP não existe no banco (foi criada mas nunca gravou).\n * Nesse caso retorna false com log explícito.\n */\nexport const saveContent = async (lpKey: string, content: LPContent): Promise<boolean> => {\n  try {\n    const { error } = await supabase\n      .from('bd_cms_lp_v2')\n      .update({\n        content: content as unknown as Json,\n        updated_at: new Date().toISOString()\n      })\n      .eq('lp_key', lpKey);\n\n    if (error) {\n      console.error(`[CMS-V2] Erro ao salvar content (${lpKey}):`, error);\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    console.error(`[CMS-V2] Erro crítico no saveContent:`, err);\n    return false;\n  }\n};\n\n/**\n * Salva ou atualiza uma LP completa na V2 (metadados + content)\n * Usar APENAS quando explicitamente alterando name/slug/status\n */\nexport const saveLP = async (lp: Partial<LPRecord> & { lp_key: string }): Promise<boolean> => {\n  try {\n    const updatePayload: DbLPInsert = {\n      lp_key: lp.lp_key,\n      name: lp.name ?? '',\n      slug: lp.slug ?? lp.lp_key,\n      status: lp.status ?? 'draft',\n      content: (lp.content ?? {}) as unknown as Json\n    };\n\n    const { error } = await supabase\n      .from('bd_cms_lp_v2')\n      .upsert(updatePayload, { onConflict: 'lp_key' });\n\n    if (error) {\n      console.error(`[CMS-V2] Erro ao salvar LP (${lp.lp_key}):`, error);\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    console.error(`[CMS-V2] Erro crítico no save:`, err);\n    return false;\n  }\n};\n\n/**\n * Deleta uma LP da V2\n */\nexport const deleteLP = async (lpKey: string): Promise<boolean> => {\n  try {\n    const { error } = await supabase\n      .from('bd_cms_lp_v2')\n      .delete()\n      .eq('lp_key', lpKey);\n\n    if (error) {\n      console.error(`[CMS-V2] Erro ao deletar LP (${lpKey}):`, error);\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    console.error(`[CMS-V2] Erro crítico no delete:`, err);\n    return false;\n  }\n};\n\n/**\n * Duplica uma LP existente com novo lp_key e slug\n */\nexport const duplicateLP = async (\n  sourceLpKey: string,\n  newLpKey: string,\n  newName: string,\n  newSlug: string\n): Promise<boolean> => {\n  try {\n    const source = await fetchLPByRef(sourceLpKey);\n    if (!source) {\n      console.error(`[CMS-V2] LP origem não encontrada: ${sourceLpKey}`);\n      return false;\n    }\n\n    const { error } = await supabase\n      .from('bd_cms_lp_v2')\n      .insert({\n        lp_key: newLpKey,\n        name: newName,\n        slug: newSlug,\n        status: 'draft' as const,\n        content: source.content as unknown as Json\n      });\n\n    if (error) {\n      console.error(`[CMS-V2] Erro ao duplicar LP:`, error);\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    console.error(`[CMS-V2] Erro crítico no duplicate:`, err);\n    return false;\n  }\n};\n\n/**\n * Cria uma nova LP na V2\n */\nexport const createLP = async (lp: Omit<LPRecord, 'id' | 'created_at' | 'updated_at'>): Promise<boolean> => {\n  try {\n    const insertData = recordToInsert(lp);\n    \n    const { error } = await supabase\n      .from('bd_cms_lp_v2')\n      .insert(insertData);\n    \n    if (error) {\n      console.error(`[CMS-V2] Erro ao criar LP:`, error);\n      return false;\n    }\n    \n    return true;\n  } catch (err) {\n    console.error(`[CMS-V2] Erro crítico no create:`, err);\n    return false;\n  }\n};\n\n/**\n * Atualiza o status de uma LP\n */\nexport const updateLPStatus = async (lpKey: string, status: LPStatus): Promise<boolean> => {\n  try {\n    const { error } = await supabase\n      .from('bd_cms_lp_v2')\n      .update({ status, updated_at: new Date().toISOString() })\n      .eq('lp_key', lpKey);\n    \n    if (error) {\n      console.error(`[CMS-V2] Erro ao atualizar status:`, error);\n      return false;\n    }\n    \n    return true;\n  } catch (err) {\n    console.error(`[CMS-V2] Erro crítico no updateStatus:`, err);\n    return false;\n  }\n};\n\n/**\n * Atualiza apenas metadados (Nome, Slug) de uma LP\n */\nexport const updateLPSettings = async (lpKey: string, data: { name: string; slug: string }): Promise<boolean> => {\n  try {\n    const { error } = await supabase\n      .from('bd_cms_lp_v2')\n      .update({\n        name: data.name,\n        slug: data.slug,\n        updated_at: new Date().toISOString()\n      })\n      .eq('lp_key', lpKey);\n\n    if (error) {\n      console.error(`[CMS-V2] Erro ao atualizar settings:`, error);\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    console.error(`[CMS-V2] Erro crítico no updateSettings:`, err);\n    return false;\n  }\n};\n\n// Type for V1 migration (loose types for legacy data)\ninterface V1MigrationData {\n  lp_key?: string;\n  overrides?: Record<string, unknown>;\n  config?: {\n    sectionOrder?: string[];\n    design?: Record<string, unknown>;\n    floatingWhatsapp?: Record<string, unknown>;\n  };\n  seo?: Record<string, unknown>;\n  tracking?: Record<string, unknown>;\n}\n\ninterface V1GlobalContent {\n  sectionOrder?: string[];\n  landingPages?: Record<string, {\n    design?: Record<string, unknown>;\n    floatingWhatsapp?: Record<string, unknown>;\n  }>;\n  [key: string]: unknown;\n}\n\n/**\n * MIGRATION UTILITY: Converte dados da V1 (Híbrido) para V2 (Linear)\n */\nexport const migrateV1ToV2 = (\n  globalContent: V1GlobalContent,\n  lpV1Record: V1MigrationData\n): LPContent => {\n  const base = JSON.parse(JSON.stringify(globalContent)) as V1GlobalContent;\n  const lpKey = lpV1Record.lp_key ?? '';\n  \n  const overrides = lpV1Record.overrides ?? {};\n  const config = lpV1Record.config ?? {};\n  const seo = lpV1Record.seo ?? {};\n  const tracking = lpV1Record.tracking ?? {};\n\n  const lpDesign = base.landingPages?.[lpKey]?.design ?? {};\n  const lpFloatingWhatsapp = base.landingPages?.[lpKey]?.floatingWhatsapp ?? {};\n\n  const consolidated: Record<string, unknown> = {\n    ...base,\n    ...overrides,\n    sectionOrder: config.sectionOrder ?? base.sectionOrder ?? [],\n    design: { ...lpDesign, ...config.design },\n    floatingWhatsapp: { ...lpFloatingWhatsapp, ...config.floatingWhatsapp },\n    seo: { ...seo },\n    tracking: { ...tracking }\n  };\n\n  delete consolidated.landingPages;\n  \n  const trackingObj = consolidated.tracking as Record<string, unknown> | undefined;\n  if (trackingObj) delete trackingObj.global;\n  \n  const seoObj = consolidated.seo as Record<string, unknown> | undefined;\n  if (seoObj) {\n    delete seoObj.lp01;\n    delete seoObj.lp02;\n    delete seoObj.lp03;\n  }\n\n  return consolidated as unknown as LPContent;\n};\n\n// ============================================================\n// Global Tracking V2 — registro global-v2 dedicado a pixels\n// ============================================================\n\nconst GLOBAL_V2_KEY = 'global-v2';\n\n/**\n * Busca os pixels globais do registro global-v2\n */\nexport const fetchGlobalTrackingV2 = async (): Promise<TrackingSettings | null> => {\n  try {\n    const record = await fetchLPByRef(GLOBAL_V2_KEY);\n    if (!record?.content?.tracking) return null;\n    return record.content.tracking;\n  } catch (err) {\n    console.error('[CMS-V2] Erro ao buscar tracking global:', err);\n    return null;\n  }\n};\n\n/**\n * Salva os pixels globais no registro global-v2\n * Se o registro não existir, cria automaticamente\n */\nexport const saveGlobalTrackingV2 = async (tracking: TrackingSettings): Promise<boolean> => {\n  try {\n    // Tenta buscar o registro existente\n    const existing = await fetchLPByRef(GLOBAL_V2_KEY);\n\n    if (existing) {\n      // Atualiza apenas o tracking dentro do content\n      const updatedContent = { ...existing.content, tracking };\n      return await saveContent(GLOBAL_V2_KEY, updatedContent);\n    }\n\n    // Registro não existe — cria com content mínimo\n    const { error } = await supabase\n      .from('bd_cms_lp_v2')\n      .insert({\n        lp_key: GLOBAL_V2_KEY,\n        name: 'Global V2 (Tracking)',\n        slug: 'global-v2',\n        status: 'active' as const,\n        content: { tracking } as unknown as Json,\n      });\n\n    if (error) {\n      console.error('[CMS-V2] Erro ao criar registro global-v2:', error);\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    console.error('[CMS-V2] Erro crítico no saveGlobalTracking:', err);\n    return false;\n  }\n};\n","import { createContext, useContext, useEffect, useState, useCallback, useRef, ReactNode } from 'react';\nimport { LPContent } from './cms-types';\nimport { fetchLPByRef } from './cms-api';\n\nconst CACHE_TTL_MS = 5 * 60 * 1000; // 5 minutos\nconst REFETCH_COOLDOWN_MS = 30_000; // 30s cooldown entre fetches\n\ninterface CacheEntryV2 {\n  content: LPContent;\n  timestamp: number;\n}\n\nconst getCacheV2 = (lpKey: string): LPContent | null => {\n  try {\n    const raw = localStorage.getItem(`cms_v2_cache_${lpKey}`);\n    if (!raw) return null;\n    const entry: CacheEntryV2 = JSON.parse(raw);\n    // Validar TTL — cache expirado é descartado\n    if (!entry.timestamp || Date.now() - entry.timestamp > CACHE_TTL_MS) {\n      localStorage.removeItem(`cms_v2_cache_${lpKey}`);\n      return null;\n    }\n    return entry.content;\n  } catch {\n    localStorage.removeItem(`cms_v2_cache_${lpKey}`);\n    return null;\n  }\n};\n\nconst setCacheV2 = (lpKey: string, content: LPContent): void => {\n  try {\n    const entry: CacheEntryV2 = { content, timestamp: Date.now() };\n    localStorage.setItem(`cms_v2_cache_${lpKey}`, JSON.stringify(entry));\n  } catch {\n    // Storage full or blocked, ignore\n  }\n};\n\ninterface CMSContextValueV2 {\n  content: LPContent | null;\n  lpKey: string;\n  isLoading: boolean;\n  error: string | null;\n  refresh: () => Promise<void>;\n}\n\nconst CMSContextV2 = createContext<CMSContextValueV2 | undefined>(undefined);\n\n/**\n * CMSProviderV2 — 100% isolado da V1\n * Zero imports de @/lib/cms ou @/lib/cms-types\n * Carrega content direto de bd_cms_lp_v2 e aplica design tokens via CSS variables\n */\nexport const CMSProviderV2 = ({ children, lpKey }: { children: ReactNode; lpKey: string }) => {\n  const [content, setContent] = useState<LPContent | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const lastFetchRef = useRef(0);\n\n  const load = useCallback(async (): Promise<void> => {\n    lastFetchRef.current = Date.now();\n    // Retry com backoff exponencial (3 tentativas)\n    for (let attempt = 0; attempt < 3; attempt++) {\n      try {\n        const record = await fetchLPByRef(lpKey);\n        if (record?.content) {\n          setContent(record.content);\n          setCacheV2(lpKey, record.content);\n          setError(null);\n          return;\n        }\n      } catch (err) {\n        if (attempt < 2) {\n          await new Promise(r => setTimeout(r, Math.pow(2, attempt) * 1000));\n          continue;\n        }\n      }\n    }\n    setError('LP não encontrada ou sem conteúdo.');\n  }, [lpKey]);\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    // UX Speed: load from cache first (com TTL)\n    const cached = getCacheV2(lpKey);\n    if (cached) {\n      setContent(cached);\n    }\n\n    // Truth: always fetch from DB and overwrite\n    load().finally(() => setIsLoading(false));\n  }, [lpKey, load]);\n\n  // Refetch quando o usuário volta pro tab (com cooldown de 30s)\n  useEffect(() => {\n    const handleVisibilityChange = () => {\n      if (document.visibilityState !== 'visible') return;\n      if (Date.now() - lastFetchRef.current < REFETCH_COOLDOWN_MS) return;\n      load();\n    };\n\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n  }, [load]);\n\n  // Apply design tokens as CSS variables — ALL editor fields\n  useEffect(() => {\n    if (!content?.design) return;\n\n    const { design } = content;\n    const root = document.documentElement;\n\n    // ── Hex → HSL converter ──\n    const hexToHSL = (hex: string): string | null => {\n      if (!hex || !hex.startsWith('#')) return null;\n      let r = 0, g = 0, b = 0;\n      if (hex.length === 4) {\n        r = parseInt(hex[1] + hex[1], 16);\n        g = parseInt(hex[2] + hex[2], 16);\n        b = parseInt(hex[3] + hex[3], 16);\n      } else if (hex.length === 7) {\n        r = parseInt(hex.slice(1, 3), 16);\n        g = parseInt(hex.slice(3, 5), 16);\n        b = parseInt(hex.slice(5, 7), 16);\n      }\n      r /= 255; g /= 255; b /= 255;\n      const max = Math.max(r, g, b), min = Math.min(r, g, b);\n      let h = 0, s = 0;\n      const l = (max + min) / 2;\n      if (max !== min) {\n        const d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n          case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;\n          case g: h = ((b - r) / d + 2) / 6; break;\n          case b: h = ((r - g) / d + 4) / 6; break;\n        }\n      }\n      return `${Math.round(h * 360)} ${Math.round(s * 100)}% ${Math.round(l * 100)}%`;\n    };\n\n    // Adjust lightness of an HSL triplet string by a delta (-10 = darker, +10 = lighter)\n    const adjustHSL = (hsl: string, deltaL: number): string => {\n      const parts = hsl.match(/(\\d+)\\s+(\\d+)%\\s+(\\d+)%/);\n      if (!parts) return hsl;\n      const newL = Math.min(100, Math.max(0, parseInt(parts[3], 10) + deltaL));\n      return `${parts[1]} ${parts[2]}% ${newL}%`;\n    };\n\n    const setHSLVar = (varName: string, hex: string) => {\n      const hsl = hexToHSL(hex);\n      if (hsl) root.style.setProperty(varName, hsl);\n      return hsl;\n    };\n\n    // ── DS tokens ──\n    if (design.primaryColor) setHSLVar('--ds-color-accent', design.primaryColor);\n    if (design.buttonColor) setHSLVar('--ds-color-btn', design.buttonColor);\n    if (design.titleColor) setHSLVar('--ds-color-title', design.titleColor);\n    if (design.secondaryColor) setHSLVar('--ds-color-secondary', design.secondaryColor);\n    if (design.borderColor) setHSLVar('--ds-border-color', design.borderColor);\n    if (design.iconColor) setHSLVar('--ds-color-icon', design.iconColor);\n    if (design.starColor) setHSLVar('--ds-color-star', design.starColor);\n\n    // Background → DS + Tailwind bridge\n    const bgHSL = design.backgroundColor ? setHSLVar('--ds-color-bg', design.backgroundColor) : null;\n    if (bgHSL) {\n      root.style.setProperty('--background', bgHSL);\n      root.style.setProperty('--ds-color-surface', adjustHSL(bgHSL, 5));\n      root.style.setProperty('--ds-color-glass', adjustHSL(bgHSL, 3));\n      root.style.setProperty('--card', adjustHSL(bgHSL, 5));\n      root.style.setProperty('--muted', adjustHSL(bgHSL, 10));\n    }\n\n    // Text primary → DS + Tailwind bridge\n    const textHex = design.textPrimaryColor || design.titleColor;\n    if (textHex) {\n      const textHSL = setHSLVar('--ds-color-text', textHex);\n      if (textHSL) {\n        root.style.setProperty('--foreground', textHSL);\n        root.style.setProperty('--card-foreground', textHSL);\n      }\n    }\n\n    // Text secondary → DS + Tailwind bridge\n    if (design.textSecondaryColor) {\n      const softHSL = setHSLVar('--ds-color-text-soft', design.textSecondaryColor);\n      if (softHSL) {\n        root.style.setProperty('--muted-foreground', softHSL);\n      }\n    }\n\n    // Glass intensity\n    if (design.glassIntensity !== undefined) {\n      root.style.setProperty('--ds-glass-opacity', design.glassIntensity.toString());\n    }\n\n    // Card roundness — aligned with editor values (leve/medio/full)\n    const roundnessMap: Record<string, string> = {\n      leve: '0.5rem',\n      medio: '1rem',\n      full: '1.5rem',\n    };\n    if (design.cardRoundness && roundnessMap[design.cardRoundness]) {\n      root.style.setProperty('--ds-radius', roundnessMap[design.cardRoundness]);\n    }\n\n    // Adaptive shadows & button text — light themes get different treatment\n    if (bgHSL) {\n      const parts = bgHSL.match(/(\\d+)\\s+(\\d+)%\\s+(\\d+)%/);\n      const bgLightness = parts ? parseInt(parts[3], 10) : 50;\n      const isLight = bgLightness > 60;\n      const bgHue = parts ? parts[1] : '0';\n\n      // Button text: white for light themes (btn bg is dark), bg color for dark themes (btn bg is bright)\n      root.style.setProperty('--ds-color-btn-text', isLight ? '0 0% 100%' : bgHSL);\n\n      // Shadows: stronger for light themes for card visibility\n      const shadowColor = isLight\n        ? `${bgHue} 30% 50%`   // warm tinted shadow for light themes\n        : '0 0% 0%';           // pure black for dark themes\n      const shadowSm = isLight ? 0.14 : 0.35;\n      const shadowLg = isLight ? 0.22 : 0.45;\n      root.style.setProperty('--ds-shadow', `0 4px 24px hsl(${shadowColor} / ${shadowSm})`);\n      root.style.setProperty('--ds-shadow-lg', `0 12px 40px hsl(${shadowColor} / ${shadowLg})`);\n    }\n\n    // Border opacity — lighter for light themes\n    if (bgHSL) {\n      const parts = bgHSL.match(/(\\d+)\\s+(\\d+)%\\s+(\\d+)%/);\n      const bgLightness = parts ? parseInt(parts[3], 10) : 50;\n      root.style.setProperty('--ds-border-opacity', bgLightness > 60 ? '0.5' : '0.14');\n    }\n\n    // Font family\n    if (design.fontFamily) {\n      root.style.setProperty('--ds-font-family', design.fontFamily);\n      document.body.style.fontFamily = design.fontFamily;\n    }\n  }, [content]);\n\n  return (\n    <CMSContextV2.Provider value={{ content, lpKey, isLoading, error, refresh: load }}>\n      {children}\n    </CMSContextV2.Provider>\n  );\n};\n\nexport const useCMSV2 = () => {\n  const context = useContext(CMSContextV2);\n  if (!context) throw new Error('useCMSV2 deve ser usado dentro de um CMSProviderV2');\n  return context;\n};\n","import React from 'react';\n\n/**\n * renderRichText — Converte marcadores simples em React elements\n *\n * Padroes suportados:\n * - **texto** → <strong>\n * - {{texto}} → <span> com cor accent (design token ou override)\n * - \\n → <br />\n *\n * Seguro: nao usa dangerouslySetInnerHTML, gera React elements.\n */\nexport function renderRichText(\n  text: string | undefined,\n  accentColor?: string\n): React.ReactNode {\n  if (!text) return null;\n\n  const lines = text.split('\\n');\n\n  return lines.map((line, lineIdx) => (\n    <React.Fragment key={lineIdx}>\n      {lineIdx > 0 && <br />}\n      {parseLine(line, accentColor)}\n    </React.Fragment>\n  ));\n}\n\nfunction parseLine(line: string, accentColor?: string): React.ReactNode[] {\n  const tokens: React.ReactNode[] = [];\n  // Regex: match **bold** or {{highlight}}\n  const regex = /(\\*\\*(.+?)\\*\\*|\\{\\{(.+?)\\}\\})/g;\n  let lastIndex = 0;\n  let match;\n\n  while ((match = regex.exec(line)) !== null) {\n    // Text before the match\n    if (match.index > lastIndex) {\n      tokens.push(line.slice(lastIndex, match.index));\n    }\n\n    if (match[2]) {\n      // **bold**\n      tokens.push(<strong key={`b-${match.index}`}>{match[2]}</strong>);\n    } else if (match[3]) {\n      // {{highlight}}\n      tokens.push(\n        <span\n          key={`h-${match.index}`}\n          style={{ color: accentColor || 'hsl(var(--ds-color-accent))' }}\n          className=\"font-semibold\"\n        >\n          {match[3]}\n        </span>\n      );\n    }\n\n    lastIndex = regex.lastIndex;\n  }\n\n  // Remaining text after last match\n  if (lastIndex < line.length) {\n    tokens.push(line.slice(lastIndex));\n  }\n\n  return tokens;\n}\n","import { LPContent } from './cms-types';\n\n/**\n * UTM V2 — Aplica parâmetros UTM em links de LP V2\n * Funciona com qualquer string de lp_key (não hardcoded para lp01/lp02/lp03)\n */\nexport const applyUTMv2 = (\n  url: string,\n  lpKey: string,\n  content?: LPContent\n): string => {\n  if (!url) return '';\n\n  // Não aplicar UTM em âncoras\n  if (url.startsWith('#')) return url;\n\n  // Não aplicar UTM em URLs externas (fora do domínio)\n  if (url.startsWith('http://') || url.startsWith('https://')) {\n    if (!url.includes('limpme.com')) return url;\n  }\n\n  // Na V2, UTM é sempre aplicado (não depende de config global)\n  const separator = url.includes('?') ? '&' : '?';\n  return `${url}${separator}utm_lp=${lpKey}`;\n};\n\n/**\n * applyCoupon — Centralizado. Adiciona coupon como query param.\n * Guard: NÃO aplica em âncoras (#plans) — evita quebrar navegação.\n * Idempotente: se já tem coupon=, não duplica.\n */\nexport const applyCoupon = (url: string, coupon?: string): string => {\n  if (!coupon || !url) return url;\n  if (url.startsWith('#')) return url;\n  if (url.includes('coupon=')) return url;\n  const separator = url.includes('?') ? '&' : '?';\n  return `${url}${separator}coupon=${coupon}`;\n};\n","import { TrackingSettings } from \"./cms-types\";\n\n// ============================================================\n// Resolve herança de tracking: local vs global\n// ============================================================\n\n/**\n * Resolve os pixels efetivos de uma LP.\n *\n * Regras:\n * 1. Se tracking local desabilitado → nenhum pixel injetado\n * 2. Se useGlobal === false → usa APENAS pixels locais\n * 3. Se useGlobal === true (default) → campo local preenchido tem prioridade;\n *    campo local vazio herda do global\n */\nexport function resolveTrackingV2(\n  local: TrackingSettings | undefined,\n  global: TrackingSettings | null\n): TrackingSettings {\n  // Sem tracking local → desabilitado\n  if (!local || local.enabled === false) {\n    return {\n      enabled: false,\n      meta: '',\n      ga: '',\n      gtm: '',\n      tiktok: '',\n      linkedin: '',\n    };\n  }\n\n  // useGlobal desligado ou global inexistente → só local\n  if (local.useGlobal === false || !global) {\n    return {\n      enabled: true,\n      meta: local.meta?.trim() || '',\n      ga: local.ga?.trim() || '',\n      gtm: local.gtm?.trim() || '',\n      tiktok: local.tiktok?.trim() || '',\n      linkedin: local.linkedin?.trim() || '',\n    };\n  }\n\n  // Merge: local tem prioridade, vazio herda global\n  return {\n    enabled: true,\n    meta: local.meta?.trim() || global.meta?.trim() || '',\n    ga: local.ga?.trim() || global.ga?.trim() || '',\n    gtm: local.gtm?.trim() || global.gtm?.trim() || '',\n    tiktok: local.tiktok?.trim() || global.tiktok?.trim() || '',\n    linkedin: local.linkedin?.trim() || global.linkedin?.trim() || '',\n  };\n}\n","import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n// Formatar CPF: 000.000.000-00\nexport function formatCPF(value: string): string {\n  const numbers = value.replace(/\\D/g, '');\n  if (numbers.length <= 11) {\n    return numbers\n      .replace(/(\\d{3})(\\d)/, '$1.$2')\n      .replace(/(\\d{3})(\\d)/, '$1.$2')\n      .replace(/(\\d{3})(\\d{1,2})$/, '$1-$2');\n  }\n  return formatCNPJ(numbers);\n}\n\n// Formatar CNPJ: 00.000.000/0000-00\nexport function formatCNPJ(value: string): string {\n  const numbers = value.replace(/\\D/g, '');\n  return numbers\n    .replace(/(\\d{2})(\\d)/, '$1.$2')\n    .replace(/(\\d{3})(\\d)/, '$1.$2')\n    .replace(/(\\d{3})(\\d)/, '$1/$2')\n    .replace(/(\\d{4})(\\d{1,2})$/, '$1-$2');\n}\n\n// Formatar CPF ou CNPJ dinamicamente\nexport function formatCPFCNPJ(value: string): string {\n  const numbers = value.replace(/\\D/g, '');\n  if (numbers.length <= 11) {\n    return formatCPF(numbers);\n  }\n  return formatCNPJ(numbers);\n}\n\n// Formatar Telefone: (00) 00000-0000\nexport function formatPhone(value: string): string {\n  const numbers = value.replace(/\\D/g, '');\n  return numbers\n    .replace(/(\\d{2})(\\d)/, '($1) $2')\n    .replace(/(\\d{5})(\\d)/, '$1-$2')\n    .replace(/(-\\d{4})\\d+?$/, '$1');\n}\n\n// Limpar formatação (remover tudo que não é número)\nexport function cleanNumbers(value: string): string {\n  return value.replace(/\\D/g, '');\n}\n\n// Formatar CEP: 00000-000\nexport function formatCEP(value: string | null): string {\n  if (!value) return '';\n  const numbers = value.replace(/\\D/g, '');\n  return numbers.replace(/(\\d{5})(\\d{1,3})/, '$1-$2');\n}\n\n\n// Calcular idade a partir da data de nascimento\nexport function calculateAge(birthDate: string | null): number | null {\n  if (!birthDate) return null;\n  try {\n    const today = new Date();\n    const birth = new Date(birthDate);\n    if (isNaN(birth.getTime())) return null;\n    let age = today.getFullYear() - birth.getFullYear();\n    const m = today.getMonth() - birth.getMonth();\n    if (m < 0 || (m === 0 && today.getDate() < birth.getDate())) {\n      age--;\n    }\n    return age;\n  } catch {\n    return null;\n  }\n}\n\n// Formatar valor FIPE para moeda BR\nexport function formatFIPE(value: string | number | null): string {\n  if (value === null || value === undefined) return '-';\n  const num = typeof value === 'string' ? parseFloat(value.replace(/\\D/g, '')) : value;\n  if (isNaN(num)) return '-';\n  return new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(num);\n}\n","import { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { applyUTMv2, applyCoupon } from \"@/lib/cms-v2/utm-v2\";\nimport { cn } from \"@/lib/utils\";\n\ntype SectionCTAV2Props = {\n  data?: LPContent['hero']['footerCta'];\n  className?: string;\n  lpKey: string;\n  couponCode?: string;\n};\n\n\nexport const SectionCTAV2 = ({ data, className, lpKey, couponCode }: SectionCTAV2Props) => {\n  if (!data?.enabled) return null;\n\n  const href = applyCoupon(applyUTMv2(data.link, lpKey), couponCode);\n\n  return (\n    <div\n      className={cn(\n        \"w-full flex justify-center py-10 md:py-12 relative z-10\",\n        data.mobileHidden && \"hidden md:flex\",\n        className\n      )}\n    >\n      <a\n        href={href}\n        className=\"\n          group relative inline-flex items-center justify-center\n          px-12 py-4 text-lg font-bold transition-all duration-300\n          rounded-full shadow-lg\n          bg-[hsl(var(--ds-color-btn))] text-[hsl(var(--ds-color-btn-text))]\n          hover:scale-105 hover:shadow-[0_8px_24px_hsl(var(--ds-color-accent)/0.4)]\n          active:scale-95\n        \"\n      >\n        {data.text}\n      </a>\n    </div>\n  );\n};\n","import { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { applyUTMv2 } from \"@/lib/cms-v2/utm-v2\";\nimport { SectionCTAV2 } from \"./SectionCTAV2\";\n\ntype HeroV2Props = {\n  data: LPContent[\"hero\"];\n  lpKey: string;\n  couponCode?: string;\n};\n\nexport const HeroV2 = ({ data, lpKey, couponCode }: HeroV2Props) => {\n  if (!data || data.enabled === false) return null;\n\n  return (\n    <section className=\"relative w-full min-h-[70vh] md:min-h-[80vh] flex items-center justify-center px-4 md:px-6 py-16 md:py-24 overflow-hidden\">\n      {data.imageDesktop && (\n        <>\n          <div className=\"absolute inset-0 bg-cover bg-center hidden md:block\" style={{ backgroundImage: `url(${data.imageDesktop})` }} />\n          {data.imageMobile && (<div className=\"absolute inset-0 bg-cover bg-center md:hidden\" style={{ backgroundImage: `url(${data.imageMobile})` }} />)}\n          <div className=\"absolute inset-0 bg-gradient-to-b from-[hsl(var(--ds-color-bg))]/40 to-[hsl(var(--ds-color-bg))]/60 backdrop-blur-sm\" />\n        </>\n      )}\n      <div className=\"max-w-5xl mx-auto text-center relative z-10\">\n        <h1 className=\"text-4xl md:text-6xl lg:text-7xl font-bold mb-6 md:mb-8 text-[hsl(var(--ds-color-title))] leading-[1.1] tracking-tight\">{data.title}</h1>\n        <p className=\"text-lg md:text-xl lg:text-2xl mb-10 md:mb-14 text-muted-foreground max-w-3xl mx-auto leading-relaxed\">{data.subtitle}</p>\n        <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4 md:gap-6 mt-6 md:mt-10\">\n          {data.ctaPrimary && (<a href={applyUTMv2(data.ctaPrimary.link, lpKey)} className=\"w-full sm:w-auto px-10 md:px-14 py-4 md:py-5 rounded-full font-bold text-base md:text-lg transition-all duration-300 bg-[hsl(var(--ds-color-btn))] text-[hsl(var(--ds-color-btn-text))] hover:scale-105 hover:shadow-[0_16px_32px_hsl(var(--ds-color-accent)/0.4)] shadow-[0_8px_16px_hsl(var(--ds-color-accent)/0.2)]\">{data.ctaPrimary.text}</a>)}\n          {data.ctaSecondary && (<a href={applyUTMv2(data.ctaSecondary.link, lpKey)} className=\"w-full sm:w-auto px-10 md:px-14 py-4 md:py-5 rounded-full font-bold text-base md:text-lg transition-all duration-300 border-2 border-[hsl(var(--ds-color-accent))] text-[hsl(var(--ds-color-accent))] bg-transparent hover:bg-[hsl(var(--ds-color-accent)/0.1)] hover:scale-105\">{data.ctaSecondary.text}</a>)}\n        </div>\n      </div>\n      <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n    </section>\n  );\n};\n","import { LucideIcon } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\n// ============================================================\n// IconBadgeV2 - Componente de icone reutilizavel para secoes LP V2\n// ============================================================\n// Usa design tokens V2 (--ds-color-icon) para funcionar nos 8 temas\n// Padrao: circulo com bg 15% opacity + border 30% opacity\n// ============================================================\n\ntype IconBadgeSize = 'sm' | 'md' | 'lg';\n\ninterface IconBadgeV2Props {\n  icon: LucideIcon;\n  size?: IconBadgeSize;\n  /** Override de cor (ex: cores metalicas por tier) */\n  color?: string;\n  className?: string;\n}\n\nconst sizeMap: Record<IconBadgeSize, { container: string; icon: number }> = {\n  sm: { container: 'w-10 h-10', icon: 18 },\n  md: { container: 'w-12 h-12', icon: 22 },\n  lg: { container: 'w-14 h-14 md:w-16 md:h-16', icon: 28 },\n};\n\nexport const IconBadgeV2 = ({ icon: Icon, size = 'md', color, className }: IconBadgeV2Props) => {\n  const { container, icon: iconSize } = sizeMap[size];\n\n  // Se tem cor customizada, usa ela; senao usa --ds-color-icon via design tokens\n  const style = color\n    ? {\n        backgroundColor: `${color}22`, // 13% opacity\n        borderColor: `${color}4D`,     // 30% opacity\n        color: color,\n      }\n    : undefined;\n\n  return (\n    <div\n      className={cn(\n        container,\n        'rounded-full flex items-center justify-center border-2 flex-shrink-0',\n        // Design token classes V2 (usadas quando nao tem cor custom)\n        !color && 'bg-[hsl(var(--ds-color-icon)/0.15)] border-[hsl(var(--ds-color-icon)/0.3)]',\n        className\n      )}\n      style={style}\n    >\n      <Icon\n        size={iconSize}\n        className={cn(!color && 'text-[hsl(var(--ds-color-icon))]')}\n        style={color ? { color } : undefined}\n      />\n    </div>\n  );\n};\n","import { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { SectionCTAV2 } from \"./SectionCTAV2\";\nimport { IconBadgeV2 } from \"./IconBadgeV2\";\nimport { Home, Leaf, Users, Clock, Shield, Sparkles } from \"lucide-react\";\n\nconst benefitIcons = [Home, Leaf, Users, Clock, Shield, Sparkles];\n\ntype BenefitsV2Props = {\n  data: LPContent[\"benefits\"];\n  lpKey: string;\n  couponCode?: string;\n};\n\nexport const BenefitsV2 = ({ data, lpKey, couponCode }: BenefitsV2Props) => {\n  if (!data || data.enabled === false) return null;\n\n  return (\n    <section className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-12 md:mb-20 text-[hsl(var(--ds-color-title))] leading-tight\">\n          {data.title}\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8\">\n          {data.items?.map((item, index) => {\n            const IconComp = benefitIcons[index % benefitIcons.length];\n            return (\n            <div key={index} className=\"glass-card p-8 md:p-10 text-center hover:scale-[1.02] transition-all duration-300\">\n              <div className=\"flex justify-center mb-4\">\n                <IconBadgeV2 icon={IconComp} />\n              </div>\n              {item.image && (\n                <img\n                  loading=\"lazy\"\n                  src={item.image}\n                  alt={item.title}\n                  className=\"w-full h-48 md:h-56 object-cover rounded-[var(--ds-radius)] mb-6\"\n                />\n              )}\n              <h3 className=\"text-xl md:text-2xl font-bold mb-4 text-foreground leading-tight\">\n                {item.title}\n              </h3>\n              <p className=\"text-base md:text-lg text-muted-foreground leading-relaxed\">{item.description}</p>\n            </div>\n            );\n          })}\n        </div>\n\n        <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n};\n","import { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { SectionCTAV2 } from \"./SectionCTAV2\";\nimport { PhoneCall, CalendarCheck, Sparkles } from \"lucide-react\";\n\nconst howItWorksIcons = [PhoneCall, CalendarCheck, Sparkles];\n\ntype HowItWorksV2Props = {\n  data: LPContent[\"howItWorks\"];\n  lpKey: string;\n  couponCode?: string;\n};\n\nexport const HowItWorksV2 = ({ data, lpKey, couponCode }: HowItWorksV2Props) => {\n  if (!data || data.enabled === false) return null;\n\n  return (\n    <section className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-12 md:mb-20 text-[hsl(var(--ds-color-title))] leading-tight\">\n          {data.title}\n        </h2>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 mt-8 md:mt-12\">\n          {data.steps?.map((step, index) => {\n            const IconComp = howItWorksIcons[index % howItWorksIcons.length];\n            return (\n            <div key={index} className=\"glass-card p-8 md:p-10 text-center hover:scale-[1.02] transition-all duration-300\">\n              <div className=\"w-16 h-16 md:w-20 md:h-20 rounded-full bg-[hsl(var(--ds-color-icon)/0.15)] border-2 border-[hsl(var(--ds-color-icon)/0.3)] flex items-center justify-center mx-auto mb-6\">\n                <IconComp size={32} className=\"text-[hsl(var(--ds-color-icon))]\" />\n              </div>\n              <p className=\"text-base md:text-lg text-foreground leading-relaxed\">\n                <span className=\"font-bold text-[hsl(var(--ds-color-icon))]\">{index + 1}</span>\n                <span className=\"mx-2 text-muted-foreground\">&mdash;</span>\n                {step}\n              </p>\n            </div>\n            );\n          })}\n        </div>\n\n        {(data.imageDesktop || data.imageMobile) && (\n          <div className=\"w-full max-w-5xl mx-auto mt-12 md:mt-20 rounded-[var(--ds-radius)] aspect-video flex items-center justify-center overflow-hidden glass-card\">\n            <picture>\n              {data.imageDesktop && (\n                <source media=\"(min-width: 768px)\" srcSet={data.imageDesktop} />\n              )}\n              {data.imageMobile && (\n                <source media=\"(max-width: 767px)\" srcSet={data.imageMobile} />\n              )}\n              <img loading=\"lazy\"\n                src={data.imageDesktop || data.imageMobile}\n                className=\"w-full h-full object-cover\"\n                alt=\"Como funciona\"\n              />\n            </picture>\n          </div>\n        )}\n\n        <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n};\n","import { useState, useEffect, useCallback, memo } from 'react';\nimport type { CountdownSettings } from '@/lib/cms-v2/cms-types';\n\ninterface CountdownTimerV2Props {\n  settings: CountdownSettings;\n  lpKey: string;\n}\n\ninterface TimeLeft {\n  days: number;\n  hours: number;\n  minutes: number;\n  seconds: number;\n}\n\nconst COOKIE_PREFIX = 'lp_countdown_';\n\nconst getEvergreenDeadline = (lpKey: string, hours: number): number => {\n  const key = `${COOKIE_PREFIX}${lpKey}`;\n  const stored = localStorage.getItem(key);\n  if (stored) {\n    const deadline = parseInt(stored, 10);\n    if (!isNaN(deadline)) return deadline;\n  }\n  const deadline = Date.now() + hours * 60 * 60 * 1000;\n  localStorage.setItem(key, deadline.toString());\n  return deadline;\n};\n\n/**\n * Round Hour mode: calcula a proxima hora cheia N horas a frente.\n * Ex: visitante entra 15:37, roundHourAhead=2 → deadline = 17:00:00\n * Usa localStorage para manter consistente durante a visita.\n */\nconst getRoundHourDeadline = (lpKey: string, hoursAhead: number): number => {\n  const key = `${COOKIE_PREFIX}${lpKey}_rh`;\n  const stored = localStorage.getItem(key);\n  if (stored) {\n    const deadline = parseInt(stored, 10);\n    if (!isNaN(deadline)) return deadline;\n  }\n\n  const now = new Date();\n  const target = new Date(now);\n  target.setMinutes(0, 0, 0);\n  target.setHours(target.getHours() + hoursAhead);\n\n  const deadline = target.getTime();\n  localStorage.setItem(key, deadline.toString());\n  return deadline;\n};\n\nconst calcTimeLeft = (deadline: number): TimeLeft | null => {\n  const diff = deadline - Date.now();\n  if (diff <= 0) return null;\n  return {\n    days: Math.floor(diff / (1000 * 60 * 60 * 24)),\n    hours: Math.floor((diff / (1000 * 60 * 60)) % 24),\n    minutes: Math.floor((diff / (1000 * 60)) % 60),\n    seconds: Math.floor((diff / 1000) % 60),\n  };\n};\n\nconst pad = (n: number) => n.toString().padStart(2, '0');\n\nexport const CountdownTimerV2 = memo(({ settings, lpKey }: CountdownTimerV2Props) => {\n  const [timeLeft, setTimeLeft] = useState<TimeLeft | null>(null);\n  const [expired, setExpired] = useState(false);\n\n  const getDeadline = useCallback((): number => {\n    if (settings.mode === 'deadline' && settings.deadline) {\n      return new Date(settings.deadline).getTime();\n    }\n    if (settings.mode === 'roundHour') {\n      return getRoundHourDeadline(lpKey, settings.roundHourAhead || 2);\n    }\n    return getEvergreenDeadline(lpKey, settings.evergreenHours || 24);\n  }, [settings.mode, settings.deadline, settings.evergreenHours, settings.roundHourAhead, lpKey]);\n\n  useEffect(() => {\n    if (!settings.enabled) return;\n\n    const deadline = getDeadline();\n\n    const tick = () => {\n      const tl = calcTimeLeft(deadline);\n      if (!tl) {\n        setExpired(true);\n        setTimeLeft(null);\n      } else {\n        setTimeLeft(tl);\n      }\n    };\n\n    tick();\n    const interval = setInterval(tick, 1000);\n    return () => clearInterval(interval);\n  }, [getDeadline, settings.enabled]);\n\n  if (!settings.enabled) return null;\n\n  if (expired) {\n    if (settings.expiredText) {\n      return (\n        <div className=\"w-full text-center py-3\">\n          <p className=\"text-sm text-muted-foreground font-medium\">{settings.expiredText}</p>\n        </div>\n      );\n    }\n    return null;\n  }\n\n  if (!timeLeft) return null;\n\n  // Urgency color system\n  const uc = settings.urgencyColor || undefined;\n  const labelStyle = uc ? { color: uc } : undefined;\n  const labelClass = uc ? '' : 'text-[hsl(var(--ds-color-accent))]';\n  const boxStyle = uc\n    ? { backgroundColor: `${uc}20`, borderColor: `${uc}55`, boxShadow: `0 0 20px ${uc}30, inset 0 1px 0 ${uc}15` }\n    : undefined;\n  const boxClass = uc\n    ? ''\n    : 'bg-[hsl(var(--ds-color-accent)/0.12)] border-[hsl(var(--ds-color-accent)/0.35)] shadow-[0_0_20px_hsl(var(--ds-color-accent)/0.15)]';\n  const separatorStyle = uc ? { color: uc } : undefined;\n  const separatorClass = uc ? '' : 'text-[hsl(var(--ds-color-accent))]';\n\n  return (\n    <div className=\"w-full flex flex-col items-center gap-4 py-6\">\n      {/* Label — grande, bold, grita urgencia */}\n      {settings.label && (\n        <p\n          className={`text-base md:text-lg font-extrabold uppercase tracking-[0.15em] ${labelClass}`}\n          style={labelStyle}\n        >\n          {settings.label}\n        </p>\n      )}\n\n      {/* Timer boxes */}\n      <div className=\"flex items-center gap-3 md:gap-4\">\n        {timeLeft.days > 0 && (\n          <>\n            <TimerUnit value={timeLeft.days} label=\"Dias\" boxStyle={boxStyle} boxClass={boxClass} />\n            <span className={`text-3xl md:text-4xl font-black -mt-4 opacity-60 ${separatorClass}`} style={separatorStyle}>:</span>\n          </>\n        )}\n        <TimerUnit value={timeLeft.hours} label=\"Horas\" boxStyle={boxStyle} boxClass={boxClass} />\n        <span className={`text-3xl md:text-4xl font-black -mt-4 opacity-60 ${separatorClass}`} style={separatorStyle}>:</span>\n        <TimerUnit value={timeLeft.minutes} label=\"Min\" boxStyle={boxStyle} boxClass={boxClass} />\n        <span className={`text-3xl md:text-4xl font-black -mt-4 opacity-60 ${separatorClass}`} style={separatorStyle}>:</span>\n        <TimerUnit value={timeLeft.seconds} label=\"Seg\" boxStyle={boxStyle} boxClass={boxClass} isSeconds />\n      </div>\n    </div>\n  );\n});\n\nCountdownTimerV2.displayName = 'CountdownTimerV2';\n\nconst TimerUnit = ({ value, label, boxStyle, boxClass, isSeconds }: {\n  value: number;\n  label: string;\n  boxStyle?: React.CSSProperties;\n  boxClass: string;\n  isSeconds?: boolean;\n}) => (\n  <div className=\"flex flex-col items-center\">\n    <span\n      className={`text-3xl md:text-5xl font-black text-foreground tabular-nums rounded-xl px-4 md:px-5 py-2.5 md:py-3 min-w-[3.5rem] md:min-w-[4.5rem] text-center border-2 ${boxClass} ${isSeconds ? 'animate-[pulse_1s_ease-in-out_infinite]' : ''}`}\n      style={boxStyle}\n    >\n      {pad(value)}\n    </span>\n    <span className=\"text-[10px] md:text-xs text-muted-foreground mt-1.5 uppercase tracking-[0.2em] font-bold\">\n      {label}\n    </span>\n  </div>\n);\n","import { LPContent, ConversionSettings } from \"@/lib/cms-v2/cms-types\";\nimport { applyUTMv2, applyCoupon } from \"@/lib/cms-v2/utm-v2\";\nimport { Medal, Award, Crown, Gem, Check } from \"lucide-react\";\nimport { SectionCTAV2 } from \"./SectionCTAV2\";\nimport { CountdownTimerV2 } from \"./CountdownTimerV2\";\n\ntype PlansV2Props = {\n  data: LPContent[\"plans\"];\n  lpKey: string;\n  couponCode?: string;\n  conversion?: ConversionSettings;\n};\n\nconst planIcons = {\n  bronze: Medal,\n  silver: Award,\n  gold: Crown,\n  diamond: Gem,\n};\n\n// Cores metalicas por tier\nconst tierColors: Record<string, string> = {\n  bronze: '#CD7F32',\n  silver: '#C0C0C0',\n  gold: '#FFD700',\n  diamond: '#B9F2FF',\n};\n\n\nexport const PlansV2 = ({ data, lpKey, couponCode, conversion }: PlansV2Props) => {\n  if (!data || data.enabled === false) return null;\n\n  return (\n    <section className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-12 md:mb-20 text-[hsl(var(--ds-color-title))] leading-tight\">\n          {data.title}\n        </h2>\n\n        {/* Countdown Timer */}\n        {conversion?.countdown?.enabled && conversion.countdown.showInPlans && (\n          <CountdownTimerV2 settings={conversion.countdown} lpKey={lpKey} />\n        )}\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8 mt-8 md:mt-12\">\n          {data.items?.map((plan) => {\n            const IconComponent = planIcons[plan.id as keyof typeof planIcons] || Medal;\n            const tierColor = tierColors[plan.id as keyof typeof tierColors];\n\n              return (\n              <div key={plan.id} className={`glass-card p-8 md:p-10 flex flex-col hover:scale-[1.02] transition-all duration-300 relative ${plan.recommended ? 'ring-2 ring-[hsl(var(--ds-color-accent))] shadow-[0_0_30px_hsl(var(--ds-color-accent)/0.3)] scale-[1.02]' : ''}`}>\n                {plan.recommended && (\n                  <div className=\"absolute -top-3 left-1/2 -translate-x-1/2 px-5 py-1.5 rounded-full text-xs font-semibold bg-[hsl(var(--ds-color-accent))] text-[hsl(var(--ds-color-btn-text))]\">\n                    Recomendado\n                  </div>\n                )}\n\n                <div className=\"flex items-center gap-3 mb-4\">\n                  <div\n                    className=\"w-12 h-12 rounded-full flex items-center justify-center border-2 flex-shrink-0\"\n                    style={tierColor ? {\n                      backgroundColor: `${tierColor}22`,\n                      borderColor: `${tierColor}4D`,\n                    } : undefined}\n                  >\n                    <IconComponent\n                      size={24}\n                      style={tierColor ? { color: tierColor } : undefined}\n                      className={!tierColor ? \"text-[hsl(var(--ds-color-icon))]\" : undefined}\n                    />\n                  </div>\n                  <h3 className=\"text-xl font-bold text-foreground\">\n                    {plan.name}\n                  </h3>\n                </div>\n\n                <p className=\"text-sm mb-6 text-muted-foreground\">\n                  {plan.frequency}\n                </p>\n\n                {plan.originalPrice && (\n                  <p className={`text-base mb-1 text-muted-foreground ${plan.showStrikethrough ? 'line-through' : ''}`}>\n                    {plan.originalPrice}\n                  </p>\n                )}\n\n                <p className=\"text-4xl font-bold mb-2 text-[hsl(var(--ds-color-accent))]\">\n                  {plan.price}\n                </p>\n\n                {plan.discount && (\n                  <p className=\"text-sm mb-2 font-semibold text-[hsl(var(--ds-color-accent))]\">\n                    {plan.discount}\n                  </p>\n                )}\n\n                {plan.supportText && (\n                  <p className=\"text-sm mb-6 text-muted-foreground leading-relaxed\">\n                    {plan.supportText}\n                  </p>\n                )}\n\n                {plan.features && plan.features.length > 0 && (\n                  <div className=\"space-y-3 mb-6\">\n                    {plan.features.map((feature, idx) => (\n                      <div key={idx} className=\"flex items-start gap-3\">\n                        <Check\n                          size={16}\n                          className=\"mt-0.5 flex-shrink-0 text-[hsl(var(--ds-color-icon))]\"\n                        />\n                        <span className=\"text-sm text-muted-foreground leading-relaxed\">{feature}</span>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                <div className=\"flex-grow\" />\n\n                <a\n                  href={applyCoupon(applyUTMv2(plan.link, lpKey), couponCode)}\n                  className=\"w-full text-center py-4 font-semibold text-base transition-all duration-300 mt-6 rounded-full bg-[hsl(var(--ds-color-btn))] text-[hsl(var(--ds-color-btn-text))] hover:-translate-y-0.5 hover:shadow-[0_12px_28px_hsl(var(--ds-color-accent)/0.4)]\"\n                >\n                  {plan.ctaText || 'Assinar'}\n                </a>\n              </div>\n            );\n          })}\n        </div>\n\n        <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n};\n","type TestimonialItem = {\n  image?: string;\n  text: string;\n  name: string;\n  city: string;\n  rating: number;\n};\n\ntype TestimonialCardV2Props = {\n  item: TestimonialItem;\n};\n\nexport const TestimonialCardV2 = ({ item }: TestimonialCardV2Props) => {\n  return (\n    <div className=\"glass-card relative p-8 pt-16 hover:scale-[1.02] transition-all duration-300\">\n      {/* Avatar posicionado como \"selo\" no topo */}\n      <div className=\"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2\">\n        {item.image ? (\n          <img loading=\"lazy\"\n            src={item.image}\n            className=\"w-20 h-20 rounded-full object-cover border-4 border-card shadow-lg\"\n            alt={item.name}\n          />\n        ) : (\n          <div className=\"w-20 h-20 rounded-full bg-muted border-4 border-card shadow-lg flex items-center justify-center\">\n            <span className=\"text-muted-foreground text-xs\">Foto</span>\n          </div>\n        )}\n      </div>\n\n      {/* Nome e Cidade */}\n      <div className=\"flex items-center justify-center gap-2\">\n        <p className=\"font-bold text-lg md:text-xl text-foreground\">{item.name}</p>\n        <span className=\"text-muted-foreground\">&bull;</span>\n        <p className=\"text-sm md:text-base text-muted-foreground\">{item.city}</p>\n      </div>\n\n      {/* Texto/Citacao */}\n      <div className=\"min-h-[220px] mt-4\">\n        <p className=\"italic text-base md:text-lg text-muted-foreground leading-relaxed text-center\">\n          \"{item.text}\"\n        </p>\n      </div>\n\n      {/* Rating */}\n      <p className=\"text-[hsl(var(--ds-color-star))] mt-4 text-xl md:text-2xl text-center\">\n        {\"★\".repeat(Math.max(0, Math.min(5, Math.floor(Number(item.rating) || 0))))}\n      </p>\n    </div>\n  );\n};\n","import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        outlineAdmin: \"border border-primary/50 bg-transparent hover:bg-primary/10 hover:border-primary hover:text-foreground text-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-xl px-3\",\n        lg: \"h-11 rounded-xl px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n","import * as React from \"react\";\nimport useEmblaCarousel, { type UseEmblaCarouselType } from \"embla-carousel-react\";\nimport { ArrowLeft, ArrowRight } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\n\ntype CarouselApi = UseEmblaCarouselType[1];\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>;\ntype CarouselOptions = UseCarouselParameters[0];\ntype CarouselPlugin = UseCarouselParameters[1];\n\ntype CarouselProps = {\n  opts?: CarouselOptions;\n  plugins?: CarouselPlugin;\n  orientation?: \"horizontal\" | \"vertical\";\n  setApi?: (api: CarouselApi) => void;\n};\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0];\n  api: ReturnType<typeof useEmblaCarousel>[1];\n  scrollPrev: () => void;\n  scrollNext: () => void;\n  canScrollPrev: boolean;\n  canScrollNext: boolean;\n} & CarouselProps;\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null);\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext);\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\");\n  }\n\n  return context;\n}\n\nconst Carousel = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement> & CarouselProps>(\n  ({ orientation = \"horizontal\", opts, setApi, plugins, className, children, ...props }, ref) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins,\n    );\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false);\n    const [canScrollNext, setCanScrollNext] = React.useState(false);\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return;\n      }\n\n      setCanScrollPrev(api.canScrollPrev());\n      setCanScrollNext(api.canScrollNext());\n    }, []);\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev();\n    }, [api]);\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext();\n    }, [api]);\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault();\n          scrollPrev();\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault();\n          scrollNext();\n        }\n      },\n      [scrollPrev, scrollNext],\n    );\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return;\n      }\n\n      setApi(api);\n    }, [api, setApi]);\n\n    React.useEffect(() => {\n      if (!api) {\n        return;\n      }\n\n      onSelect(api);\n      api.on(\"reInit\", onSelect);\n      api.on(\"select\", onSelect);\n\n      return () => {\n        api?.off(\"select\", onSelect);\n      };\n    }, [api, onSelect]);\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation: orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    );\n  },\n);\nCarousel.displayName = \"Carousel\";\n\nconst CarouselContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    const { carouselRef, orientation } = useCarousel();\n\n    return (\n      <div ref={carouselRef} className=\"overflow-hidden\">\n        <div\n          ref={ref}\n          className={cn(\"flex\", orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\", className)}\n          {...props}\n        />\n      </div>\n    );\n  },\n);\nCarouselContent.displayName = \"CarouselContent\";\n\nconst CarouselItem = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    const { orientation } = useCarousel();\n\n    return (\n      <div\n        ref={ref}\n        role=\"group\"\n        aria-roledescription=\"slide\"\n        className={cn(\"min-w-0 shrink-0 grow-0 basis-full\", orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\", className)}\n        {...props}\n      />\n    );\n  },\n);\nCarouselItem.displayName = \"CarouselItem\";\n\nconst CarouselPrevious = React.forwardRef<HTMLButtonElement, React.ComponentProps<typeof Button>>(\n  ({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n    const { orientation, scrollPrev, canScrollPrev } = useCarousel();\n\n    return (\n      <Button\n        ref={ref}\n        variant={variant}\n        size={size}\n        className={cn(\n          \"absolute h-8 w-8 rounded-full\",\n          orientation === \"horizontal\"\n            ? \"-left-12 top-1/2 -translate-y-1/2\"\n            : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n          className,\n        )}\n        disabled={!canScrollPrev}\n        onClick={scrollPrev}\n        {...props}\n      >\n        <ArrowLeft className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Previous slide</span>\n      </Button>\n    );\n  },\n);\nCarouselPrevious.displayName = \"CarouselPrevious\";\n\nconst CarouselNext = React.forwardRef<HTMLButtonElement, React.ComponentProps<typeof Button>>(\n  ({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n    const { orientation, scrollNext, canScrollNext } = useCarousel();\n\n    return (\n      <Button\n        ref={ref}\n        variant={variant}\n        size={size}\n        className={cn(\n          \"absolute h-8 w-8 rounded-full\",\n          orientation === \"horizontal\"\n            ? \"-right-12 top-1/2 -translate-y-1/2\"\n            : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n          className,\n        )}\n        disabled={!canScrollNext}\n        onClick={scrollNext}\n        {...props}\n      >\n        <ArrowRight className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Next slide</span>\n      </Button>\n    );\n  },\n);\nCarouselNext.displayName = \"CarouselNext\";\n\nexport { type CarouselApi, Carousel, CarouselContent, CarouselItem, CarouselPrevious, CarouselNext };\n","import { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { TestimonialCardV2 } from \"./TestimonialCardV2\";\nimport { SectionCTAV2 } from \"./SectionCTAV2\";\nimport {\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n} from \"@/components/ui/carousel\";\n\ntype TestimonialsV2Props = {\n  data: LPContent[\"testimonials\"];\n  lpKey: string;\n  couponCode?: string;\n};\n\nexport const TestimonialsV2 = ({ data, lpKey, couponCode }: TestimonialsV2Props) => {\n  if (!data || data.enabled === false) return null;\n\n  return (\n    <section className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-12 md:mb-20 text-[hsl(var(--ds-color-title))] leading-tight\">\n          {data.title}\n        </h2>\n\n        <Carousel\n          opts={{ align: \"start\" }}\n          className=\"w-full max-w-7xl mx-auto mt-8 md:mt-12\"\n        >\n          <CarouselContent className=\"pt-12 pb-4\">\n            {data.items?.map((item, index) => (\n              <CarouselItem key={index} className=\"pl-4 md:basis-1/2 lg:basis-1/3\">\n                <div className=\"pt-10\">\n                  <TestimonialCardV2 item={item} />\n                </div>\n              </CarouselItem>\n            ))}\n          </CarouselContent>\n          <CarouselPrevious className=\"-left-12 hidden lg:flex w-12 h-12 bg-[hsl(var(--ds-color-accent))] hover:bg-[hsl(var(--ds-color-accent))]/80 text-[hsl(var(--ds-color-btn-text))] border-0 shadow-lg\" />\n          <CarouselNext className=\"-right-12 hidden lg:flex w-12 h-12 bg-[hsl(var(--ds-color-accent))] hover:bg-[hsl(var(--ds-color-accent))]/80 text-[hsl(var(--ds-color-btn-text))] border-0 shadow-lg\" />\n        </Carousel>\n\n        <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n};\n","import { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { SectionCTAV2 } from \"./SectionCTAV2\";\nimport { IconBadgeV2 } from \"./IconBadgeV2\";\nimport { Users, Wrench, Star } from \"lucide-react\";\n\nconst kpiIcons = [Users, Wrench, Star];\n\ntype KPIsV2Props = {\n  data: LPContent[\"kpis\"];\n  lpKey: string;\n  couponCode?: string;\n};\n\nexport const KPIsV2 = ({ data, lpKey, couponCode }: KPIsV2Props) => {\n  if (!data || data.enabled === false) return null;\n  if (!data.items || data.items.length === 0) return null;\n\n  const enabledKpis = data.items.filter((k) => k.enabled);\n  if (enabledKpis.length === 0) return null;\n\n  return (\n    <section className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-10\">\n          {enabledKpis.map((kpi, idx) => {\n            const IconComp = kpiIcons[idx % kpiIcons.length];\n            return (\n            <div key={idx} className=\"text-center glass-card p-10 md:p-14 hover:scale-[1.03] transition-all duration-300\">\n              <div className=\"flex justify-center mb-5\">\n                <IconBadgeV2 icon={IconComp} size=\"lg\" />\n              </div>\n              <p className=\"text-5xl md:text-6xl lg:text-7xl font-bold text-[hsl(var(--ds-color-accent))] mb-4 md:mb-6\">\n                {kpi.value}\n              </p>\n              <p className=\"text-lg md:text-xl lg:text-2xl font-bold text-foreground mb-3\">\n                {kpi.label}\n              </p>\n              {kpi.description && (\n                <p className=\"text-sm md:text-base mt-3 text-muted-foreground leading-relaxed\">\n                  {kpi.description}\n                </p>\n              )}\n            </div>\n            );\n          })}\n        </div>\n\n        <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n};\n","import { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { SectionCTAV2 } from \"./SectionCTAV2\";\n\ntype AboutV2Props = {\n  data: LPContent[\"about\"];\n  lpKey: string;\n  couponCode?: string;\n};\n\nexport const AboutV2 = ({ data, lpKey, couponCode }: AboutV2Props) => {\n  if (!data || data.enabled === false) return null;\n\n  return (\n    <section className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-6xl mx-auto text-center\">\n        <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 md:mb-8 text-[hsl(var(--ds-color-title))] leading-tight\">\n          {data.title}\n        </h2>\n\n        <p className=\"mb-12 md:mb-16 text-base md:text-lg lg:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed\">\n          {data.text}\n        </p>\n\n        {(data.imageDesktop || data.imageMobile) && (\n          <div className=\"w-full max-w-4xl mx-auto rounded-[var(--ds-radius)] aspect-video overflow-hidden glass-card flex items-center justify-center\">\n            <picture>\n              {data.imageDesktop && (\n                <source media=\"(min-width: 768px)\" srcSet={data.imageDesktop} />\n              )}\n              {data.imageMobile && (\n                <source media=\"(max-width: 767px)\" srcSet={data.imageMobile} />\n              )}\n              <img loading=\"lazy\"\n                src={data.imageDesktop || data.imageMobile}\n                className=\"w-full h-full object-cover\"\n                alt=\"Sobre\"\n              />\n            </picture>\n          </div>\n        )}\n\n        <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n};\n","import { LPContent } from \"@/lib/cms-v2/cms-types\";\n\n// SVG oficial do WhatsApp\nconst WhatsAppIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" className={className}>\n    <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z\"/>\n  </svg>\n);\n\ntype ContactV2Props = {\n  data: LPContent[\"contact\"];\n  lpKey: string;\n};\n\nexport const ContactV2 = ({ data, lpKey }: ContactV2Props) => {\n  if (!data || data.enabled === false) return null;\n\n  return (\n    <section className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-4xl mx-auto text-center glass-card p-10 md:p-16 lg:p-20\">\n        <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 md:mb-10 text-[hsl(var(--ds-color-title))] leading-tight\">\n          {data.title}\n        </h2>\n\n        <p className=\"mb-10 md:mb-14 text-base md:text-lg lg:text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed\">\n          {data.subtitle}\n        </p>\n\n        <a\n          href={data.whatsappLink}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"inline-flex items-center justify-center gap-3 w-full sm:w-auto px-12 md:px-16 py-4 md:py-6 rounded-full font-bold text-lg md:text-xl bg-[hsl(var(--ds-color-btn))] text-[hsl(var(--ds-color-btn-text))] hover:scale-105 hover:shadow-[0_16px_32px_hsl(var(--ds-color-accent)/0.4)] shadow-[0_8px_16px_hsl(var(--ds-color-accent)/0.2)] transition-all duration-300\"\n        >\n          <WhatsAppIcon className=\"w-6 h-6\" />\n          Falar no WhatsApp\n        </a>\n      </div>\n    </section>\n  );\n};\n","import { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { SectionCTAV2 } from \"./SectionCTAV2\";\nimport { CircleX, CircleCheck } from \"lucide-react\";\n\ntype BeforeAfterV2Props = {\n  data: LPContent[\"beforeAfter\"];\n  lpKey: string;\n  couponCode?: string;\n};\n\nexport const BeforeAfterV2 = ({ data, lpKey, couponCode }: BeforeAfterV2Props) => {\n  if (!data || data.enabled === false) return null;\n\n  return (\n    <section className=\"w-full py-16 md:py-24 px-4 md:px-6 relative overflow-hidden\">\n      {/* Background Image opcional */}\n      {(data.imageDesktop || data.imageMobile) && (\n        <div className=\"absolute inset-0 -z-10 opacity-10\">\n          <picture>\n            {data.imageDesktop && (\n              <source media=\"(min-width: 768px)\" srcSet={data.imageDesktop} />\n            )}\n            {data.imageMobile && (\n              <source media=\"(max-width: 767px)\" srcSet={data.imageMobile} />\n            )}\n            <img loading=\"lazy\"\n              src={data.imageDesktop || data.imageMobile}\n              className=\"w-full h-full object-cover\"\n              alt=\"Background\"\n            />\n          </picture>\n        </div>\n      )}\n\n      <div className=\"max-w-7xl mx-auto relative\">\n        <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-6 md:mb-8 text-[hsl(var(--ds-color-title))] leading-tight\">\n          {data.title}\n        </h2>\n\n        <p className=\"text-center mb-12 md:mb-20 text-base md:text-lg lg:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed\">\n          {data.subtitle}\n        </p>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-10 lg:gap-12\">\n          {data.images?.map((item, index) => (\n            <div key={index} className=\"glass-card p-8 md:p-12 flex flex-col items-center hover:scale-[1.02] transition-all duration-300\">\n              <div className=\"grid grid-cols-2 gap-4 md:gap-8 w-full\">\n                <div className=\"flex flex-col items-center\">\n                  <span className=\"inline-flex items-center gap-1.5 text-sm md:text-base mb-3 md:mb-4 font-bold text-foreground\">\n                    <CircleX size={16} className=\"text-red-400/70\" />\n                    Antes\n                  </span>\n                  <div className=\"w-full aspect-square rounded-[var(--ds-radius)] overflow-hidden glass-card flex items-center justify-center text-xs md:text-sm\">\n                    {item.before ? (\n                      <img loading=\"lazy\" src={item.before} className=\"w-full h-full object-cover\" alt=\"Antes\" />\n                    ) : (\n                      <span className=\"image-placeholder\">Imagem Antes</span>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"flex flex-col items-center\">\n                  <span className=\"inline-flex items-center gap-1.5 text-sm md:text-base mb-3 md:mb-4 font-bold text-foreground\">\n                    <CircleCheck size={16} className=\"text-[hsl(var(--ds-color-icon))]\" />\n                    Depois\n                  </span>\n                  <div className=\"w-full aspect-square rounded-[var(--ds-radius)] overflow-hidden glass-card flex items-center justify-center text-xs md:text-sm\">\n                    {item.after ? (\n                      <img loading=\"lazy\" src={item.after} className=\"w-full h-full object-cover\" alt=\"Depois\" />\n                    ) : (\n                      <span className=\"image-placeholder\">Imagem Depois</span>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              <p className=\"mt-8 text-center text-base text-muted-foreground leading-relaxed\">\n                {item.caption}\n              </p>\n            </div>\n          ))}\n        </div>\n\n        <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n};\n","import { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { SectionCTAV2 } from \"./SectionCTAV2\";\nimport { Calendar, MapPin, Sparkles, Camera } from \"lucide-react\";\n\nconst processIcons = [Calendar, MapPin, Sparkles, Camera];\n\ntype ProcessV2Props = {\n  data: LPContent[\"process\"];\n  lpKey: string;\n  couponCode?: string;\n};\n\nexport const ProcessV2 = ({ data, lpKey, couponCode }: ProcessV2Props) => {\n  if (!data || data.enabled === false) return null;\n\n  return (\n    <section className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-6 md:mb-8 text-[hsl(var(--ds-color-title))] leading-tight\">\n          {data.title}\n        </h2>\n\n        <p className=\"text-center mb-12 md:mb-20 text-base md:text-lg lg:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed\">\n          {data.subtitle}\n        </p>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8\">\n          {data.steps?.map((step, index) => {\n            const IconComp = processIcons[index % processIcons.length];\n            return (\n            <div key={index} className=\"glass-card p-8 md:p-10 hover:scale-[1.02] transition-all duration-300\">\n              <div className=\"flex items-center gap-3 mb-4\">\n                <IconComp\n                  size={24}\n                  className=\"text-[hsl(var(--ds-color-icon))] flex-shrink-0\"\n                />\n                <h3 className=\"text-xl md:text-2xl font-bold text-foreground leading-tight\">\n                  {step.title}\n                </h3>\n              </div>\n              <p className=\"text-base md:text-lg text-muted-foreground leading-relaxed\">{step.description}</p>\n            </div>\n            );\n          })}\n        </div>\n\n        {(data.imageDesktop || data.imageMobile) && (\n          <div className=\"w-full max-w-5xl mx-auto mt-12 md:mt-20 rounded-[var(--ds-radius)] aspect-video overflow-hidden glass-card\">\n            <picture>\n              {data.imageDesktop && (\n                <source media=\"(min-width: 768px)\" srcSet={data.imageDesktop} />\n              )}\n              {data.imageMobile && (\n                <source media=\"(max-width: 767px)\" srcSet={data.imageMobile} />\n              )}\n              <img loading=\"lazy\"\n                src={data.imageDesktop || data.imageMobile}\n                className=\"w-full h-full object-cover\"\n                alt=\"Processo\"\n              />\n            </picture>\n          </div>\n        )}\n\n        <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n};\n","import { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { Check } from \"lucide-react\";\nimport { SectionCTAV2 } from \"./SectionCTAV2\";\n\ntype ServicesV2Props = {\n  data: LPContent[\"services\"];\n  lpKey: string;\n  couponCode?: string;\n};\n\nexport const ServicesV2 = ({ data, lpKey, couponCode }: ServicesV2Props) => {\n  if (!data || data.enabled === false) return null;\n\n  return (\n    <section className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-12 md:mb-20 text-[hsl(var(--ds-color-title))] leading-tight\">\n          {data.title}\n        </h2>\n\n        <ul className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 md:gap-6\">\n          {data.items?.map((item, index) =>\n            item.enabled !== false ? (\n              <li key={index} className=\"glass-card px-6 md:px-8 py-5 md:py-6 flex items-start gap-4 hover:scale-[1.02] transition-all duration-300\">\n                <div className=\"w-6 h-6 rounded-full bg-[hsl(var(--ds-color-icon))] flex items-center justify-center flex-shrink-0 mt-0.5\">\n                  <Check size={14} className=\"text-[hsl(var(--ds-color-btn-text))] stroke-[3]\" />\n                </div>\n                <span className=\"text-base md:text-lg text-foreground leading-relaxed\">{item.text}</span>\n              </li>\n            ) : null,\n          )}\n        </ul>\n\n        <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n};\n","import { useState } from \"react\";\nimport { Play } from \"lucide-react\";\nimport { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { SectionCTAV2 } from \"./SectionCTAV2\";\n\ntype VideoV2Props = {\n  data: LPContent[\"video\"];\n  lpKey: string;\n  couponCode?: string;\n};\n\nconst convertToEmbedUrl = (url: string): string => {\n  if (!url) return '';\n\n  // YouTube: suporta watch, youtu.be, shorts, embed\n  const youtubeRegex = /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?|shorts)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/\\s]{11})/;\n  const youtubeMatch = url.match(youtubeRegex);\n  if (youtubeMatch) {\n    return `https://www.youtube.com/embed/${youtubeMatch[1]}?autoplay=1`;\n  }\n\n  // Vimeo: vimeo.com/ID -> player.vimeo.com/video/ID\n  const vimeoRegex = /vimeo\\.com\\/(\\d+)/;\n  const vimeoMatch = url.match(vimeoRegex);\n  if (vimeoMatch) {\n    return `https://player.vimeo.com/video/${vimeoMatch[1]}?autoplay=1`;\n  }\n\n  return url;\n};\n\nconst getYouTubeThumbnail = (url: string): string | null => {\n  const youtubeRegex = /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?|shorts)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/\\s]{11})/;\n  const match = url.match(youtubeRegex);\n  return match ? `https://img.youtube.com/vi/${match[1]}/maxresdefault.jpg` : null;\n};\n\nexport const VideoV2 = ({ data, lpKey, couponCode }: VideoV2Props) => {\n  const [playing, setPlaying] = useState(false);\n\n  if (!data || data.enabled === false) return null;\n\n  const embedUrl = convertToEmbedUrl(data.url || '');\n  const thumbnail = getYouTubeThumbnail(data.url || '');\n\n  return (\n    <section className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-5xl mx-auto text-center\">\n        <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 md:mb-8 text-[hsl(var(--ds-color-title))] leading-tight\">\n          {data.title}\n        </h2>\n\n        <p className=\"mb-12 md:mb-16 text-base md:text-lg lg:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed\">\n          {data.subtitle}\n        </p>\n\n        <div className=\"w-full rounded-[var(--ds-radius)] aspect-video overflow-hidden glass-card flex items-center justify-center relative\">\n          {!embedUrl ? (\n            <span className=\"image-placeholder\">Video</span>\n          ) : !playing && thumbnail ? (\n            // Video Facade — thumbnail + play button\n            <button\n              onClick={() => setPlaying(true)}\n              className=\"w-full h-full relative group cursor-pointer\"\n              aria-label=\"Reproduzir video\"\n            >\n              <img\n                loading=\"lazy\"\n                src={thumbnail}\n                alt={data.title || 'Video'}\n                className=\"w-full h-full object-cover\"\n              />\n              {/* Play button overlay */}\n              <div className=\"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-black/30 transition-colors duration-300\">\n                <div className=\"w-16 h-16 md:w-20 md:h-20 rounded-full bg-[hsl(var(--ds-color-icon))] flex items-center justify-center shadow-2xl group-hover:scale-110 transition-transform duration-300\">\n                  <Play className=\"w-7 h-7 md:w-8 md:h-8 text-[hsl(var(--ds-color-btn-text))] ml-1\" />\n                </div>\n              </div>\n            </button>\n          ) : (\n            // iframe real — carrega apenas quando clica\n            <iframe\n              src={embedUrl}\n              className=\"w-full h-full\"\n              allow=\"autoplay; encrypted-media; picture-in-picture\"\n              allowFullScreen\n              title=\"Video\"\n            />\n          )}\n        </div>\n\n        <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n};\n","/**\n * Video Utils V2 — Converte URLs de vídeo para embed (YouTube, Vimeo)\n * Cópia isolada da V1, zero dependências externas\n */\nexport function getEmbedUrlV2(url: string): string {\n  if (!url || typeof url !== 'string') return '';\n\n  const trimmedUrl = url.trim();\n\n  // YouTube Shorts\n  const shortsMatch = trimmedUrl.match(/(?:youtube\\.com\\/shorts\\/|youtu\\.be\\/shorts\\/)([a-zA-Z0-9_-]{11})/);\n  if (shortsMatch) return `https://www.youtube.com/embed/${shortsMatch[1]}`;\n\n  // YouTube watch\n  const ytWatchMatch = trimmedUrl.match(/(?:youtube\\.com\\/watch\\?v=)([a-zA-Z0-9_-]{11})/);\n  if (ytWatchMatch) return `https://www.youtube.com/embed/${ytWatchMatch[1]}`;\n\n  // YouTube short URL\n  const ytShortMatch = trimmedUrl.match(/(?:youtu\\.be\\/)([a-zA-Z0-9_-]{11})/);\n  if (ytShortMatch) return `https://www.youtube.com/embed/${ytShortMatch[1]}`;\n\n  // YouTube embed already\n  if (trimmedUrl.includes('youtube.com/embed/')) return trimmedUrl;\n\n  // Vimeo\n  const vimeoMatch = trimmedUrl.match(/(?:vimeo\\.com\\/)(\\d+)/);\n  if (vimeoMatch) return `https://player.vimeo.com/video/${vimeoMatch[1]}`;\n\n  // Vimeo embed already\n  if (trimmedUrl.includes('player.vimeo.com/video/')) return trimmedUrl;\n\n  return '';\n}\n","import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\";\n\nconst AspectRatio = AspectRatioPrimitive.Root;\n\nexport { AspectRatio };\n","import { useState, useCallback } from \"react\";\nimport { Play } from \"lucide-react\";\nimport { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { getEmbedUrlV2 } from \"@/lib/cms-v2/video-utils-v2\";\nimport { AspectRatio } from \"@/components/ui/aspect-ratio\";\nimport { SectionCTAV2 } from \"./SectionCTAV2\";\nimport {\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n} from \"@/components/ui/carousel\";\n\ntype VideoCarouselV2Props = {\n  data: LPContent[\"videoCarousel\"];\n  lpKey: string;\n  couponCode?: string;\n};\n\nconst getYouTubeThumbnail = (url: string): string | null => {\n  const youtubeRegex = /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?|shorts)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/\\s]{11})/;\n  const match = url.match(youtubeRegex);\n  return match ? `https://img.youtube.com/vi/${match[1]}/maxresdefault.jpg` : null;\n};\n\nconst VideoCard = ({ item, index }: { item: { title: string; url: string }; index: number }) => {\n  const [playing, setPlaying] = useState(false);\n  const embedUrl = getEmbedUrlV2(item.url);\n  const thumbnail = getYouTubeThumbnail(item.url);\n  const autoplayUrl = embedUrl ? `${embedUrl}${embedUrl.includes('?') ? '&' : '?'}autoplay=1` : '';\n\n  const handlePlay = useCallback(() => setPlaying(true), []);\n\n  if (!embedUrl) return null;\n\n  return (\n    <CarouselItem className=\"pl-4 md:basis-1/2 lg:basis-1/3\">\n      <div className=\"glass-card rounded-2xl overflow-hidden shadow-lg border border-border/20 min-h-[250px]\">\n        <AspectRatio ratio={16 / 9}>\n          {!playing && thumbnail ? (\n            <button\n              onClick={handlePlay}\n              className=\"w-full h-full relative group cursor-pointer\"\n              aria-label={`Reproduzir ${item.title || `Video ${index + 1}`}`}\n            >\n              <img\n                loading=\"lazy\"\n                src={thumbnail}\n                alt={item.title || `Video ${index + 1}`}\n                className=\"w-full h-full object-cover\"\n              />\n              <div className=\"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-black/30 transition-colors duration-300\">\n                <div className=\"w-14 h-14 rounded-full bg-[hsl(var(--ds-color-icon))] flex items-center justify-center shadow-2xl group-hover:scale-110 transition-transform duration-300\">\n                  <Play className=\"w-6 h-6 text-[hsl(var(--ds-color-btn-text))] ml-0.5\" />\n                </div>\n              </div>\n            </button>\n          ) : (\n            <iframe\n              src={autoplayUrl || embedUrl}\n              title={item.title || `Video ${index + 1}`}\n              className=\"w-full h-full\"\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n              allowFullScreen\n            />\n          )}\n        </AspectRatio>\n        {item.title && (\n          <div className=\"p-4\">\n            <p className=\"text-sm md:text-base font-medium text-foreground text-center\">\n              {item.title}\n            </p>\n          </div>\n        )}\n      </div>\n    </CarouselItem>\n  );\n};\n\nexport const VideoCarouselV2 = ({ data, lpKey, couponCode }: VideoCarouselV2Props) => {\n  if (!data || data.enabled === false) return null;\n  if (!data?.items || data.items.length === 0) return null;\n\n  return (\n    <section className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-12 md:mb-20 text-[hsl(var(--ds-color-title))] leading-tight\">\n          {data.title}\n        </h2>\n\n        <Carousel\n          opts={{ align: \"start\" }}\n          className=\"w-full max-w-7xl mx-auto mt-8 md:mt-12\"\n        >\n          <CarouselContent className=\"py-4\">\n            {data.items.map((item, index) => (\n              <VideoCard key={index} item={item} index={index} />\n            ))}\n          </CarouselContent>\n          <CarouselPrevious className=\"-left-12 hidden lg:flex w-12 h-12 bg-[hsl(var(--ds-color-accent))] hover:bg-[hsl(var(--ds-color-accent))]/80 text-[hsl(var(--ds-color-btn-text))] border-0 shadow-lg\" />\n          <CarouselNext className=\"-right-12 hidden lg:flex w-12 h-12 bg-[hsl(var(--ds-color-accent))] hover:bg-[hsl(var(--ds-color-accent))]/80 text-[hsl(var(--ds-color-btn-text))] border-0 shadow-lg\" />\n        </Carousel>\n\n        <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n};\n","import { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { SectionCTAV2 } from \"./SectionCTAV2\";\nimport { IconBadgeV2 } from \"./IconBadgeV2\";\nimport { Shield, Clock, ThumbsUp, Star } from \"lucide-react\";\n\nconst whyChooseIcons = [Shield, Clock, ThumbsUp, Star];\n\ntype WhyChooseV2Props = {\n  data: LPContent[\"whyChoose\"];\n  lpKey: string;\n  couponCode?: string;\n};\n\nexport const WhyChooseV2 = ({ data, lpKey, couponCode }: WhyChooseV2Props) => {\n  if (!data || data.enabled === false) return null;\n\n  return (\n    <section className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-6 md:mb-8 text-[hsl(var(--ds-color-title))] leading-tight\">\n          {data.title}\n        </h2>\n\n        <p className=\"text-center mb-12 md:mb-20 text-base md:text-lg lg:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed\">\n          {data.subtitle}\n        </p>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8\">\n          {data.items?.map((item, index) => {\n            const IconComp = whyChooseIcons[index % whyChooseIcons.length];\n            return (\n            <div key={index} className=\"glass-card p-8 md:p-10 hover:scale-[1.02] transition-all duration-300\">\n              <div className=\"flex justify-center mb-5\">\n                <IconBadgeV2 icon={IconComp} />\n              </div>\n              <h3 className=\"text-xl md:text-2xl font-bold mb-4 text-foreground leading-tight\">\n                {item.title}\n              </h3>\n              <p className=\"text-base md:text-lg text-muted-foreground leading-relaxed\">{item.description}</p>\n            </div>\n            );\n          })}\n        </div>\n\n        {(data.imageDesktop || data.imageMobile) && (\n          <div className=\"w-full max-w-5xl mx-auto mt-12 md:mt-20 rounded-[var(--ds-radius)] aspect-video overflow-hidden glass-card\">\n            <picture>\n              {data.imageDesktop && (\n                <source media=\"(min-width: 768px)\" srcSet={data.imageDesktop} />\n              )}\n              {data.imageMobile && (\n                <source media=\"(max-width: 767px)\" srcSet={data.imageMobile} />\n              )}\n              <img loading=\"lazy\"\n                src={data.imageDesktop || data.imageMobile}\n                className=\"w-full h-full object-cover\"\n                alt=\"Por que escolher\"\n              />\n            </picture>\n          </div>\n        )}\n\n        <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n};\n","import { LPContent, ConversionSettings } from \"@/lib/cms-v2/cms-types\";\nimport { applyUTMv2, applyCoupon } from \"@/lib/cms-v2/utm-v2\";\nimport { renderRichText } from \"@/lib/cms-v2/rich-text\";\nimport { CountdownTimerV2 } from \"./CountdownTimerV2\";\n\ntype CTAFinalV2Props = {\n  data: LPContent[\"ctaFinal\"];\n  lpKey: string;\n  couponCode?: string;\n  conversion?: ConversionSettings;\n};\n\n\nexport const CTAFinalV2 = ({ data, lpKey, couponCode, conversion }: CTAFinalV2Props) => {\n  if (!data || data.enabled === false) return null;\n\n  return (\n    <section className=\"w-full py-16 md:py-24 px-4 md:px-6 relative overflow-hidden\">\n      {/* Background Image */}\n      {(data.imageDesktop || data.imageMobile) && (\n        <div className=\"absolute inset-0 z-0\">\n          <picture>\n            {data.imageDesktop && (\n              <source media=\"(min-width: 768px)\" srcSet={data.imageDesktop} />\n            )}\n            {data.imageMobile && (\n              <source media=\"(max-width: 767px)\" srcSet={data.imageMobile} />\n            )}\n            <img loading=\"lazy\"\n              src={data.imageDesktop || data.imageMobile}\n              className=\"w-full h-full object-cover\"\n              alt=\"CTA Background\"\n            />\n          </picture>\n          {/* Overlay escuro para legibilidade */}\n          <div className=\"absolute inset-0 bg-[hsl(var(--ds-color-bg))]/40\" />\n        </div>\n      )}\n\n      <div className=\"max-w-4xl mx-auto text-center glass-card p-10 md:p-16 lg:p-20 relative z-10\">\n        <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 md:mb-10 text-[hsl(var(--ds-color-title))] leading-tight\">\n          {renderRichText(data.title)}\n        </h2>\n\n        <p className=\"mb-6 md:mb-8 text-base md:text-lg lg:text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed\">\n          {renderRichText(data.subtitle)}\n        </p>\n\n        {/* Countdown Timer */}\n        {conversion?.countdown?.enabled && conversion.countdown.showInCtaFinal && (\n          <div className=\"mb-8\">\n            <CountdownTimerV2 settings={conversion.countdown} lpKey={lpKey} />\n          </div>\n        )}\n\n        <a\n          href={applyCoupon(applyUTMv2(data.buttonLink, lpKey), couponCode)}\n          className=\"inline-block w-full sm:w-auto px-12 md:px-16 py-4 md:py-6 rounded-full font-bold text-lg md:text-xl transition-all duration-300 bg-[hsl(var(--ds-color-btn))] text-[hsl(var(--ds-color-btn-text))] hover:scale-105 hover:shadow-[0_16px_32px_hsl(var(--ds-color-accent)/0.4)] shadow-[0_8px_16px_hsl(var(--ds-color-accent)/0.2)]\"\n        >\n          {data.buttonText}\n        </a>\n\n        {/* Trust Text */}\n        {data.trustText && (\n          <p className=\"mt-4 text-sm text-muted-foreground/70\">\n            {renderRichText(data.trustText)}\n          </p>\n        )}\n      </div>\n    </section>\n  );\n};\n","import * as React from \"react\";\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\";\nimport { ChevronDown } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Accordion = AccordionPrimitive.Root;\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item ref={ref} className={cn(\"border-b\", className)} {...props} />\n));\nAccordionItem.displayName = \"AccordionItem\";\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n));\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName;\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n));\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName;\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent };\n","import { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { SectionCTAV2 } from \"./SectionCTAV2\";\nimport {\n  Accordion,\n  AccordionContent,\n  AccordionItem,\n  AccordionTrigger,\n} from \"@/components/ui/accordion\";\n\ntype FAQV2Props = {\n  data: LPContent[\"faq\"];\n  lpKey: string;\n  couponCode?: string;\n};\n\nexport const FAQV2 = ({ data, lpKey, couponCode }: FAQV2Props) => {\n  if (!data || data.enabled === false) return null;\n\n  return (\n    <section className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-4xl mx-auto\">\n        <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-12 md:mb-20 text-[hsl(var(--ds-color-title))] leading-tight\">\n          {data.title}\n        </h2>\n\n        <div className=\"glass-card p-6 md:p-10 lg:p-12\">\n          <Accordion type=\"single\" collapsible className=\"space-y-4 md:space-y-6\">\n            {data.items?.map((item, index) => (\n              <AccordionItem\n                key={index}\n                value={`item-${index}`}\n                className=\"border-b border-border pb-2\"\n              >\n                <AccordionTrigger className=\"text-left text-base md:text-lg lg:text-xl font-bold text-foreground hover:text-[hsl(var(--ds-color-accent))] transition-colors py-4 md:py-5\">\n                  {item.question}\n                </AccordionTrigger>\n                <AccordionContent className=\"text-muted-foreground text-sm md:text-base lg:text-lg leading-relaxed pt-3 pb-5\">\n                  {item.answer}\n                </AccordionContent>\n              </AccordionItem>\n            ))}\n          </Accordion>\n        </div>\n\n        <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n};\n","import { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { Check } from \"lucide-react\";\nimport { SectionCTAV2 } from \"./SectionCTAV2\";\n\ntype ForWhomV2Props = {\n  data: LPContent[\"forWhom\"];\n  lpKey: string;\n  couponCode?: string;\n};\n\nexport const ForWhomV2 = ({ data, lpKey, couponCode }: ForWhomV2Props) => {\n  if (!data || data.enabled === false) return null;\n\n  return (\n    <section className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"grid md:grid-cols-2 gap-10 md:gap-16 items-center\">\n          <div>\n            {data.imageDesktop && (\n              <img\n                src={data.imageDesktop}\n                alt={data.title}\n                loading=\"lazy\"\n                className=\"w-full h-auto rounded-[var(--ds-radius)] glass-card object-cover hidden md:block aspect-[4/3]\"\n              />\n            )}\n\n            {data.imageMobile && (\n              <img\n                src={data.imageMobile}\n                alt={data.title}\n                loading=\"lazy\"\n                className=\"w-full h-auto rounded-[var(--ds-radius)] glass-card object-cover block md:hidden aspect-square\"\n              />\n            )}\n          </div>\n\n          <div>\n            <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 md:mb-8 text-[hsl(var(--ds-color-title))] leading-tight\">\n              {data.title}\n            </h2>\n            <p className=\"text-base md:text-lg lg:text-xl text-muted-foreground mb-8 md:mb-12 leading-relaxed\">\n              {data.subtitle}\n            </p>\n\n            <div className=\"space-y-4 md:space-y-6\">\n              {data.items?.map((item, index) => (\n                <div key={index} className=\"flex items-start gap-4 md:gap-5\">\n                  <div className=\"flex-shrink-0 w-8 h-8 md:w-9 md:h-9 rounded-full flex items-center justify-center mt-0.5 bg-[hsl(var(--ds-color-icon))] shadow-[0_2px_8px_hsl(var(--ds-color-accent)/0.3)]\">\n                    <Check\n                      className=\"w-4 h-4 md:w-5 md:h-5 text-[hsl(var(--ds-color-btn-text))] stroke-[3]\"\n                    />\n                  </div>\n                  <p className=\"text-base md:text-lg text-foreground leading-relaxed font-medium\">\n                    {item}\n                  </p>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n};\n","import { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { Instagram, Facebook, Linkedin, Youtube, Music2 } from \"lucide-react\";\n\ntype FooterV2Props = {\n  data: LPContent[\"footer\"];\n  lpKey: string;\n};\n\nconst socialIcons: Record<string, any> = {\n  instagram: Instagram,\n  facebook: Facebook,\n  linkedin: Linkedin,\n  youtube: Youtube,\n  tiktok: Music2,\n};\n\nexport const FooterV2 = ({ data, lpKey }: FooterV2Props) => {\n  if (!data || data.enabled === false) return null;\n\n  return (\n    <footer className=\"w-full py-16 md:py-24 px-4 md:px-6 border-t border-border backdrop-blur-lg\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Logo */}\n        {(data.logoDesktop || data.logoMobile || data.logo) && (\n          <div className=\"w-full flex justify-center mb-10 md:mb-12\">\n            <picture>\n              {data.logoDesktop && (\n                <source media=\"(min-width: 768px)\" srcSet={data.logoDesktop} />\n              )}\n              {data.logoMobile && (\n                <source media=\"(max-width: 767px)\" srcSet={data.logoMobile} />\n              )}\n              <img loading=\"lazy\"\n                src={data.logoDesktop || data.logoMobile || data.logo}\n                alt=\"Logo\"\n                className=\"h-12 md:h-14 object-contain\"\n              />\n            </picture>\n          </div>\n        )}\n\n        {/* Navigation Links */}\n        {data.links && data.links.length > 0 && (\n          <div className=\"flex flex-wrap justify-center gap-6 md:gap-8 mb-8 md:mb-10\">\n            {data.links.filter(link => link.enabled !== false).map((link, index) => (\n              <a\n                key={index}\n                href={link.url}\n                className=\"text-sm md:text-base text-muted-foreground hover:text-[hsl(var(--ds-color-accent))] transition-colors duration-300 font-medium\"\n              >\n                {link.text}\n              </a>\n            ))}\n          </div>\n        )}\n\n        {/* Privacy & Terms */}\n        <div className=\"text-center text-sm md:text-base space-y-2 md:space-y-3 text-muted-foreground mb-8 md:mb-10\">\n          {data.privacy?.enabled !== false && (\n            data.privacy?.hasLink && data.privacy?.url ? (\n              <a\n                href={data.privacy.url}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"block hover:text-[hsl(var(--ds-color-accent))] transition-colors duration-300\"\n              >\n                {data.privacy.text || 'Política de Privacidade'}\n              </a>\n            ) : data.privacy?.text ? (\n              <p>{data.privacy.text}</p>\n            ) : null\n          )}\n\n          {data.terms?.enabled !== false && (\n            data.terms?.hasLink && data.terms?.url ? (\n              <a\n                href={data.terms.url}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"block hover:text-[hsl(var(--ds-color-accent))] transition-colors duration-300\"\n              >\n                {data.terms.text || 'Termos de Uso'}\n              </a>\n            ) : data.terms?.text ? (\n              <p>{data.terms.text}</p>\n            ) : null\n          )}\n\n          {data.cnpj?.enabled !== false && data.cnpj?.text && (\n            <p>{data.cnpj.text}</p>\n          )}\n        </div>\n\n        {/* Social Icons */}\n        {data.socials && (\n          <div className=\"flex flex-wrap justify-center gap-6 md:gap-8 mt-8 md:mt-10\">\n            {Object.entries(data.socials).map(([key, social]) => {\n              if (!social.enabled || !social.url) return null;\n              const IconComponent = socialIcons[key];\n              if (!IconComponent) return null;\n\n              return (\n                <a\n                  key={key}\n                  href={social.url}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-muted-foreground hover:text-[hsl(var(--ds-color-accent))] transition-colors duration-300\"\n                  aria-label={key}\n                >\n                  <IconComponent className=\"w-6 h-6\" />\n                </a>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    </footer>\n  );\n};\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-xl border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm transition-all duration-200\",\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nInput.displayName = \"Input\";\n\nexport { Input };\n","import * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst labelVariants = cva(\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\");\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> & VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />\n));\nLabel.displayName = LabelPrimitive.Root.displayName;\n\nexport { Label };\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport interface TextareaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  );\n});\nTextarea.displayName = \"Textarea\";\n\nexport { Textarea };\n","import * as React from \"react\";\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\";\nimport { Check, Minus } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, checked, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    checked={checked}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=indeterminate]:bg-primary data-[state=indeterminate]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n      className,\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator className={cn(\"flex items-center justify-center text-current\")}>\n      {checked === \"indeterminate\" ? (\n        <Minus className=\"h-4 w-4\" />\n      ) : (\n        <Check className=\"h-4 w-4\" />\n      )}\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n));\nCheckbox.displayName = CheckboxPrimitive.Root.displayName;\n\nexport { Checkbox };\n","import * as React from \"react\";\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Select = SelectPrimitive.Root;\n\nconst SelectGroup = SelectPrimitive.Group;\n\nconst SelectValue = SelectPrimitive.Value;\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n));\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n));\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n));\nSelectScrollDownButton.displayName = SelectPrimitive.ScrollDownButton.displayName;\n\ninterface SelectContentProps extends React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content> {\n  /** Se true, aplica tema Admin (dark). Default: auto-detect baseado na URL */\n  useAdminTheme?: boolean;\n}\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  SelectContentProps\n>(({ className, children, position = \"popper\", useAdminTheme, ...props }, ref) => {\n  // Auto-detect: se estiver em rota /admin, usa tema admin; senão, não usa\n  const isAdminRoute = typeof window !== 'undefined' && window.location.pathname.startsWith('/admin');\n  const shouldUseAdminTheme = useAdminTheme ?? isAdminRoute;\n  \n  const content = (\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-[200] max-h-96 min-w-[8rem] overflow-hidden rounded-md shadow-2xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        // Estilos usando tokens semânticos - funciona em light e dark\n        \"bg-popover border border-border text-popover-foreground\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className,\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\",\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  );\n\n  return (\n    <SelectPrimitive.Portal>\n      {shouldUseAdminTheme ? (\n        <div className=\"theme-admin\">{content}</div>\n      ) : (\n        content\n      )}\n    </SelectPrimitive.Portal>\n  );\n});\nSelectContent.displayName = SelectPrimitive.Content.displayName;\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label ref={ref} className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)} {...props} />\n));\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      // Hover/focus usando tokens semânticos\n      \"focus:bg-muted focus:text-foreground hover:bg-muted hover:text-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n));\nSelectItem.displayName = SelectPrimitive.Item.displayName;\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} {...props} />\n));\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n};\n","/**\n * Máscaras para campos de formulário V2\n * Cópia isolada da V1, zero dependências externas\n */\n\nexport const maskPhone = (value: string): string => {\n  const numbers = value.replace(/\\D/g, '');\n  const limited = numbers.slice(0, 11);\n\n  if (limited.length <= 2) return limited;\n  if (limited.length <= 7) return `(${limited.slice(0, 2)}) ${limited.slice(2)}`;\n  return `(${limited.slice(0, 2)}) ${limited.slice(2, 7)}-${limited.slice(7)}`;\n};\n\nexport const maskCPF = (value: string): string => {\n  const numbers = value.replace(/\\D/g, '');\n  const limited = numbers.slice(0, 11);\n\n  if (limited.length <= 3) return limited;\n  if (limited.length <= 6) return `${limited.slice(0, 3)}.${limited.slice(3)}`;\n  if (limited.length <= 9) return `${limited.slice(0, 3)}.${limited.slice(3, 6)}.${limited.slice(6)}`;\n  return `${limited.slice(0, 3)}.${limited.slice(3, 6)}.${limited.slice(6, 9)}-${limited.slice(9)}`;\n};\n\nexport const maskDate = (value: string): string => {\n  const numbers = value.replace(/\\D/g, '');\n  const limited = numbers.slice(0, 8);\n\n  if (limited.length <= 2) return limited;\n  if (limited.length <= 4) return `${limited.slice(0, 2)}/${limited.slice(2)}`;\n  return `${limited.slice(0, 2)}/${limited.slice(2, 4)}/${limited.slice(4)}`;\n};\n\nexport const maskCEP = (value: string): string => {\n  const numbers = value.replace(/\\D/g, '');\n  const limited = numbers.slice(0, 8);\n\n  if (limited.length <= 5) return limited;\n  return `${limited.slice(0, 5)}-${limited.slice(5)}`;\n};\n\nexport const maskWhatsApp = maskPhone;\n\nexport const getMaskFunction = (type: string): ((value: string) => string) | null => {\n  switch (type) {\n    case 'phone':\n    case 'whatsapp':\n      return maskPhone;\n    case 'cpf':\n      return maskCPF;\n    case 'date':\n      return maskDate;\n    case 'cep':\n      return maskCEP;\n    default:\n      return null;\n  }\n};\n","import * as React from \"react\";\n\nimport type { ToastActionElement, ToastProps } from \"@/components/ui/toast\";\n\nconst TOAST_LIMIT = 1;\nconst TOAST_REMOVE_DELAY = 1000000;\n\ntype ToasterToast = ToastProps & {\n  id: string;\n  title?: React.ReactNode;\n  description?: React.ReactNode;\n  action?: ToastActionElement;\n};\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const;\n\nlet count = 0;\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER;\n  return count.toString();\n}\n\ntype ActionType = typeof actionTypes;\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"];\n      toast: ToasterToast;\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"];\n      toast: Partial<ToasterToast>;\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"];\n      toastId?: ToasterToast[\"id\"];\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"];\n      toastId?: ToasterToast[\"id\"];\n    };\n\ninterface State {\n  toasts: ToasterToast[];\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>();\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return;\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId);\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    });\n  }, TOAST_REMOVE_DELAY);\n\n  toastTimeouts.set(toastId, timeout);\n};\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      };\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) => (t.id === action.toast.id ? { ...t, ...action.toast } : t)),\n      };\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action;\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId);\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id);\n        });\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      };\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        };\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      };\n  }\n};\n\nconst listeners: Array<(state: State) => void> = [];\n\nlet memoryState: State = { toasts: [] };\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action);\n  listeners.forEach((listener) => {\n    listener(memoryState);\n  });\n}\n\ntype Toast = Omit<ToasterToast, \"id\">;\n\nfunction toast({ ...props }: Toast) {\n  const id = genId();\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    });\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id });\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss();\n      },\n    },\n  });\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  };\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState);\n\n  React.useEffect(() => {\n    listeners.push(setState);\n    return () => {\n      const index = listeners.indexOf(setState);\n      if (index > -1) {\n        listeners.splice(index, 1);\n      }\n    };\n  }, [state]);\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  };\n}\n\nexport { useToast, toast };\n","import { useState } from \"react\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { Loader2, CheckCircle2 } from \"lucide-react\";\nimport { maskCEP } from \"@/lib/cms-v2/form-masks-v2\";\nimport { toast } from \"@/hooks/use-toast\";\nimport { cn } from \"@/lib/utils\";\n\ninterface ViaCEPResponse {\n  cep: string;\n  logradouro: string;\n  complemento: string;\n  bairro: string;\n  localidade: string;\n  uf: string;\n  erro?: boolean;\n}\n\ninterface AddressData {\n  logradouro: string;\n  bairro: string;\n  cidade: string;\n  uf: string;\n}\n\ninterface CEPFieldWithButtonV2Props {\n  value: string;\n  onChange: (value: string) => void;\n  onAddressFound?: (address: AddressData) => void;\n  onAddressFieldsChange?: (fields: { bairro: string; cidade: string; uf: string }) => void;\n  error?: string;\n  placeholder?: string;\n}\n\nexport const CEPFieldWithButtonV2 = ({\n  value,\n  onChange,\n  onAddressFound,\n  onAddressFieldsChange,\n  error,\n  placeholder = \"00000-000\",\n}: CEPFieldWithButtonV2Props) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isValid, setIsValid] = useState(false);\n  const [bairro, setBairro] = useState(\"\");\n  const [cidade, setCidade] = useState(\"\");\n  const [uf, setUf] = useState(\"\");\n\n  const handleChange = (newValue: string) => {\n    setIsValid(false);\n    onChange(maskCEP(newValue));\n  };\n\n  const handleBairroChange = (val: string) => {\n    setBairro(val);\n    onAddressFieldsChange?.({ bairro: val, cidade, uf });\n  };\n\n  const handleCidadeChange = (val: string) => {\n    setCidade(val);\n    onAddressFieldsChange?.({ bairro, cidade: val, uf });\n  };\n\n  const handleUfChange = (val: string) => {\n    setUf(val.toUpperCase().slice(0, 2));\n    onAddressFieldsChange?.({ bairro, cidade, uf: val.toUpperCase().slice(0, 2) });\n  };\n\n  const handleSearch = async () => {\n    const cleanCEP = value.replace(/\\D/g, '');\n\n    if (cleanCEP.length !== 8) {\n      toast({\n        title: \"CEP inválido\",\n        description: \"Digite um CEP com 8 dígitos.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      const response = await fetch(`https://viacep.com.br/ws/${cleanCEP}/json/`);\n      const data: ViaCEPResponse = await response.json();\n\n      if (data.erro) {\n        toast({\n          title: \"CEP não encontrado\",\n          description: \"Verifique o CEP digitado e tente novamente.\",\n          variant: \"destructive\",\n        });\n        setIsValid(false);\n        return;\n      }\n\n      setIsValid(true);\n      const newAddress: AddressData = {\n        logradouro: data.logradouro || '',\n        bairro: data.bairro || '',\n        cidade: data.localidade || '',\n        uf: data.uf || '',\n      };\n\n      setBairro(newAddress.bairro);\n      setCidade(newAddress.cidade);\n      setUf(newAddress.uf);\n\n      toast({\n        title: \"Endereço encontrado!\",\n        description: `${data.bairro} - ${data.localidade}/${data.uf}`,\n      });\n\n      onAddressFound?.(newAddress);\n      onAddressFieldsChange?.({\n        bairro: newAddress.bairro,\n        cidade: newAddress.cidade,\n        uf: newAddress.uf,\n      });\n    } catch (err) {\n      console.error('[CEPFieldV2] Error fetching:', err);\n      toast({\n        title: \"Erro ao buscar CEP\",\n        description: \"Tente novamente em alguns instantes.\",\n        variant: \"destructive\",\n      });\n      setIsValid(false);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const inputClasses = cn(\n    \"bg-[hsl(var(--ds-color-glass)/var(--ds-glass-opacity))] border-[hsl(var(--ds-border-color)/var(--ds-border-opacity))] text-foreground placeholder:text-muted-foreground focus:border-primary focus:ring-primary\",\n    error && \"border-destructive focus:border-destructive\",\n    isValid && \"border-emerald-500 focus:border-emerald-500\"\n  );\n\n  const addressInputClasses = cn(\n    \"bg-[hsl(var(--ds-color-glass)/var(--ds-glass-opacity))] border-[hsl(var(--ds-border-color)/var(--ds-border-opacity))] text-foreground placeholder:text-muted-foreground focus:border-primary focus:ring-primary\"\n  );\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"flex gap-2\">\n        <div className=\"relative flex-1\">\n          <Input\n            type=\"text\"\n            inputMode=\"numeric\"\n            value={value}\n            onChange={(e) => handleChange(e.target.value)}\n            placeholder={placeholder}\n            className={inputClasses}\n            maxLength={9}\n          />\n          {isValid && (\n            <CheckCircle2 className=\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-emerald-500\" />\n          )}\n        </div>\n        <Button\n          type=\"button\"\n          variant=\"default\"\n          onClick={handleSearch}\n          disabled={isLoading || value.replace(/\\D/g, '').length !== 8}\n          className=\"shrink-0 px-4\"\n        >\n          {isLoading ? (\n            <Loader2 className=\"w-4 h-4 animate-spin\" />\n          ) : (\n            \"Buscar\"\n          )}\n        </Button>\n      </div>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n        <div className=\"space-y-1.5\">\n          <Label className=\"text-sm text-muted-foreground\">Bairro</Label>\n          <Input\n            type=\"text\"\n            value={bairro}\n            onChange={(e) => handleBairroChange(e.target.value)}\n            placeholder=\"Bairro\"\n            className={addressInputClasses}\n          />\n        </div>\n        <div className=\"flex gap-2\">\n          <div className=\"flex-1 space-y-1.5\">\n            <Label className=\"text-sm text-muted-foreground\">Cidade</Label>\n            <Input\n              type=\"text\"\n              value={cidade}\n              onChange={(e) => handleCidadeChange(e.target.value)}\n              placeholder=\"Cidade\"\n              className={addressInputClasses}\n            />\n          </div>\n          <div className=\"w-20 space-y-1.5\">\n            <Label className=\"text-sm text-muted-foreground\">UF</Label>\n            <Input\n              type=\"text\"\n              value={uf}\n              onChange={(e) => handleUfChange(e.target.value)}\n              placeholder=\"UF\"\n              maxLength={2}\n              className={addressInputClasses}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { FormField } from \"@/lib/cms-v2/cms-types\";\nimport { getMaskFunction } from \"@/lib/cms-v2/form-masks-v2\";\nimport { cn } from \"@/lib/utils\";\nimport { CEPFieldWithButtonV2 } from \"./CEPFieldWithButtonV2\";\n\n// SVG oficial do WhatsApp\nconst WhatsAppIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" className={className}>\n    <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z\"/>\n  </svg>\n);\n\ninterface DynamicFormFieldV2Props {\n  field: FormField;\n  value: string;\n  onChange: (value: string) => void;\n  onAddressFound?: (address: { logradouro: string; bairro: string; cidade: string; uf: string }) => void;\n  onAddressFieldsChange?: (fields: { bairro: string; cidade: string; uf: string }) => void;\n  error?: string;\n}\n\nexport const DynamicFormFieldV2 = ({\n  field,\n  value,\n  onChange,\n  onAddressFound,\n  onAddressFieldsChange,\n  error,\n}: DynamicFormFieldV2Props) => {\n  const handleChange = (newValue: string) => {\n    const maskFn = getMaskFunction(field.type);\n    if (maskFn) {\n      onChange(maskFn(newValue));\n    } else {\n      onChange(newValue);\n    }\n  };\n\n  const inputClasses = cn(\n    \"bg-[hsl(var(--ds-color-glass)/var(--ds-glass-opacity))] border-[hsl(var(--ds-border-color)/var(--ds-border-opacity))] text-foreground placeholder:text-muted-foreground focus:border-[hsl(var(--ds-color-accent))] focus:ring-[hsl(var(--ds-color-accent)/0.3)] transition-colors duration-200\",\n    error && \"border-destructive focus:border-destructive\"\n  );\n\n  // Paragraph — static text, no data collection\n  if (field.type === 'paragraph') {\n    return (\n      <div className={cn(\n        \"w-full\",\n        field.width === '50%' ? 'md:w-[calc(50%-0.5rem)]' : ''\n      )}>\n        <p className=\"text-sm text-muted-foreground py-3 px-4 bg-muted/20 rounded-lg border border-border/30\">\n          {field.content || field.label}\n        </p>\n      </div>\n    );\n  }\n\n  const renderField = () => {\n    switch (field.type) {\n      case 'textarea':\n        return (\n          <Textarea\n            id={field.id}\n            value={value}\n            onChange={(e) => handleChange(e.target.value)}\n            placeholder={field.placeholder}\n            className={cn(inputClasses, \"min-h-[100px] resize-none\")}\n          />\n        );\n\n      case 'select':\n        return (\n          <Select value={value} onValueChange={onChange}>\n            <SelectTrigger className={inputClasses}>\n              <SelectValue placeholder={field.placeholder || 'Selecione...'} />\n            </SelectTrigger>\n            <SelectContent>\n              {field.options?.map((option) => (\n                <SelectItem key={option} value={option}>\n                  {option}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        );\n\n      case 'checkbox': {\n        const selectedValues = value ? value.split(',').filter(Boolean) : [];\n        return (\n          <div className=\"space-y-2\">\n            {field.options?.map((option) => (\n              <label\n                key={option}\n                className=\"flex items-center gap-2 cursor-pointer hover:bg-muted/10 p-2 rounded-md transition-colors\"\n              >\n                <Checkbox\n                  checked={selectedValues.includes(option)}\n                  onCheckedChange={(checked) => {\n                    let newValues = [...selectedValues];\n                    if (checked) {\n                      if (!field.maxSelect || newValues.length < field.maxSelect) {\n                        newValues.push(option);\n                      }\n                    } else {\n                      newValues = newValues.filter(v => v !== option);\n                    }\n                    onChange(newValues.join(','));\n                  }}\n                />\n                <span className=\"text-sm text-foreground\">{option}</span>\n              </label>\n            ))}\n            {(field.minSelect || field.maxSelect) && (\n              <p className=\"text-xs text-muted-foreground mt-1\">\n                {field.minSelect && field.maxSelect\n                  ? `Selecione de ${field.minSelect} a ${field.maxSelect} opções`\n                  : field.minSelect\n                    ? `Selecione pelo menos ${field.minSelect} opção(ões)`\n                    : `Selecione no máximo ${field.maxSelect} opção(ões)`\n                }\n              </p>\n            )}\n          </div>\n        );\n      }\n\n      case 'cep':\n        return (\n          <CEPFieldWithButtonV2\n            value={value}\n            onChange={onChange}\n            onAddressFound={onAddressFound}\n            onAddressFieldsChange={onAddressFieldsChange}\n            error={error}\n            placeholder={field.placeholder || '00000-000'}\n          />\n        );\n\n      case 'whatsapp':\n        return (\n          <div className=\"relative\">\n            <Input\n              id={field.id}\n              type=\"tel\"\n              inputMode=\"tel\"\n              value={value}\n              onChange={(e) => handleChange(e.target.value)}\n              placeholder={field.placeholder || '(00) 00000-0000'}\n              className={cn(inputClasses, \"pl-10\")}\n              maxLength={15}\n            />\n            <WhatsAppIcon className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#25D366]\" />\n          </div>\n        );\n\n      case 'date':\n        return (\n          <Input\n            id={field.id}\n            type=\"text\"\n            inputMode=\"numeric\"\n            value={value}\n            onChange={(e) => handleChange(e.target.value)}\n            placeholder={field.placeholder || 'DD/MM/AAAA'}\n            className={inputClasses}\n            maxLength={10}\n          />\n        );\n\n      case 'phone':\n        return (\n          <Input\n            id={field.id}\n            type=\"tel\"\n            inputMode=\"tel\"\n            value={value}\n            onChange={(e) => handleChange(e.target.value)}\n            placeholder={field.placeholder || '(00) 00000-0000'}\n            className={inputClasses}\n            maxLength={15}\n          />\n        );\n\n      case 'cpf':\n        return (\n          <Input\n            id={field.id}\n            type=\"text\"\n            inputMode=\"numeric\"\n            value={value}\n            onChange={(e) => handleChange(e.target.value)}\n            placeholder={field.placeholder || '000.000.000-00'}\n            className={inputClasses}\n            maxLength={14}\n          />\n        );\n\n      case 'email':\n        return (\n          <Input\n            id={field.id}\n            type=\"email\"\n            inputMode=\"email\"\n            value={value}\n            onChange={(e) => handleChange(e.target.value)}\n            placeholder={field.placeholder}\n            className={inputClasses}\n          />\n        );\n\n      case 'text':\n      default:\n        return (\n          <Input\n            id={field.id}\n            type=\"text\"\n            value={value}\n            onChange={(e) => handleChange(e.target.value)}\n            placeholder={field.placeholder}\n            className={inputClasses}\n          />\n        );\n    }\n  };\n\n  return (\n    <div className={cn(\n      \"space-y-2\",\n      field.width === '50%' ? 'w-full md:w-[calc(50%-0.5rem)]' : 'w-full'\n    )}>\n      <Label htmlFor={field.id} className=\"text-sm font-medium text-foreground\">\n        {field.label}\n        {field.required && <span className=\"text-destructive ml-1\">*</span>}\n      </Label>\n      {renderField()}\n      {error && (\n        <p className=\"text-xs text-destructive\">{error}</p>\n      )}\n    </div>\n  );\n};\n","import { useState } from \"react\";\nimport { LPContent, FormField } from \"@/lib/cms-v2/cms-types\";\nimport { SectionCTAV2 } from \"./SectionCTAV2\";\nimport { DynamicFormFieldV2 } from \"./form/DynamicFormFieldV2\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { toast } from \"@/hooks/use-toast\";\nimport { Loader2, CheckCircle, Send } from \"lucide-react\";\n\ninterface FormV2Props {\n  data: LPContent['form'];\n  lpKey: string;\n  couponCode?: string;\n}\n\nexport const FormV2 = ({ data, lpKey, couponCode }: FormV2Props) => {\n  const [formValues, setFormValues] = useState<Record<string, string>>({});\n  const [errors, setErrors] = useState<Record<string, string>>({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showSuccessCard, setShowSuccessCard] = useState(false);\n\n  if (!data || data.enabled === false) return null;\n\n  const fields = data?.fields || [];\n\n  const handleFieldChange = (fieldId: string, value: string) => {\n    setFormValues(prev => ({ ...prev, [fieldId]: value }));\n    if (errors[fieldId]) {\n      setErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[fieldId];\n        return newErrors;\n      });\n    }\n  };\n\n  const handleAddressFound = (address: { logradouro: string; bairro: string; cidade: string; uf: string }) => {\n    setFormValues(prev => ({\n      ...prev,\n      cep_logradouro: address.logradouro,\n      cep_bairro: address.bairro,\n      cep_cidade: address.cidade,\n      cep_uf: address.uf,\n    }));\n\n    const addressMappings: Record<string, keyof typeof address> = {\n      'logradouro': 'logradouro',\n      'rua': 'logradouro',\n      'endereco': 'logradouro',\n      'bairro': 'bairro',\n      'cidade': 'cidade',\n      'uf': 'uf',\n      'estado': 'uf',\n    };\n\n    fields.forEach(field => {\n      const fieldIdLower = field.id.toLowerCase();\n      const labelLower = field.label.toLowerCase();\n\n      for (const [key, addressKey] of Object.entries(addressMappings)) {\n        if (fieldIdLower.includes(key) || labelLower.includes(key)) {\n          const value = address[addressKey];\n          if (value) {\n            setFormValues(prev => ({ ...prev, [field.id]: value }));\n          }\n          break;\n        }\n      }\n    });\n  };\n\n  const handleAddressFieldsChange = (addressFields: { bairro: string; cidade: string; uf: string }) => {\n    setFormValues(prev => ({\n      ...prev,\n      cep_bairro: addressFields.bairro,\n      cep_cidade: addressFields.cidade,\n      cep_uf: addressFields.uf,\n    }));\n  };\n\n  const validateForm = (): boolean => {\n    const newErrors: Record<string, string> = {};\n\n    fields.forEach((field: FormField) => {\n      if (field.type === 'paragraph') return;\n\n      const value = formValues[field.id]?.trim() || '';\n\n      if (field.required && !value) {\n        newErrors[field.id] = 'Campo obrigatório';\n        return;\n      }\n\n      if (!value) return;\n\n      switch (field.type) {\n        case 'email':\n          if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)) {\n            newErrors[field.id] = 'E-mail inválido';\n          }\n          break;\n        case 'phone':\n        case 'whatsapp':\n          if (value.replace(/\\D/g, '').length < 10) {\n            newErrors[field.id] = 'Telefone inválido';\n          }\n          break;\n        case 'cpf':\n          if (value.replace(/\\D/g, '').length !== 11) {\n            newErrors[field.id] = 'CPF inválido';\n          }\n          break;\n        case 'cep':\n          if (value.replace(/\\D/g, '').length !== 8) {\n            newErrors[field.id] = 'CEP inválido';\n          }\n          break;\n        case 'checkbox': {\n          const selectedCount = value.split(',').filter(Boolean).length;\n          if (field.required && selectedCount === 0) {\n            newErrors[field.id] = 'Selecione pelo menos uma opção';\n          } else if (field.minSelect && selectedCount < field.minSelect) {\n            newErrors[field.id] = `Selecione pelo menos ${field.minSelect} opção(ões)`;\n          } else if (field.maxSelect && selectedCount > field.maxSelect) {\n            newErrors[field.id] = `Selecione no máximo ${field.maxSelect} opção(ões)`;\n          }\n          break;\n        }\n      }\n    });\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handlePostSubmit = () => {\n    const action = data?.successAction;\n\n    switch (action?.type) {\n      case 'redirect':\n        if (action.redirectUrl) {\n          window.location.href = action.redirectUrl;\n        }\n        break;\n      case 'success-card':\n        setShowSuccessCard(true);\n        break;\n      case 'toast':\n      default:\n        toast({\n          title: action?.successTitle || \"Enviado com sucesso!\",\n          description: action?.successMessage || \"Entraremos em contato em breve.\",\n        });\n        setFormValues({});\n        setErrors({});\n    }\n  };\n\n  const getDeviceInfo = () => {\n    const ua = navigator.userAgent;\n    const isMobile = /iPhone|iPad|iPod|Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(ua);\n    const deviceType = isMobile ? 'mobile' : 'desktop';\n\n    let os = 'Unknown';\n    if (ua.includes('Windows')) os = 'Windows';\n    else if (ua.includes('Mac OS')) os = 'macOS';\n    else if (ua.includes('Linux')) os = 'Linux';\n    else if (ua.includes('Android')) os = 'Android';\n    else if (ua.includes('iPhone') || ua.includes('iPad')) os = 'iOS';\n\n    return { deviceType, os };\n  };\n\n  /**\n   * Dispara webhook (non-blocking) — se falhar, não afeta o submit principal\n   */\n  const fireWebhook = async (submittedData: Record<string, string>) => {\n    if (!data?.webhookUrl) return;\n\n    try {\n      const utmParams: Record<string, string> = {};\n      const urlParams = new URLSearchParams(window.location.search);\n      urlParams.forEach((value, key) => {\n        if (key.startsWith('utm_')) {\n          utmParams[key] = value;\n        }\n      });\n\n      await fetch(data.webhookUrl, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          lp_key: lpKey,\n          campos: submittedData,\n          utm_params: utmParams,\n          timestamp: new Date().toISOString(),\n          origin_url: window.location.href,\n        }),\n      });\n    } catch (err) {\n      // Non-blocking: silently log\n      console.warn('[FormV2] Webhook failed (non-blocking):', err);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!validateForm()) {\n      toast({\n        title: \"Formulário incompleto\",\n        description: \"Preencha todos os campos obrigatórios.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      const dataToSubmit: Record<string, string> = {};\n      fields.forEach(field => {\n        if (field.type !== 'paragraph' && formValues[field.id]) {\n          dataToSubmit[field.id] = formValues[field.id];\n        }\n      });\n\n      // Hidden CEP address fields\n      if (formValues.cep_logradouro) dataToSubmit.cep_logradouro = formValues.cep_logradouro;\n      if (formValues.cep_bairro) dataToSubmit.cep_bairro = formValues.cep_bairro;\n      if (formValues.cep_cidade) dataToSubmit.cep_cidade = formValues.cep_cidade;\n      if (formValues.cep_uf) dataToSubmit.cep_uf = formValues.cep_uf;\n\n      const { deviceType, os } = getDeviceInfo();\n      const metadata = {\n        device_type: deviceType,\n        device_os: os,\n        submitted_at_local: new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }),\n      };\n\n      const { error } = await supabase.functions.invoke('submit-lp-form', {\n        body: {\n          lp_id: lpKey,\n          data: dataToSubmit,\n          metadata,\n          origin_url: window.location.href,\n        },\n      });\n      if (error) throw error;\n\n      // Fire webhook (non-blocking)\n      fireWebhook(dataToSubmit);\n\n      handlePostSubmit();\n    } catch (error) {\n      console.error('[FormV2] Submit error:', error);\n      toast({\n        title: \"Erro ao enviar\",\n        description: \"Tente novamente em alguns instantes.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Success Card View\n  if (showSuccessCard) {\n    return (\n      <section id=\"formulario\" className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n        <div className=\"max-w-2xl mx-auto\">\n          <div className=\"glass-card p-10 md:p-16 text-center\">\n            {data?.successAction?.successImage ? (\n              <img loading=\"lazy\"\n                src={data.successAction.successImage}\n                alt=\"Sucesso\"\n                className=\"w-32 h-32 object-contain mx-auto mb-6\"\n              />\n            ) : (\n              <CheckCircle className=\"w-20 h-20 text-emerald-500 mx-auto mb-6\" />\n            )}\n            <h2 className=\"text-2xl md:text-3xl font-bold text-foreground mb-4\">\n              {data?.successAction?.successTitle || 'Obrigado!'}\n            </h2>\n            <p className=\"text-lg text-muted-foreground\">\n              {data?.successAction?.successMessage || 'Entraremos em contato em breve.'}\n            </p>\n          </div>\n        </div>\n      </section>\n    );\n  }\n\n  return (\n    <section id=\"formulario\" className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-4xl mx-auto\">\n        <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-6 md:mb-8 text-[hsl(var(--ds-color-title))] leading-tight\">\n          {data?.title || 'Assine agora'}\n        </h2>\n\n        <p className=\"text-base md:text-lg lg:text-xl text-muted-foreground text-center mb-8 md:mb-12 max-w-2xl mx-auto\">\n          {data?.subtitle || 'Preencha o formulário e comece hoje'}\n        </p>\n\n        <form onSubmit={handleSubmit} className=\"glass-strong p-6 md:p-10 lg:p-12\">\n          {fields.length > 0 ? (\n            <div className=\"flex flex-wrap gap-4 mb-6\">\n              {fields.map((field: FormField) => (\n                <DynamicFormFieldV2\n                  key={field.id}\n                  field={field}\n                  value={formValues[field.id] || ''}\n                  onChange={(value) => handleFieldChange(field.id, value)}\n                  onAddressFound={handleAddressFound}\n                  onAddressFieldsChange={handleAddressFieldsChange}\n                  error={errors[field.id]}\n                />\n              ))}\n            </div>\n          ) : (\n            <p className=\"text-muted-foreground text-center mb-6\">\n              Configure os campos do formulário no painel administrativo.\n            </p>\n          )}\n\n          <div className=\"text-center mt-2\">\n            <button\n              type=\"submit\"\n              disabled={isSubmitting || fields.length === 0}\n              className=\"inline-flex items-center justify-center gap-2 w-full md:w-auto px-10 md:px-14 py-4 md:py-5 rounded-full font-bold text-base md:text-lg bg-[hsl(var(--ds-color-btn))] text-[hsl(var(--ds-color-btn-text))] hover:scale-105 hover:shadow-[0_16px_32px_hsl(var(--ds-color-accent)/0.4)] shadow-[0_8px_16px_hsl(var(--ds-color-accent)/0.2)] transition-all duration-300 disabled:opacity-50 disabled:pointer-events-none\"\n            >\n              {isSubmitting ? (\n                <>\n                  <Loader2 className=\"w-5 h-5 animate-spin\" />\n                  Enviando...\n                </>\n              ) : (\n                <>\n                  <Send className=\"w-5 h-5\" />\n                  {data?.ctaButton || 'Contratar'}\n                </>\n              )}\n            </button>\n          </div>\n        </form>\n\n        <SectionCTAV2 data={data?.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n};\n","import { memo } from 'react';\nimport { LPContent } from '@/lib/cms-v2/cms-types';\nimport { renderRichText } from '@/lib/cms-v2/rich-text';\nimport { SectionCTAV2 } from './SectionCTAV2';\nimport { Instagram, Linkedin, Globe } from 'lucide-react';\n\ntype Props = {\n  data: LPContent['speakers'];\n  lpKey: string;\n  couponCode?: string;\n};\n\nconst SpeakerCard = memo(({\n  speaker,\n  isFeatured,\n}: {\n  speaker: Props['data']['items'][number];\n  isFeatured?: boolean;\n}) => {\n  const hasSocials = speaker.socials?.instagram || speaker.socials?.linkedin || speaker.socials?.website;\n\n  return (\n    <div\n      className={`glass-card overflow-hidden flex flex-col transition-all duration-300 hover:shadow-lg hover:shadow-[hsl(var(--ds-color-accent))]/10 ${\n        isFeatured ? 'md:col-span-2 md:row-span-2' : ''\n      }`}\n    >\n      {/* Foto */}\n      {speaker.image && (\n        <div className=\"relative overflow-hidden\">\n          <div className={`${isFeatured ? 'aspect-[4/3]' : 'aspect-square'}`}>\n            <img\n              src={speaker.image}\n              alt={speaker.name}\n              className=\"w-full h-full object-cover transition-transform duration-500 hover:scale-105\"\n              loading=\"lazy\"\n            />\n          </div>\n          {/* Gradient overlay na parte inferior da foto */}\n          <div className=\"absolute inset-x-0 bottom-0 h-20 bg-gradient-to-t from-black/40 to-transparent pointer-events-none\" />\n        </div>\n      )}\n\n      {/* Conteudo */}\n      <div className={`flex flex-col flex-1 ${isFeatured ? 'p-8 md:p-10' : 'p-6 md:p-8'}`}>\n        {/* Nome */}\n        <h3\n          className={`font-bold text-foreground leading-tight ${\n            isFeatured ? 'text-2xl md:text-3xl' : 'text-xl md:text-2xl'\n          }`}\n        >\n          {speaker.name}\n        </h3>\n\n        {/* Cargo */}\n        {speaker.role && (\n          <p className=\"text-[hsl(var(--ds-color-accent))] font-semibold text-sm md:text-base mt-1.5\">\n            {speaker.role}\n          </p>\n        )}\n\n        {/* Bio */}\n        {speaker.bio && (\n          <div\n            className={`text-muted-foreground leading-relaxed mt-4 flex-1 ${\n              isFeatured ? 'text-base md:text-lg' : 'text-sm md:text-base'\n            }`}\n            dangerouslySetInnerHTML={{ __html: renderRichText(speaker.bio) }}\n          />\n        )}\n\n        {/* Socials */}\n        {hasSocials && (\n          <div className=\"flex items-center gap-3 mt-6 pt-4 border-t border-[hsl(var(--ds-border-color))]/30\">\n            {speaker.socials?.instagram && (\n              <a\n                href={speaker.socials.instagram}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"p-2 rounded-lg text-muted-foreground hover:text-[hsl(var(--ds-color-accent))] hover:bg-[hsl(var(--ds-color-accent))]/10 transition-all duration-200\"\n                aria-label={`Instagram de ${speaker.name}`}\n              >\n                <Instagram className=\"h-5 w-5\" />\n              </a>\n            )}\n            {speaker.socials?.linkedin && (\n              <a\n                href={speaker.socials.linkedin}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"p-2 rounded-lg text-muted-foreground hover:text-[hsl(var(--ds-color-accent))] hover:bg-[hsl(var(--ds-color-accent))]/10 transition-all duration-200\"\n                aria-label={`LinkedIn de ${speaker.name}`}\n              >\n                <Linkedin className=\"h-5 w-5\" />\n              </a>\n            )}\n            {speaker.socials?.website && (\n              <a\n                href={speaker.socials.website}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"p-2 rounded-lg text-muted-foreground hover:text-[hsl(var(--ds-color-accent))] hover:bg-[hsl(var(--ds-color-accent))]/10 transition-all duration-200\"\n                aria-label={`Website de ${speaker.name}`}\n              >\n                <Globe className=\"h-5 w-5\" />\n              </a>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});\n\nSpeakerCard.displayName = 'SpeakerCard';\n\nexport const SpeakersV2 = memo(({ data, lpKey, couponCode }: Props) => {\n  if (!data || data.enabled === false) return null;\n  if (!data.items || data.items.length === 0) return null;\n\n  const isFeaturedLayout = data.layout === 'featured';\n\n  return (\n    <section id=\"speakers\" className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        {(data.title || data.subtitle) && (\n          <div className=\"text-center mb-12 md:mb-20\">\n            {data.title && (\n              <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold text-[hsl(var(--ds-color-title))]\">\n                {data.title}\n              </h2>\n            )}\n            {data.subtitle && (\n              <p\n                className=\"text-muted-foreground text-lg md:text-xl mt-4 max-w-3xl mx-auto\"\n                dangerouslySetInnerHTML={{ __html: renderRichText(data.subtitle) }}\n              />\n            )}\n          </div>\n        )}\n\n        {/* Grid */}\n        <div\n          className={`grid gap-6 md:gap-8 ${\n            isFeaturedLayout\n              ? 'grid-cols-1 sm:grid-cols-2 lg:grid-cols-3'\n              : 'grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4'\n          }`}\n        >\n          {data.items.map((speaker, index) => (\n            <SpeakerCard\n              key={`speaker-${index}`}\n              speaker={speaker}\n              isFeatured={isFeaturedLayout && index === 0}\n            />\n          ))}\n        </div>\n\n        {/* Footer CTA */}\n        <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n});\n\nSpeakersV2.displayName = 'SpeakersV2';\n","import { memo } from 'react';\nimport { LPContent } from '@/lib/cms-v2/cms-types';\nimport { renderRichText } from '@/lib/cms-v2/rich-text';\nimport { SectionCTAV2 } from './SectionCTAV2';\n\ntype Props = {\n  data: LPContent['sponsors'];\n  lpKey: string;\n  couponCode?: string;\n};\n\nconst LOGO_HEIGHTS: Record<string, string> = {\n  sm: 'h-12',   // 48px\n  md: 'h-20',   // 80px\n  lg: 'h-[120px]',\n};\n\nconst LOGO_PADDING: Record<string, string> = {\n  sm: 'p-4',\n  md: 'p-6',\n  lg: 'p-8',\n};\n\nconst GRID_COLS: Record<string, string> = {\n  sm: 'grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6',\n  md: 'grid-cols-2 md:grid-cols-3 lg:grid-cols-4',\n  lg: 'grid-cols-1 sm:grid-cols-2 md:grid-cols-3',\n};\n\nexport const SponsorsV2 = memo(({ data, lpKey, couponCode }: Props) => {\n  if (!data || data.enabled === false) return null;\n\n  const activeTiers = (data.tiers || []).filter(\n    (tier) => tier.enabled && tier.items && tier.items.length > 0\n  );\n  if (activeTiers.length === 0) return null;\n\n  return (\n    <section id=\"sponsors\" className=\"w-full py-16 md:py-24 px-4 md:px-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        {(data.title || data.subtitle) && (\n          <div className=\"text-center mb-12 md:mb-20\">\n            {data.title && (\n              <h2 className=\"text-3xl md:text-4xl lg:text-5xl font-bold text-[hsl(var(--ds-color-title))]\">\n                {data.title}\n              </h2>\n            )}\n            {data.subtitle && (\n              <p\n                className=\"text-muted-foreground text-lg md:text-xl mt-4 max-w-3xl mx-auto\"\n                dangerouslySetInnerHTML={{ __html: renderRichText(data.subtitle) }}\n              />\n            )}\n          </div>\n        )}\n\n        {/* Tiers */}\n        <div className=\"space-y-12 md:space-y-16\">\n          {activeTiers.map((tier, tierIndex) => {\n            const logoHeight = tier.logoHeight || 'md';\n            const tierColor = tier.color || '';\n            const hasColor = tierColor.length > 0;\n\n            return (\n              <div key={`tier-${tierIndex}`}>\n                {/* Separador entre tiers (não no primeiro) */}\n                {tierIndex > 0 && (\n                  <div className=\"border-t border-[hsl(var(--ds-border-color))]/30 mb-10 md:mb-14\" />\n                )}\n\n                {/* Tier heading */}\n                <div className=\"text-center mb-8 md:mb-12\">\n                  <h3\n                    className=\"text-xl md:text-2xl lg:text-3xl font-bold tracking-wide uppercase\"\n                    style={hasColor ? { color: tierColor } : undefined}\n                  >\n                    {!hasColor && (\n                      <span className=\"text-foreground\">{tier.name}</span>\n                    )}\n                    {hasColor && tier.name}\n                  </h3>\n                </div>\n\n                {/* Logos grid */}\n                <div className={`grid gap-4 md:gap-6 ${GRID_COLS[logoHeight]}`}>\n                  {tier.items.map((sponsor, sponsorIndex) => {\n                    const cardContent = (\n                      <div\n                        className={`glass-card flex items-center justify-center transition-all duration-300 hover:scale-[1.03] ${LOGO_PADDING[logoHeight]} ${\n                          hasColor\n                            ? 'ring-1 ring-opacity-40'\n                            : ''\n                        }`}\n                        style={\n                          hasColor\n                            ? {\n                                boxShadow: `0 0 20px ${tierColor}20, 0 0 40px ${tierColor}10`,\n                                borderColor: `${tierColor}40`,\n                              }\n                            : undefined\n                        }\n                      >\n                        {sponsor.logo ? (\n                          <img\n                            src={sponsor.logo}\n                            alt={sponsor.name || 'Patrocinador'}\n                            className={`${LOGO_HEIGHTS[logoHeight]} w-auto max-w-full object-contain`}\n                            loading=\"lazy\"\n                          />\n                        ) : (\n                          <div className={`${LOGO_HEIGHTS[logoHeight]} flex items-center justify-center text-muted-foreground text-sm`}>\n                            {sponsor.name || 'Logo'}\n                          </div>\n                        )}\n                      </div>\n                    );\n\n                    // Se tiver URL, card vira link\n                    if (sponsor.url) {\n                      return (\n                        <a\n                          key={`sponsor-${tierIndex}-${sponsorIndex}`}\n                          href={sponsor.url}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"block hover:opacity-90 transition-opacity\"\n                        >\n                          {cardContent}\n                        </a>\n                      );\n                    }\n\n                    return (\n                      <div key={`sponsor-${tierIndex}-${sponsorIndex}`}>\n                        {cardContent}\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Footer CTA */}\n        <SectionCTAV2 data={data.footerCta} lpKey={lpKey} couponCode={couponCode} />\n      </div>\n    </section>\n  );\n});\n\nSponsorsV2.displayName = 'SponsorsV2';\n","import { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { cn } from \"@/lib/utils\";\n\n// SVG oficial do WhatsApp\nconst WhatsAppIcon = ({ className }: { className?: string }) => (\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" className={className}>\n    <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z\"/>\n  </svg>\n);\n\ninterface WhatsAppButtonV2Props {\n  data: LPContent['floatingWhatsapp'];\n  lpKey: string;\n}\n\nexport const WhatsAppButtonV2 = ({ data, lpKey }: WhatsAppButtonV2Props) => {\n  if (!data?.enabled) return null;\n\n  const whatsappUrl = `https://wa.me/${data.phoneNumber}?text=${encodeURIComponent(data.message || '')}`;\n\n  return (\n    <div\n      className={cn(\n        \"fixed bottom-6 right-6 z-50 flex items-center gap-3 group\",\n        !data.showOnMobile && \"hidden md:flex\"\n      )}\n    >\n      {/* Label pill — desktop hover, mobile conditional */}\n      <span\n        className={cn(\n          \"bg-card/90 backdrop-blur-md text-foreground px-4 py-2 rounded-full font-semibold shadow-lg border border-border/20\",\n          \"opacity-0 group-hover:opacity-100 transition-opacity duration-300\",\n          !data.showLabelOnMobile && \"hidden md:inline-block\"\n        )}\n      >\n        {data.label}\n      </span>\n\n      {/* Main button */}\n      <a\n        href={whatsappUrl}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"relative\"\n      >\n        {/* Pulse glow */}\n        {data.pulseEffect && (\n          <span className=\"absolute inset-0 rounded-full bg-[#25D366] animate-ping opacity-30\" />\n        )}\n\n        {/* Icon button */}\n        <span\n          className={cn(\n            \"relative flex items-center justify-center\",\n            \"w-14 h-14 rounded-full\",\n            \"bg-[#25D366] hover:bg-[#1da851] text-white\",\n            \"shadow-[0_0_20px_rgba(37,211,102,0.5)]\",\n            \"hover:shadow-[0_0_30px_rgba(37,211,102,0.7)]\",\n            \"hover:scale-110 transition-all duration-300\"\n          )}\n        >\n          <WhatsAppIcon className=\"h-7 w-7\" />\n        </span>\n      </a>\n    </div>\n  );\n};\n","import { useEffect } from \"react\";\nimport { LPContent } from \"@/lib/cms-v2/cms-types\";\n\ninterface TrackingHeadV2Props {\n  tracking: LPContent['tracking'];\n  seo: LPContent['seo'];\n  lpKey: string;\n}\n\n/**\n * TrackingHeadV2 — Injeta pixels de rastreamento e meta tags SEO no <head>\n * Aceita dados diretamente do LPContent (sem conversão V1→V2)\n */\nexport const TrackingHeadV2 = ({ tracking, seo, lpKey }: TrackingHeadV2Props) => {\n  // Inject SEO meta tags\n  useEffect(() => {\n    if (!seo) return;\n\n    const setMeta = (name: string, content: string, property?: boolean) => {\n      if (!content) return;\n      const attr = property ? 'property' : 'name';\n      let el = document.querySelector(`meta[${attr}=\"${name}\"]`) as HTMLMetaElement;\n      if (!el) {\n        el = document.createElement('meta');\n        el.setAttribute(attr, name);\n        document.head.appendChild(el);\n      }\n      el.content = content;\n    };\n\n    if (seo.metaTitle) document.title = seo.metaTitle;\n    if (seo.metaDescription) setMeta('description', seo.metaDescription);\n    if (seo.ogTitle) setMeta('og:title', seo.ogTitle, true);\n    if (seo.ogDescription) setMeta('og:description', seo.ogDescription, true);\n    if (seo.ogImage) setMeta('og:image', seo.ogImage, true);\n\n    return () => {\n      // Cleanup on unmount: remove dynamically added meta tags\n      ['og:title', 'og:description', 'og:image'].forEach(name => {\n        const el = document.querySelector(`meta[property=\"${name}\"]`);\n        if (el) el.remove();\n      });\n    };\n  }, [seo]);\n\n  // Inject tracking pixels\n  useEffect(() => {\n    if (!tracking || tracking.enabled === false) return;\n\n    const scripts: HTMLScriptElement[] = [];\n\n    const addScript = (id: string, src?: string, inline?: string) => {\n      if (document.getElementById(id)) return;\n      const script = document.createElement('script');\n      script.id = id;\n      if (src) {\n        script.src = src;\n        script.async = true;\n      }\n      if (inline) {\n        script.textContent = inline;\n      }\n      document.head.appendChild(script);\n      scripts.push(script);\n    };\n\n    // Meta Pixel (Facebook/Instagram)\n    if (tracking.meta) {\n      addScript(\n        `v2-meta-pixel-${lpKey}`,\n        undefined,\n        `!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');fbq('init','${tracking.meta}');fbq('track','PageView');`\n      );\n    }\n\n    // Google Analytics (GA4)\n    if (tracking.ga) {\n      addScript(`v2-ga4-lib-${lpKey}`, `https://www.googletagmanager.com/gtag/js?id=${tracking.ga}`);\n      addScript(\n        `v2-ga4-init-${lpKey}`,\n        undefined,\n        `window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','${tracking.ga}');`\n      );\n    }\n\n    // Google Tag Manager\n    if (tracking.gtm) {\n      addScript(\n        `v2-gtm-${lpKey}`,\n        undefined,\n        `(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','${tracking.gtm}');`\n      );\n    }\n\n    // TikTok Pixel\n    if (tracking.tiktok) {\n      addScript(\n        `v2-tiktok-${lpKey}`,\n        undefined,\n        `!function(w,d,t){w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=[\"page\",\"track\",\"identify\",\"instances\",\"debug\",\"on\",\"off\",\"once\",\"ready\",\"alias\",\"group\",\"enableCookie\",\"disableCookie\"];ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e};ttq.load=function(e,n){var i=\"https://analytics.tiktok.com/i18n/pixel/events.js\";ttq._i=ttq._i||{};ttq._i[e]=[];ttq._i[e]._u=i;ttq._t=ttq._t||{};ttq._t[e]=+new Date;ttq._o=ttq._o||{};ttq._o[e]=n||{};var o=document.createElement(\"script\");o.type=\"text/javascript\";o.async=!0;o.src=i+\"?sdkid=\"+e+\"&lib=\"+t;var a=document.getElementsByTagName(\"script\")[0];a.parentNode.insertBefore(o,a)};ttq.load('${tracking.tiktok}');ttq.page();}(window,document,'ttq');`\n      );\n    }\n\n    // LinkedIn Insight\n    if (tracking.linkedin) {\n      addScript(\n        `v2-linkedin-${lpKey}`,\n        undefined,\n        `_linkedin_partner_id=\"${tracking.linkedin}\";window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[];window._linkedin_data_partner_ids.push(_linkedin_partner_id);(function(l){if(!l){window.lintrk=function(a,b){window.lintrk.q.push([a,b])};window.lintrk.q=[]}var s=document.getElementsByTagName(\"script\")[0];var b=document.createElement(\"script\");b.type=\"text/javascript\";b.async=true;b.src=\"https://snap.licdn.com/li.lms-analytics/insight.min.js\";s.parentNode.insertBefore(b,s);})(window.lintrk);`\n      );\n    }\n\n    return () => {\n      scripts.forEach(s => s.remove());\n    };\n  }, [tracking, lpKey]);\n\n  return null;\n};\n","import { useState, useEffect, useCallback, useRef, memo } from 'react';\nimport { X } from 'lucide-react';\nimport type { ExitIntentSettings } from '@/lib/cms-v2/cms-types';\nimport { applyUTMv2, applyCoupon } from '@/lib/cms-v2/utm-v2';\nimport { renderRichText } from '@/lib/cms-v2/rich-text';\n\ninterface ExitIntentPopupV2Props {\n  data?: ExitIntentSettings;\n  coupon?: string;\n  lpKey: string;\n}\n\nconst COOKIE_PREFIX = 'lp_exit_';\n\nconst shouldShow = (lpKey: string, frequency: string): boolean => {\n  const key = `${COOKIE_PREFIX}${lpKey}_seen`;\n\n  if (frequency === 'session') {\n    return !sessionStorage.getItem(key);\n  }\n\n  const stored = localStorage.getItem(key);\n  if (!stored) return true;\n\n  const timestamp = parseInt(stored, 10);\n  if (isNaN(timestamp)) return true;\n\n  const now = Date.now();\n  switch (frequency) {\n    case 'day':\n      return now - timestamp > 24 * 60 * 60 * 1000;\n    case 'week':\n      return now - timestamp > 7 * 24 * 60 * 60 * 1000;\n    default:\n      return true;\n  }\n};\n\nconst markAsSeen = (lpKey: string, frequency: string) => {\n  const key = `${COOKIE_PREFIX}${lpKey}_seen`;\n  if (frequency === 'session') {\n    sessionStorage.setItem(key, Date.now().toString());\n  } else {\n    localStorage.setItem(key, Date.now().toString());\n  }\n};\n\n\nexport const ExitIntentPopupV2 = memo(({ data, coupon, lpKey }: ExitIntentPopupV2Props) => {\n  const [show, setShow] = useState(false);\n  const [ready, setReady] = useState(false);\n  const dismissedRef = useRef(false);\n  const onReturnRef = useRef<((e: Event) => void) | null>(null);\n\n  const dismiss = useCallback(() => {\n    setShow(false);\n    dismissedRef.current = true;\n    if (data) markAsSeen(lpKey, data.frequency);\n\n    // Remove any pending onReturn listener\n    if (onReturnRef.current) {\n      document.removeEventListener('visibilitychange', onReturnRef.current);\n      onReturnRef.current = null;\n    }\n  }, [lpKey, data]);\n\n  useEffect(() => {\n    if (!data?.enabled) return;\n\n    // Check frequency\n    if (!shouldShow(lpKey, data.frequency)) return;\n\n    // Delay antes de ativar o listener\n    const delayTimer = setTimeout(() => {\n      setReady(true);\n    }, (data.delaySeconds || 5) * 1000);\n\n    return () => clearTimeout(delayTimer);\n  }, [data, lpKey]);\n\n  useEffect(() => {\n    if (!ready || !data?.enabled) return;\n\n    // Desktop: mouseleave no topo\n    const handleMouseLeave = (e: MouseEvent) => {\n      if (e.clientY <= 5 && !dismissedRef.current) {\n        setShow(true);\n      }\n    };\n\n    // Mobile: visibilitychange (usuario saindo do tab)\n    const handleVisibility = () => {\n      if (document.visibilityState === 'hidden' && !dismissedRef.current) {\n        // Remove previous onReturn if any\n        if (onReturnRef.current) {\n          document.removeEventListener('visibilitychange', onReturnRef.current);\n        }\n        // Quando voltar, mostra o popup\n        const onReturn = () => {\n          if (document.visibilityState === 'visible' && !dismissedRef.current) {\n            setShow(true);\n            document.removeEventListener('visibilitychange', onReturn);\n            onReturnRef.current = null;\n          }\n        };\n        onReturnRef.current = onReturn;\n        document.addEventListener('visibilitychange', onReturn);\n      }\n    };\n\n    document.addEventListener('mouseleave', handleMouseLeave);\n    document.addEventListener('visibilitychange', handleVisibility);\n\n    return () => {\n      document.removeEventListener('mouseleave', handleMouseLeave);\n      document.removeEventListener('visibilitychange', handleVisibility);\n      // Cleanup onReturn listener on unmount\n      if (onReturnRef.current) {\n        document.removeEventListener('visibilitychange', onReturnRef.current);\n        onReturnRef.current = null;\n      }\n    };\n  }, [ready, data]);\n\n  if (!data?.enabled || !show) return null;\n\n  const ctaUrl = applyCoupon(applyUTMv2(data.ctaLink, lpKey), coupon);\n  const hasImage = !!data.imageUrl?.trim();\n  const imageLeft = hasImage && data.imagePosition === 'left';\n\n  return (\n    <div\n      className=\"fixed inset-0 z-[60] flex items-center justify-center p-4\"\n      onClick={dismiss}\n    >\n      {/* Overlay */}\n      <div className=\"absolute inset-0 bg-black/70 backdrop-blur-sm animate-in fade-in duration-300\" />\n\n      {/* Modal */}\n      <div\n        className={`relative z-10 w-full bg-background border border-border/30 rounded-2xl shadow-[0_25px_60px_rgba(0,0,0,0.5)] overflow-hidden animate-in zoom-in-95 fade-in slide-in-from-bottom-4 duration-300 ${\n          imageLeft ? 'max-w-2xl' : hasImage ? 'max-w-lg' : 'max-w-lg'\n        }`}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Close */}\n        <button\n          onClick={dismiss}\n          className=\"absolute top-4 right-4 z-20 p-2 rounded-full text-muted-foreground/70 hover:text-foreground hover:bg-muted/30 transition-colors\"\n        >\n          <X className=\"h-5 w-5\" />\n        </button>\n\n        {/* Layout: image left + content right, or image top + content below, or no image */}\n        <div className={imageLeft ? 'grid grid-cols-1 md:grid-cols-[2fr_3fr]' : ''}>\n          {/* Image — top or left */}\n          {hasImage && (\n            <div className={`overflow-hidden ${\n              imageLeft\n                ? 'hidden md:block h-full min-h-[280px]'\n                : 'w-full h-48 md:h-56'\n            }`}>\n              <img\n                src={data.imageUrl}\n                alt=\"\"\n                className=\"w-full h-full object-cover\"\n              />\n            </div>\n          )}\n\n          {/* Content */}\n          <div className=\"p-8 md:p-10\">\n            <div className={`space-y-5 ${!imageLeft ? 'text-center' : ''}`}>\n              <h3 className={`text-3xl md:text-4xl font-extrabold text-foreground leading-tight tracking-tight ${data.titleUppercase !== false ? 'uppercase' : ''}`}>\n                {renderRichText(data.title)}\n              </h3>\n\n              <p className=\"text-lg md:text-xl text-muted-foreground leading-relaxed\">\n                {renderRichText(data.text)}\n              </p>\n\n              {/* CTA */}\n              <a\n                href={ctaUrl}\n                onClick={dismiss}\n                className={`inline-block w-full py-5 rounded-full font-bold text-xl uppercase tracking-wide transition-all duration-300 bg-[hsl(var(--ds-color-btn))] text-[hsl(var(--ds-color-btn-text))] hover:scale-[1.02] hover:shadow-[0_16px_40px_hsl(var(--ds-color-accent)/0.45)] ${\n                  !imageLeft ? 'text-center' : 'text-center'\n                }`}\n              >\n                {data.ctaText}\n              </a>\n\n              {/* Dismiss text */}\n              <button\n                onClick={dismiss}\n                className=\"text-sm text-muted-foreground/60 hover:text-muted-foreground transition-colors underline underline-offset-2 w-full\"\n              >\n                {data.dismissText || 'Nao, obrigado'}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nExitIntentPopupV2.displayName = 'ExitIntentPopupV2';\n","import { useState, useEffect, useCallback, useRef, memo } from 'react';\nimport { CheckCircle2 } from 'lucide-react';\nimport type { SocialProofSettings } from '@/lib/cms-v2/cms-types';\n\ninterface SocialProofToastV2Props {\n  data?: SocialProofSettings;\n  lpKey: string;\n}\n\nconst SESSION_KEY_PREFIX = 'lp_social_count_';\n\nexport const SocialProofToastV2 = memo(({ data, lpKey }: SocialProofToastV2Props) => {\n  const [currentIndex, setCurrentIndex] = useState(-1);\n  const [visible, setVisible] = useState(false);\n  const [shown, setShown] = useState(0);\n  const hideTimeoutsRef = useRef<number[]>([]);\n\n  const maxPerVisit = data?.maxPerVisit || 5;\n  const interval = (data?.intervalSeconds || 20) * 1000;\n  const position = data?.position || 'bottom-left';\n  const toastDuration = (data?.toastDuration || 4) * 1000;\n\n  const getShownCount = useCallback((): number => {\n    const key = `${SESSION_KEY_PREFIX}${lpKey}`;\n    const stored = sessionStorage.getItem(key);\n    return stored ? parseInt(stored, 10) : 0;\n  }, [lpKey]);\n\n  const incrementShown = useCallback(() => {\n    const key = `${SESSION_KEY_PREFIX}${lpKey}`;\n    const current = getShownCount() + 1;\n    sessionStorage.setItem(key, current.toString());\n    return current;\n  }, [lpKey, getShownCount]);\n\n  useEffect(() => {\n    if (!data?.enabled || !data.items || data.items.length === 0) return;\n\n    const initialShown = getShownCount();\n    setShown(initialShown);\n\n    if (initialShown >= maxPerVisit) return;\n\n    let itemIndex = 0;\n\n    const showNext = () => {\n      setCurrentIndex(itemIndex % data.items.length);\n      setVisible(true);\n\n      // Hide after toastDuration — track the timeout for cleanup\n      const hideTimeout = window.setTimeout(() => {\n        setVisible(false);\n      }, toastDuration);\n      hideTimeoutsRef.current.push(hideTimeout);\n\n      itemIndex++;\n      const newCount = incrementShown();\n      setShown(newCount);\n\n      if (newCount >= maxPerVisit) {\n        clearInterval(timer);\n      }\n    };\n\n    // First toast after initial delay (half interval)\n    const initialDelay = window.setTimeout(() => {\n      showNext();\n    }, interval / 2);\n\n    // Subsequent toasts at interval\n    const timer = window.setInterval(() => {\n      showNext();\n    }, interval);\n\n    return () => {\n      clearTimeout(initialDelay);\n      clearInterval(timer);\n      // Cleanup all pending hide timeouts\n      hideTimeoutsRef.current.forEach((t) => clearTimeout(t));\n      hideTimeoutsRef.current = [];\n    };\n  }, [data, maxPerVisit, interval, toastDuration, getShownCount, incrementShown]);\n\n  if (!data?.enabled || !data.items || data.items.length === 0) return null;\n  if (shown >= maxPerVisit && !visible) return null;\n  if (currentIndex < 0) return null;\n\n  const item = data.items[currentIndex % data.items.length];\n  if (!item) return null;\n\n  return (\n    <div\n      className={`fixed z-40 pointer-events-none ${\n        position === 'bottom-left' ? 'bottom-6 left-4' : 'bottom-6 right-4'\n      }`}\n    >\n      <div\n        className={`pointer-events-auto transition-all duration-500 ease-out ${\n          visible\n            ? 'translate-y-0 opacity-100'\n            : 'translate-y-8 opacity-0'\n        }`}\n      >\n        <div className=\"flex items-center gap-3 bg-background border border-border/50 rounded-xl shadow-lg px-4 py-3 max-w-xs backdrop-blur-md\">\n          <div className=\"shrink-0 w-8 h-8 rounded-full bg-emerald-500/15 flex items-center justify-center\">\n            <CheckCircle2 className=\"h-4 w-4 text-emerald-500\" />\n          </div>\n          <div className=\"min-w-0\">\n            {item.message ? (\n              <p className=\"text-sm text-foreground\">{item.message}</p>\n            ) : (\n              <>\n                <p className=\"text-sm font-semibold text-foreground truncate\">\n                  {item.name} de {item.city}\n                </p>\n                <p className=\"text-xs text-muted-foreground\">\n                  Contratou o plano {item.plan} <span className=\"opacity-70\">ha {item.timeAgo}</span>\n                </p>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nSocialProofToastV2.displayName = 'SocialProofToastV2';\n","import { useState, useEffect, memo } from 'react';\nimport type { FloatingWhatsappSettings } from '@/lib/cms-v2/cms-types';\nimport { applyUTMv2, applyCoupon } from '@/lib/cms-v2/utm-v2';\n\ninterface StickyMobileCtaV2Props {\n  data?: FloatingWhatsappSettings['stickyCta'];\n  coupon?: string;\n  lpKey: string;\n}\n\n\nexport const StickyMobileCtaV2 = memo(({ data, coupon, lpKey }: StickyMobileCtaV2Props) => {\n  const [visible, setVisible] = useState(false);\n\n  const threshold = data?.scrollThreshold || 30;\n\n  useEffect(() => {\n    if (!data?.enabled) return;\n\n    const handleScroll = () => {\n      const scrollableHeight = document.documentElement.scrollHeight - window.innerHeight;\n      if (scrollableHeight <= 0) {\n        setVisible(false);\n        return;\n      }\n      const scrollPercent = (window.scrollY / scrollableHeight) * 100;\n      setVisible(scrollPercent >= threshold);\n    };\n\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    handleScroll(); // check initial\n\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, [data?.enabled, threshold]);\n\n  if (!data?.enabled) return null;\n\n  const urlWithUTM = applyUTMv2(data.link, lpKey);\n  const href = applyCoupon(urlWithUTM, coupon);\n\n  return (\n    <div\n      className={`fixed bottom-0 left-0 right-0 z-40 md:hidden transition-all duration-300 ${\n        visible\n          ? 'translate-y-0 opacity-100'\n          : 'translate-y-full opacity-0 pointer-events-none'\n      }`}\n    >\n      <div className=\"bg-background/95 backdrop-blur-md border-t border-border/30 px-4 py-3 safe-bottom\">\n        <a\n          href={href}\n          className=\"block w-full text-center py-3.5 rounded-full font-bold text-base transition-all duration-300 bg-[hsl(var(--ds-color-btn))] text-[hsl(var(--ds-color-btn-text))] hover:shadow-[0_8px_24px_hsl(var(--ds-color-accent)/0.4)] active:scale-[0.98]\"\n        >\n          {data.text || 'Contratar agora'}\n        </a>\n      </div>\n    </div>\n  );\n});\n\nStickyMobileCtaV2.displayName = 'StickyMobileCtaV2';\n","import { memo } from 'react';\nimport type { GlobalMenuSettings, FooterSection } from '@/lib/cms-v2/cms-types';\n\ninterface GlobalMenuV2Props {\n  data?: GlobalMenuSettings;\n  footer?: FooterSection;\n}\n\nexport const GlobalMenuV2 = memo(({ data, footer }: GlobalMenuV2Props) => {\n  if (!data?.enabled) return null;\n\n  // Logo: explicit logoUrl > footer logo > footer logoDesktop\n  const logoSrc = data.logoUrl?.trim() || footer?.logo?.trim() || footer?.logoDesktop?.trim() || '';\n  const links = data.links || [];\n\n  return (\n    <header className=\"fixed top-0 left-0 right-0 z-50 bg-[hsl(var(--ds-color-bg))]/6 backdrop-blur-[18px] border-b border-[hsl(var(--ds-border-color))]/30\">\n      <div className=\"container mx-auto px-6 h-16 flex items-center justify-between\">\n        {/* LOGO */}\n        {logoSrc && (\n          <a href=\"#\" className=\"flex items-center shrink-0\">\n            <img\n              src={logoSrc}\n              alt=\"Logo\"\n              className=\"h-10 w-auto object-contain transition-transform hover:scale-105\"\n            />\n          </a>\n        )}\n\n        {/* NAV LINKS */}\n        {links.length > 0 && (\n          <nav className=\"hidden md:flex items-center gap-6\">\n            {links.map((link, i) => (\n              <a\n                key={i}\n                href={link.url}\n                className=\"text-sm font-medium text-foreground/80 hover:text-foreground transition-colors\"\n              >\n                {link.text}\n              </a>\n            ))}\n          </nav>\n        )}\n      </div>\n    </header>\n  );\n});\n\nGlobalMenuV2.displayName = 'GlobalMenuV2';\n","import { useParams, Navigate } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { CMSProviderV2, useCMSV2 } from '@/lib/cms-v2/CMSProvider';\nimport { LPContent, TrackingSettings } from '@/lib/cms-v2/cms-types';\nimport { fetchGlobalTrackingV2 } from '@/lib/cms-v2/cms-api';\nimport { resolveTrackingV2 } from '@/lib/cms-v2/resolveTracking-v2';\n\n// Landing V2 — 100% isolado, zero imports da V1\nimport { HeroV2 } from '@/components/landing-v2/HeroV2';\nimport { BenefitsV2 } from '@/components/landing-v2/BenefitsV2';\nimport { HowItWorksV2 } from '@/components/landing-v2/HowItWorksV2';\nimport { PlansV2 } from '@/components/landing-v2/PlansV2';\nimport { TestimonialsV2 } from '@/components/landing-v2/TestimonialsV2';\nimport { KPIsV2 } from '@/components/landing-v2/KPIsV2';\nimport { AboutV2 } from '@/components/landing-v2/AboutV2';\nimport { ContactV2 } from '@/components/landing-v2/ContactV2';\nimport { BeforeAfterV2 } from '@/components/landing-v2/BeforeAfterV2';\nimport { ProcessV2 } from '@/components/landing-v2/ProcessV2';\nimport { ServicesV2 } from '@/components/landing-v2/ServicesV2';\nimport { VideoV2 } from '@/components/landing-v2/VideoV2';\nimport { VideoCarouselV2 } from '@/components/landing-v2/VideoCarouselV2';\nimport { WhyChooseV2 } from '@/components/landing-v2/WhyChooseV2';\nimport { CTAFinalV2 } from '@/components/landing-v2/CTAFinalV2';\nimport { FAQV2 } from '@/components/landing-v2/FAQV2';\nimport { ForWhomV2 } from '@/components/landing-v2/ForWhomV2';\nimport { FooterV2 } from '@/components/landing-v2/FooterV2';\nimport { FormV2 } from '@/components/landing-v2/FormV2';\nimport { SpeakersV2 } from '@/components/landing-v2/SpeakersV2';\nimport { SponsorsV2 } from '@/components/landing-v2/SponsorsV2';\nimport { WhatsAppButtonV2 } from '@/components/landing-v2/WhatsAppButtonV2';\nimport { TrackingHeadV2 } from '@/components/landing-v2/TrackingHeadV2';\nimport { ExitIntentPopupV2 } from '@/components/landing-v2/ExitIntentPopupV2';\nimport { SocialProofToastV2 } from '@/components/landing-v2/SocialProofToastV2';\nimport { StickyMobileCtaV2 } from '@/components/landing-v2/StickyMobileCtaV2';\nimport { GlobalMenuV2 } from '@/components/landing-v2/GlobalMenuV2';\n\n// ======================================================\n// RENDERER: Mapeia sectionId → Componente V2\n// ======================================================\nconst renderSection = (sectionId: string, content: LPContent, lpKey: string, index: number) => {\n  const key = `section-${sectionId}-${index}`;\n  const couponCode = content.conversion?.couponCode;\n\n  switch (sectionId) {\n    case 'hero':\n      return <HeroV2 key={key} data={content.hero} lpKey={lpKey} couponCode={couponCode} />;\n    case 'benefits':\n      return <BenefitsV2 key={key} data={content.benefits} lpKey={lpKey} couponCode={couponCode} />;\n    case 'howItWorks':\n      return <HowItWorksV2 key={key} data={content.howItWorks} lpKey={lpKey} couponCode={couponCode} />;\n    case 'plans':\n      return <PlansV2 key={key} data={content.plans} lpKey={lpKey} couponCode={couponCode} conversion={content.conversion} />;\n    case 'testimonials':\n      return <TestimonialsV2 key={key} data={content.testimonials} lpKey={lpKey} couponCode={couponCode} />;\n    case 'kpis':\n      return <KPIsV2 key={key} data={content.kpis} lpKey={lpKey} couponCode={couponCode} />;\n    case 'about':\n      return <AboutV2 key={key} data={content.about} lpKey={lpKey} couponCode={couponCode} />;\n    case 'contact':\n      return <ContactV2 key={key} data={content.contact} lpKey={lpKey} />;\n    case 'beforeAfter':\n      return <BeforeAfterV2 key={key} data={content.beforeAfter} lpKey={lpKey} couponCode={couponCode} />;\n    case 'process':\n      return <ProcessV2 key={key} data={content.process} lpKey={lpKey} couponCode={couponCode} />;\n    case 'services':\n      return <ServicesV2 key={key} data={content.services} lpKey={lpKey} couponCode={couponCode} />;\n    case 'video':\n      return <VideoV2 key={key} data={content.video} lpKey={lpKey} couponCode={couponCode} />;\n    case 'videoCarousel':\n      return <VideoCarouselV2 key={key} data={content.videoCarousel} lpKey={lpKey} couponCode={couponCode} />;\n    case 'whyChoose':\n      return <WhyChooseV2 key={key} data={content.whyChoose} lpKey={lpKey} couponCode={couponCode} />;\n    case 'ctaFinal':\n      return <CTAFinalV2 key={key} data={content.ctaFinal} lpKey={lpKey} couponCode={couponCode} conversion={content.conversion} />;\n    case 'faq':\n      return <FAQV2 key={key} data={content.faq} lpKey={lpKey} couponCode={couponCode} />;\n    case 'forWhom':\n      return <ForWhomV2 key={key} data={content.forWhom} lpKey={lpKey} couponCode={couponCode} />;\n    case 'form':\n      return <FormV2 key={key} data={content.form} lpKey={lpKey} couponCode={couponCode} />;\n    case 'speakers':\n      return <SpeakersV2 key={key} data={content.speakers} lpKey={lpKey} couponCode={couponCode} />;\n    case 'sponsors':\n      return <SponsorsV2 key={key} data={content.sponsors} lpKey={lpKey} couponCode={couponCode} />;\n    default:\n      console.warn(`[CMS-V2] Seção desconhecida: ${sectionId}`);\n      return null;\n  }\n};\n\n// ======================================================\n// CONTENT RENDERER (dentro do Provider)\n// ======================================================\nexport const LandingPageV2Content = () => {\n  const { content, lpKey, isLoading, error } = useCMSV2();\n  const [globalTracking, setGlobalTracking] = useState<TrackingSettings | null>(null);\n\n  // Busca pixels globais uma vez (em paralelo com o content load)\n  useEffect(() => {\n    fetchGlobalTrackingV2().then(setGlobalTracking);\n  }, []);\n\n  if (isLoading && !content) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-background\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <div className=\"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent\" />\n          <p className=\"text-muted-foreground text-sm\">Carregando...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !content) {\n    console.error('[CMS-V2] Erro ao carregar:', error);\n    return <Navigate to=\"/404\" replace />;\n  }\n\n  const sectionOrder = content.sectionOrder || [];\n  const gradient = content.design?.gradient;\n  const gradientStyle = gradient?.from && gradient?.to\n    ? { background: `linear-gradient(to bottom, ${gradient.from}, ${gradient.to})` }\n    : undefined;\n\n  const hasMenu = content.globalMenu?.enabled;\n\n  return (\n    <main className=\"min-h-screen\" style={gradientStyle}>\n      <TrackingHeadV2\n        tracking={resolveTrackingV2(content.tracking, globalTracking)}\n        seo={content.seo}\n        lpKey={lpKey}\n      />\n      {hasMenu && <GlobalMenuV2 data={content.globalMenu} footer={content.footer} />}\n      <div className={hasMenu ? 'pt-16' : ''}>\n        {sectionOrder.map((sectionId, index) => renderSection(sectionId, content, lpKey, index))}\n      </div>\n      <FooterV2 data={content.footer} lpKey={lpKey} />\n      <WhatsAppButtonV2 data={content.floatingWhatsapp} lpKey={lpKey} />\n      <ExitIntentPopupV2 data={content.conversion?.exitIntent} coupon={content.conversion?.couponCode} lpKey={lpKey} />\n      <SocialProofToastV2 data={content.conversion?.socialProof} lpKey={lpKey} />\n      <StickyMobileCtaV2 data={content.floatingWhatsapp?.stickyCta} coupon={content.conversion?.couponCode} lpKey={lpKey} />\n    </main>\n  );\n};\n\n// ======================================================\n// PAGE COMPONENT (wrapper com Provider)\n// ======================================================\nexport default function LandingPageV2() {\n  const { slug } = useParams<{ slug: string }>();\n\n  if (!slug) return <Navigate to=\"/404\" replace />;\n\n  return (\n    <CMSProviderV2 lpKey={slug}>\n      <LandingPageV2Content />\n    </CMSProviderV2>\n  );\n}\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"rounded-xl bg-card text-card-foreground shadow-sm\", className)} {...props} />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"flex flex-col space-y-1.5 p-6\", className)} {...props} />\n  ),\n);\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h3 ref={ref} className={cn(\"text-2xl font-semibold leading-none tracking-tight\", className)} {...props} />\n  ),\n);\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => (\n    <p ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n  ),\n);\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />,\n);\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"flex items-center p-6 pt-0\", className)} {...props} />\n  ),\n);\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n","import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n        // Variante para badges de status - sem hover effect, cores via className\n        status: \"border-transparent\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\n\nconst Badge = React.forwardRef<HTMLDivElement, BadgeProps>(\n  ({ className, variant, ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={cn(badgeVariants({ variant }), className)}\n        {...props}\n      />\n    );\n  }\n);\nBadge.displayName = \"Badge\";\n\nexport { Badge, badgeVariants };\n","import * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { X } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Dialog = DialogPrimitive.Root;\n\nconst DialogTrigger = DialogPrimitive.Trigger;\n\nconst DialogPortal = DialogPrimitive.Portal;\n\nconst DialogClose = DialogPrimitive.Close;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\n// Helper to check if event target is inside a Radix portal (Select, Dropdown, Popover, etc.)\nconst isInsideRadixPortal = (target: EventTarget | null): boolean => {\n  if (!(target instanceof HTMLElement)) return false;\n  return !!(\n    target.closest('[data-radix-popper-content-wrapper]') ||\n    target.closest('[data-radix-select-content]') ||\n    target.closest('[data-radix-dropdown-menu-content]') ||\n    target.closest('[data-radix-menubar-content]') ||\n    target.closest('[data-radix-popover-content]') ||\n    target.closest('[data-radix-context-menu-content]')\n  );\n};\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => {\n  // Prevent dialog from closing when interacting with Radix portaled menus\n  const handleInteractOutside = (event: Event) => {\n    if (isInsideRadixPortal(event.target)) {\n      event.preventDefault();\n    }\n  };\n\n  const handlePointerDownOutside = (event: Event) => {\n    if (isInsideRadixPortal(event.target)) {\n      event.preventDefault();\n    }\n  };\n\n  return (\n    <DialogPortal>\n      {/* Wrapper com tema admin para herança correta de tokens via Portal */}\n      <div className=\"theme-admin\">\n        <DialogOverlay />\n        <DialogPrimitive.Content\n          ref={ref}\n          onInteractOutside={handleInteractOutside}\n          onPointerDownOutside={handlePointerDownOutside}\n          className={cn(\n            \"fixed left-[50%] top-[50%] z-[100] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 bg-card border border-border p-6 shadow-2xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg text-foreground\",\n            className,\n          )}\n          {...props}\n        >\n          {children}\n          <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none text-foreground/70 hover:text-foreground\">\n            <X className=\"h-4 w-4\" />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        </DialogPrimitive.Content>\n      </div>\n    </DialogPortal>\n  );\n});\nDialogContent.displayName = DialogPrimitive.Content.displayName;\n\nconst DialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className)} {...props} />\n);\nDialogHeader.displayName = \"DialogHeader\";\n\nconst DialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\n);\nDialogFooter.displayName = \"DialogFooter\";\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold leading-none tracking-tight text-foreground\", className)}\n    {...props}\n  />\n));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n};\n","import * as React from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { Check, ChevronRight, Circle } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst DropdownMenu = DropdownMenuPrimitive.Root;\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group;\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal;\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub;\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n));\nDropdownMenuSubTrigger.displayName = DropdownMenuPrimitive.SubTrigger.displayName;\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-[200] min-w-[8rem] overflow-hidden rounded-md bg-card border border-border text-foreground p-1 shadow-2xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuSubContent.displayName = DropdownMenuPrimitive.SubContent.displayName;\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    {/* Wrapper com tema admin para herança correta de tokens via Portal */}\n    <div className=\"theme-admin\">\n      <DropdownMenuPrimitive.Content\n        ref={ref}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-[200] min-w-[8rem] overflow-hidden rounded-md bg-card border border-border text-foreground p-1 shadow-2xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n          className,\n        )}\n        {...props}\n      />\n    </div>\n  </DropdownMenuPrimitive.Portal>\n));\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-white/10 focus:text-foreground hover:bg-white/10\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n));\nDropdownMenuCheckboxItem.displayName = DropdownMenuPrimitive.CheckboxItem.displayName;\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n));\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", inset && \"pl-8\", className)}\n    {...props}\n  />\n));\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} {...props} />\n));\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;\n\nconst DropdownMenuShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n  return <span className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)} {...props} />;\n};\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\";\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n};\n","import { cn } from \"@/lib/utils\";\n\n/**\n * AdminPageContainer - Wrapper padrão para TODAS as páginas admin\n * \n * REGRA: Nenhuma página admin deve aplicar marginLeft/width calc.\n * O offset do sidebar é controlado EXCLUSIVAMENTE pelo AdminLayout.\n * \n * Este componente fornece:\n * - Padding responsivo (p-4 md:p-8)\n * - Max-width baseado no tipo de página\n * - Espaçamento interno padronizado\n * \n * TIPOS DE PÁGINA:\n * - table: Tabelas com muitas colunas (7xl)\n * - dashboard: Cards, gráficos, métricas (7xl)\n * - form: Formulários, perfis, configurações (4xl)\n * - detail: Páginas de detalhe de registro (6xl)\n * - editor: Editores CMS, painéis complexos (full)\n */\n\n/** Tipo de página - determina automaticamente o maxWidth */\ntype PageType = \"table\" | \"dashboard\" | \"form\" | \"detail\" | \"editor\";\n\ninterface AdminPageContainerProps {\n  children: React.ReactNode;\n  /** Tipo de página - define maxWidth automaticamente */\n  type?: PageType;\n  /** Override manual de maxWidth (usar apenas se necessário) */\n  maxWidth?: \"sm\" | \"md\" | \"lg\" | \"xl\" | \"2xl\" | \"4xl\" | \"5xl\" | \"6xl\" | \"7xl\" | \"full\";\n  /** Additional classes */\n  className?: string;\n}\n\nconst typeToMaxWidth: Record<PageType, string> = {\n  table: \"7xl\",\n  dashboard: \"7xl\",\n  form: \"4xl\",\n  detail: \"6xl\",\n  editor: \"full\",\n};\n\nconst maxWidthClasses: Record<string, string> = {\n  sm: \"max-w-sm\",\n  md: \"max-w-md\",\n  lg: \"max-w-lg\",\n  xl: \"max-w-xl\",\n  \"2xl\": \"max-w-2xl\",\n  \"4xl\": \"max-w-4xl\",\n  \"5xl\": \"max-w-5xl\",\n  \"6xl\": \"max-w-6xl\",\n  \"7xl\": \"max-w-7xl\",\n  full: \"max-w-full\",\n};\n\nexport function AdminPageContainer({\n  children,\n  type,\n  maxWidth,\n  className,\n}: AdminPageContainerProps) {\n  // Prioridade: maxWidth explícito > type > default (7xl)\n  const resolvedMaxWidth = maxWidth || (type ? typeToMaxWidth[type] : \"7xl\");\n  \n  return (\n    <div\n      className={cn(\n        \"p-4 md:p-8 w-full\",\n        maxWidthClasses[resolvedMaxWidth],\n        \"mx-auto\",\n        className\n      )}\n    >\n      {children}\n    </div>\n  );\n}\n","import { LucideIcon } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\n/**\n * AdminPageHeader - Header padrão para TODAS as páginas admin\n * \n * PADRÃO OBRIGATÓRIO:\n * - Título: text-2xl md:text-3xl font-bold\n * - Descrição: text-sm text-muted-foreground\n * - Ícone (opcional): p-3 rounded-xl bg-accent/10\n * - Ações: slot flexível para botões\n * \n * @example\n * <AdminPageHeader\n *   icon={Users}\n *   title=\"Gestão de Equipe\"\n *   description=\"Gerencie os membros e permissões\"\n *   actions={<Button>Convidar</Button>}\n * />\n */\n\ninterface AdminPageHeaderProps {\n  /** Título principal da página */\n  title: string;\n  /** Descrição opcional abaixo do título */\n  description?: string;\n  /** Ícone Lucide opcional */\n  icon?: LucideIcon;\n  /** Cor do ícone (padrão: accent) */\n  iconColor?: \"accent\" | \"primary\" | \"muted\";\n  /** Badge opcional ao lado do título */\n  badge?: React.ReactNode;\n  /** Slot para botões de ação à direita */\n  actions?: React.ReactNode;\n  /** Classes adicionais */\n  className?: string;\n  /** Botão de voltar opcional (ReactNode para flexibilidade) */\n  backButton?: React.ReactNode;\n}\n\nconst iconColorMap = {\n  accent: \"text-accent bg-accent/10\",\n  primary: \"text-primary bg-primary/10\",\n  muted: \"text-muted-foreground bg-muted\",\n};\n\nexport function AdminPageHeader({\n  title,\n  description,\n  icon: Icon,\n  iconColor = \"accent\",\n  badge,\n  actions,\n  className,\n  backButton,\n}: AdminPageHeaderProps) {\n  return (\n    <div\n      className={cn(\n        \"flex flex-col md:flex-row md:items-center justify-between gap-4\",\n        className\n      )}\n    >\n      <div className=\"flex items-center gap-3\">\n        {backButton}\n        \n        {Icon && (\n          <div className={cn(\"p-3 rounded-xl\", iconColorMap[iconColor])}>\n            <Icon className=\"h-6 w-6\" />\n          </div>\n        )}\n        \n        <div>\n          <div className=\"flex items-center gap-2\">\n            <h1 className=\"text-2xl md:text-3xl font-bold text-foreground\">\n              {title}\n            </h1>\n            {badge}\n          </div>\n          \n          {description && (\n            <p className=\"text-sm text-muted-foreground mt-0.5\">\n              {description}\n            </p>\n          )}\n        </div>\n      </div>\n\n      {actions && (\n        <div className=\"flex items-center gap-2 flex-shrink-0\">\n          {actions}\n        </div>\n      )}\n    </div>\n  );\n}\n","import * as SheetPrimitive from \"@radix-ui/react-dialog\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { X } from \"lucide-react\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Sheet = SheetPrimitive.Root;\n\nconst SheetTrigger = SheetPrimitive.Trigger;\n\nconst SheetClose = SheetPrimitive.Close;\n\nconst SheetPortal = SheetPrimitive.Portal;\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n    ref={ref}\n  />\n));\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName;\n\nconst sheetVariants = cva(\n  \"fixed z-[100] gap-4 bg-card border-border text-foreground p-6 shadow-2xl transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  },\n);\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {\n  hideCloseButton?: boolean;\n}\n\nconst SheetContent = React.forwardRef<React.ElementRef<typeof SheetPrimitive.Content>, SheetContentProps>(\n  ({ side = \"right\", className, children, hideCloseButton = false, ...props }, ref) => (\n    <SheetPortal>\n      {/* Wrapper com tema admin para herança correta de tokens via Portal */}\n      <div className=\"theme-admin\">\n        <SheetOverlay />\n        <SheetPrimitive.Content ref={ref} className={cn(sheetVariants({ side }), className)} {...props}>\n          {children}\n          {!hideCloseButton && (\n            <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none text-foreground\">\n              <X className=\"h-4 w-4\" />\n              <span className=\"sr-only\">Close</span>\n            </SheetPrimitive.Close>\n          )}\n        </SheetPrimitive.Content>\n      </div>\n    </SheetPortal>\n  ),\n);\nSheetContent.displayName = SheetPrimitive.Content.displayName;\n\nconst SheetHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col space-y-2 text-center sm:text-left\", className)} {...props} />\n);\nSheetHeader.displayName = \"SheetHeader\";\n\nconst SheetFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\n);\nSheetFooter.displayName = \"SheetFooter\";\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title ref={ref} className={cn(\"text-lg font-semibold text-foreground\", className)} {...props} />\n));\nSheetTitle.displayName = SheetPrimitive.Title.displayName;\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nSheetDescription.displayName = SheetPrimitive.Description.displayName;\n\nexport {\n  Sheet,\n  SheetClose,\n  SheetContent,\n  SheetDescription,\n  SheetFooter,\n  SheetHeader,\n  SheetOverlay,\n  SheetPortal,\n  SheetTitle,\n  SheetTrigger,\n};\n","import { useState } from \"react\";\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetClose } from \"@/components/ui/sheet\";\nimport { Button } from \"@/components/ui/button\";\nimport { Monitor, Smartphone, RotateCcw, X } from \"lucide-react\";\n\ninterface PreviewDrawerV2Props {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  slug: string;\n  lpName?: string;\n}\n\n/**\n * PreviewDrawerV2 — Preview de LP inteira (drawer lateral)\n *\n * Carrega a LP inteira via iframe apontando para /l/:slug\n */\nexport const PreviewDrawerV2 = ({ open, onOpenChange, slug, lpName }: PreviewDrawerV2Props) => {\n  const [viewMode, setViewMode] = useState<'desktop' | 'mobile'>('desktop');\n  const [refreshKey, setRefreshKey] = useState(0);\n\n  const previewUrl = `/l/${slug}`;\n\n  const handleRefresh = () => {\n    setRefreshKey(prev => prev + 1);\n  };\n\n  return (\n    <Sheet open={open} onOpenChange={onOpenChange}>\n      <SheetContent\n        side=\"right\"\n        hideCloseButton\n        className=\"w-full sm:max-w-[90vw] lg:max-w-[80vw] p-0 bg-background border-l border-border overflow-hidden\"\n      >\n        <SheetHeader className=\"p-4 border-b border-border bg-white/5 backdrop-blur-xl\">\n          <div className=\"flex items-center justify-between\">\n            {/* Left: Title */}\n            <SheetTitle className=\"text-foreground text-lg font-semibold\">\n              Preview: {lpName || slug}\n            </SheetTitle>\n\n            {/* Center: Toggle Desktop/Mobile */}\n            <div className=\"flex items-center gap-1 p-1 bg-muted/30 rounded-lg\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setViewMode('desktop')}\n                className={`rounded-md px-4 h-9 font-medium transition-all duration-200 ${\n                  viewMode === 'desktop'\n                    ? 'bg-white text-black shadow-md'\n                    : 'text-white/70 hover:text-white hover:bg-white/10'\n                }`}\n              >\n                <Monitor className=\"w-4 h-4 mr-2\" />\n                Desktop\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setViewMode('mobile')}\n                className={`rounded-md px-4 h-9 font-medium transition-all duration-200 ${\n                  viewMode === 'mobile'\n                    ? 'bg-white text-black shadow-md'\n                    : 'text-white/70 hover:text-white hover:bg-white/10'\n                }`}\n              >\n                <Smartphone className=\"w-4 h-4 mr-2\" />\n                Mobile\n              </Button>\n            </div>\n\n            {/* Right: Refresh + Close */}\n            <div className=\"flex items-center gap-2\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={handleRefresh}\n                className=\"h-9 w-9 rounded-full text-white/70 hover:text-white hover:bg-white/10\"\n                title=\"Atualizar preview\"\n              >\n                <RotateCcw className=\"w-4 h-4\" />\n              </Button>\n              <SheetClose asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-9 w-9 rounded-full text-white/70 hover:text-white hover:bg-white/10\"\n                  title=\"Fechar preview\"\n                >\n                  <X className=\"w-4 h-4\" />\n                </Button>\n              </SheetClose>\n            </div>\n          </div>\n        </SheetHeader>\n\n        {/* Preview Area */}\n        <div className=\"h-[calc(100vh-80px)] overflow-auto bg-background/80 backdrop-blur-xl flex justify-center p-6\">\n          <div\n            className={`transition-all duration-300 h-full ${\n              viewMode === 'mobile'\n                ? 'w-[375px]'\n                : 'w-full'\n            }`}\n          >\n            {viewMode === 'mobile' ? (\n              <div\n                className=\"h-full flex flex-col border-[8px] border-black rounded-[3rem] shadow-2xl overflow-hidden bg-black\"\n                style={{\n                  boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.6), inset 0 0 0 2px rgba(255,255,255,0.05)'\n                }}\n              >\n                {/* Mobile Notch */}\n                <div className=\"w-full h-7 bg-black flex items-center justify-center flex-shrink-0\">\n                  <div className=\"w-24 h-6 bg-black rounded-full border border-white/10\" />\n                </div>\n\n                {/* Iframe */}\n                <div className=\"flex-1 overflow-hidden bg-white\">\n                  <iframe\n                    key={`mobile-${refreshKey}`}\n                    src={previewUrl}\n                    className=\"w-full h-full border-0\"\n                    title={`Preview Mobile: ${lpName || slug}`}\n                  />\n                </div>\n              </div>\n            ) : (\n              /* Desktop View */\n              <div className=\"h-full rounded-lg overflow-hidden shadow-xl\">\n                <iframe\n                  key={`desktop-${refreshKey}`}\n                  src={previewUrl}\n                  className=\"w-full h-full border-0\"\n                  title={`Preview Desktop: ${lpName || slug}`}\n                />\n              </div>\n            )}\n          </div>\n        </div>\n      </SheetContent>\n    </Sheet>\n  );\n};\n","import { useState, useEffect, useRef, useCallback } from 'react';\n\n/**\n * Hook que isola o estado local de digitação do estado global.\n * Atualiza o estado externo apenas após pausa na digitação.\n * \n * @param externalValue - Valor vindo do estado global (CMS draft)\n * @param onDebouncedChange - Callback para atualizar o estado global\n * @param delay - Tempo de debounce em ms (padrão: 300ms)\n * @returns Tuple [localValue, setLocalValue]\n */\nexport function useDebouncedInput(\n  externalValue: string,\n  onDebouncedChange: (value: string) => void,\n  delay: number = 300\n): [string, (value: string) => void] {\n  const [localValue, setLocalValue] = useState(externalValue);\n  const isInternalUpdate = useRef(false);\n  const prevExternalValue = useRef(externalValue);\n  \n  // Sincroniza quando valor externo muda (ex: reset, mudança de seção)\n  useEffect(() => {\n    // Só atualiza se o valor externo realmente mudou de fora\n    if (externalValue !== prevExternalValue.current && !isInternalUpdate.current) {\n      setLocalValue(externalValue);\n    }\n    prevExternalValue.current = externalValue;\n    isInternalUpdate.current = false;\n  }, [externalValue]);\n  \n  // Debounce para atualizar estado global\n  useEffect(() => {\n    // Não dispara se valores são iguais\n    if (localValue === externalValue) return;\n    \n    const timer = setTimeout(() => {\n      isInternalUpdate.current = true;\n      onDebouncedChange(localValue);\n    }, delay);\n    \n    return () => clearTimeout(timer);\n  }, [localValue, delay, onDebouncedChange, externalValue]);\n  \n  const handleChange = useCallback((value: string) => {\n    setLocalValue(value);\n  }, []);\n  \n  return [localValue, handleChange];\n}\n\n/**\n * Hook para valores não-string (números, arrays, objetos)\n * Útil para selects, checkboxes, etc.\n */\nexport function useDebouncedValue<T>(\n  externalValue: T,\n  onDebouncedChange: (value: T) => void,\n  delay: number = 300\n): [T, (value: T) => void] {\n  const [localValue, setLocalValue] = useState<T>(externalValue);\n  const isInternalUpdate = useRef(false);\n  const prevExternalValue = useRef(externalValue);\n  \n  useEffect(() => {\n    const externalStr = JSON.stringify(externalValue);\n    const prevStr = JSON.stringify(prevExternalValue.current);\n    \n    if (externalStr !== prevStr && !isInternalUpdate.current) {\n      setLocalValue(externalValue);\n    }\n    prevExternalValue.current = externalValue;\n    isInternalUpdate.current = false;\n  }, [externalValue]);\n  \n  useEffect(() => {\n    const localStr = JSON.stringify(localValue);\n    const externalStr = JSON.stringify(externalValue);\n    \n    if (localStr === externalStr) return;\n    \n    const timer = setTimeout(() => {\n      isInternalUpdate.current = true;\n      onDebouncedChange(localValue);\n    }, delay);\n    \n    return () => clearTimeout(timer);\n  }, [localValue, delay, onDebouncedChange, externalValue]);\n  \n  const handleChange = useCallback((value: T) => {\n    setLocalValue(value);\n  }, []);\n  \n  return [localValue, handleChange];\n}\n","import { memo, InputHTMLAttributes } from 'react';\nimport { Input } from \"@/components/ui/input\";\nimport { useDebouncedInput } from \"@/hooks/useDebouncedInput\";\n\ninterface DebouncedInputV2Props extends Omit<InputHTMLAttributes<HTMLInputElement>, 'value' | 'onChange'> {\n  value: string;\n  onDebouncedChange: (value: string) => void;\n  debounceMs?: number;\n}\n\nexport const DebouncedInputV2 = memo(({\n  value,\n  onDebouncedChange,\n  debounceMs = 300,\n  ...props\n}: DebouncedInputV2Props) => {\n  const [localValue, setLocalValue] = useDebouncedInput(\n    value ?? '',\n    onDebouncedChange,\n    debounceMs\n  );\n\n  return (\n    <Input\n      {...props}\n      value={localValue}\n      onChange={(e) => setLocalValue(e.target.value)}\n    />\n  );\n});\n\nDebouncedInputV2.displayName = 'DebouncedInputV2';\n","// ============================================================\n// Pixel Validation V2 — validação de formato por plataforma\n// ============================================================\n\nexport type PixelPlatform = 'meta' | 'ga' | 'gtm' | 'tiktok' | 'linkedin';\nexport type PixelStatus = 'valid' | 'warning' | 'error' | 'empty';\n\ninterface PixelRule {\n  regex: RegExp;\n  label: string;\n  example: string;\n}\n\nconst PIXEL_RULES: Record<PixelPlatform, PixelRule> = {\n  meta:     { regex: /^\\d{15,16}$/,           label: 'Meta Pixel',           example: '966889988243951' },\n  ga:       { regex: /^G-[A-Z0-9]{8,12}$/i,  label: 'Google Analytics',     example: 'G-XXXXXXXXXX' },\n  gtm:      { regex: /^GTM-[A-Z0-9]{6,8}$/i, label: 'Google Tag Manager',   example: 'GTM-XXXXXXX' },\n  tiktok:   { regex: /^[A-Z0-9]{10,25}$/i,   label: 'TikTok Pixel',         example: 'CXXXXXXXXXXXXXXXXX' },\n  linkedin: { regex: /^\\d{5,10}$/,            label: 'LinkedIn Insight',     example: '1234567' },\n};\n\nexport interface PixelValidationResult {\n  status: PixelStatus;\n  message: string;\n}\n\n/**\n * Valida um pixel ID contra as regras da plataforma.\n * - empty: campo vazio\n * - warning: contém espaços no início ou fim\n * - valid: formato correto\n * - error: formato inválido\n */\nexport function validatePixelId(platform: PixelPlatform, value: string): PixelValidationResult {\n  if (!value || !value.trim()) {\n    return { status: 'empty', message: 'Não configurado' };\n  }\n\n  if (value !== value.trim()) {\n    return { status: 'warning', message: 'Contém espaços — remova manualmente' };\n  }\n\n  const rule = PIXEL_RULES[platform];\n  if (rule.regex.test(value)) {\n    return { status: 'valid', message: '✓ Formato válido' };\n  }\n\n  return { status: 'error', message: `Formato inválido. Ex: ${rule.example}` };\n}\n\n/** Retorna o exemplo de formato da plataforma */\nexport function getPixelExample(platform: PixelPlatform): string {\n  return PIXEL_RULES[platform].example;\n}\n\n/** Retorna o label da plataforma */\nexport function getPixelLabel(platform: PixelPlatform): string {\n  return PIXEL_RULES[platform].label;\n}\n\n/** Retorna classes de cor Tailwind baseado no status */\nexport function getStatusColor(status: PixelStatus): string {\n  switch (status) {\n    case 'valid':   return 'text-green-400 bg-green-500/20 border-green-500/30';\n    case 'warning': return 'text-amber-400 bg-amber-500/20 border-amber-500/30';\n    case 'error':   return 'text-red-400 bg-red-500/20 border-red-500/30';\n    case 'empty':   return 'text-muted-foreground bg-muted/30 border-border/20';\n  }\n}\n\n/** Retorna classe do círculo indicador (dot) */\nexport function getStatusDotColor(status: PixelStatus): string {\n  switch (status) {\n    case 'valid':   return 'bg-green-500';\n    case 'warning': return 'bg-amber-500';\n    case 'error':   return 'bg-red-500';\n    case 'empty':   return 'bg-white/30';\n  }\n}\n\n/** Lista de todas as plataformas (para iteração) */\nexport const PIXEL_PLATFORMS: { key: PixelPlatform; label: string; placeholder: string }[] = [\n  { key: 'meta',     label: 'Meta Pixel (Facebook/Instagram)', placeholder: 'Ex: 966889988243951' },\n  { key: 'ga',       label: 'Google Analytics (GA4)',           placeholder: 'Ex: G-XXXXXXXXXX' },\n  { key: 'gtm',      label: 'Google Tag Manager',              placeholder: 'Ex: GTM-XXXXXXX' },\n  { key: 'tiktok',   label: 'TikTok Pixel',                    placeholder: 'Ex: CXXXXXXXXXXXXXXXXX' },\n  { key: 'linkedin', label: 'LinkedIn Insight',                 placeholder: 'Ex: 1234567' },\n];\n","import { memo, useState, useEffect, useCallback } from 'react';\nimport { Label } from '@/components/ui/label';\nimport { Activity, Save, Loader2 } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { DebouncedInputV2 } from '@/components/admin/shared-v2/DebouncedInputV2';\nimport { fetchGlobalTrackingV2, saveGlobalTrackingV2, fetchAllLPs } from '@/lib/cms-v2/cms-api';\nimport { TrackingSettings } from '@/lib/cms-v2/cms-types';\nimport {\n  validatePixelId,\n  getStatusDotColor,\n  PIXEL_PLATFORMS,\n  type PixelPlatform,\n} from '@/lib/cms-v2/pixelValidation-v2';\nimport { toast } from 'sonner';\n\n// ============================================================\n// GlobalTrackingPanelV2 — Painel de pixels globais\n// ============================================================\n\nconst DEFAULT_TRACKING: TrackingSettings = {\n  enabled: true,\n  meta: '',\n  ga: '',\n  gtm: '',\n  tiktok: '',\n  linkedin: '',\n};\n\nexport const GlobalTrackingPanelV2 = memo(() => {\n  const [tracking, setTracking] = useState<TrackingSettings>(DEFAULT_TRACKING);\n  const [isSaving, setIsSaving] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [lpsWithOverride, setLpsWithOverride] = useState<string[]>([]);\n  const [isDirty, setIsDirty] = useState(false);\n\n  // Carrega dados iniciais\n  useEffect(() => {\n    const load = async () => {\n      setIsLoading(true);\n      const [globalData, allLps] = await Promise.all([\n        fetchGlobalTrackingV2(),\n        fetchAllLPs(),\n      ]);\n\n      if (globalData) {\n        setTracking(globalData);\n      }\n\n      // Identifica LPs com tracking individual ativo\n      const overrides = allLps\n        .filter(lp => lp.lp_key !== 'global-v2')\n        .filter(lp => {\n          const t = lp.content?.tracking;\n          if (!t || !t.enabled) return false;\n          // Tem pelo menos 1 pixel preenchido E useGlobal não está ativo\n          // (ou seja, está usando pixels próprios)\n          const hasLocal = !!(t.meta?.trim() || t.ga?.trim() || t.gtm?.trim() || t.tiktok?.trim() || t.linkedin?.trim());\n          return hasLocal;\n        })\n        .map(lp => lp.name || lp.lp_key);\n\n      setLpsWithOverride(overrides);\n      setIsLoading(false);\n    };\n    load();\n  }, []);\n\n  const handleFieldChange = useCallback((platform: PixelPlatform, value: string) => {\n    setTracking(prev => ({ ...prev, [platform]: value }));\n    setIsDirty(true);\n  }, []);\n\n  const handleSave = async () => {\n    setIsSaving(true);\n    const success = await saveGlobalTrackingV2(tracking);\n    if (success) {\n      toast.success('Pixels globais salvos!');\n      setIsDirty(false);\n    } else {\n      toast.error('Erro ao salvar pixels globais');\n    }\n    setIsSaving(false);\n  };\n\n  // Verifica se algum pixel global está configurado\n  const hasAnyGlobal = PIXEL_PLATFORMS.some(p => tracking[p.key]?.trim());\n\n  if (isLoading) {\n    return (\n      <div className=\"bg-card rounded-2xl p-6\">\n        <div className=\"flex items-center gap-3 text-muted-foreground\">\n          <Loader2 className=\"h-5 w-5 animate-spin\" />\n          <span className=\"text-sm\">Carregando pixels globais...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-card rounded-2xl p-6 space-y-5\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-9 h-9 rounded-lg bg-primary/10 flex items-center justify-center\">\n            <Activity className=\"h-5 w-5 text-primary\" />\n          </div>\n          <div>\n            <h3 className=\"text-sm font-semibold text-foreground\">Pixels Globais</h3>\n            <p className=\"text-xs text-muted-foreground\">Aplicados a todas as LPs (individual sobrescreve)</p>\n          </div>\n        </div>\n        <Button\n          size=\"sm\"\n          onClick={handleSave}\n          disabled={isSaving || !isDirty}\n          className=\"gap-1.5\"\n        >\n          {isSaving ? <Loader2 className=\"h-3.5 w-3.5 animate-spin\" /> : <Save className=\"h-3.5 w-3.5\" />}\n          {isSaving ? 'Salvando...' : 'Salvar'}\n        </Button>\n      </div>\n\n      {/* Banner de status */}\n      {lpsWithOverride.length > 0 ? (\n        <div className=\"flex items-start gap-2 px-3 py-2.5 rounded-lg bg-blue-500/10 border border-blue-500/20\">\n          <div className=\"w-2 h-2 rounded-full bg-blue-500 mt-1.5 shrink-0\" />\n          <p className=\"text-xs text-blue-400\">\n            <span className=\"font-medium\">LPs com tracking individual:</span>{' '}\n            {lpsWithOverride.join(', ')}\n          </p>\n        </div>\n      ) : hasAnyGlobal ? (\n        <div className=\"flex items-center gap-2 px-3 py-2.5 rounded-lg bg-green-500/10 border border-green-500/20\">\n          <div className=\"w-2 h-2 rounded-full bg-green-500 shrink-0\" />\n          <p className=\"text-xs text-green-400\">Pixels globais ativos em todas as LPs</p>\n        </div>\n      ) : (\n        <div className=\"flex items-center gap-2 px-3 py-2.5 rounded-lg bg-amber-500/10 border border-amber-500/20\">\n          <div className=\"w-2 h-2 rounded-full bg-amber-500 shrink-0\" />\n          <p className=\"text-xs text-amber-400\">Nenhum pixel global configurado</p>\n        </div>\n      )}\n\n      {/* Campos de pixel */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {PIXEL_PLATFORMS.map(({ key, label, placeholder }) => {\n          const value = tracking[key] || '';\n          const validation = validatePixelId(key, value);\n\n          return (\n            <div key={key} className=\"space-y-1.5\">\n              <Label className=\"text-xs text-foreground\">{label}</Label>\n              <div className=\"flex items-center gap-2\">\n                <DebouncedInputV2\n                  value={value}\n                  onDebouncedChange={(v) => handleFieldChange(key, v)}\n                  placeholder={placeholder}\n                  className=\"input-admin font-mono flex-1 text-sm\"\n                />\n                <div\n                  className={`w-3 h-3 rounded-full shrink-0 ${getStatusDotColor(validation.status)}`}\n                  title={validation.message}\n                />\n              </div>\n              <p className={`text-[11px] ${\n                validation.status === 'valid' ? 'text-green-400' :\n                validation.status === 'warning' ? 'text-amber-400' :\n                validation.status === 'error' ? 'text-red-400' :\n                'text-muted-foreground/50'\n              }`}>\n                {validation.message}\n              </p>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n});\n\nGlobalTrackingPanelV2.displayName = 'GlobalTrackingPanelV2';\n","import { supabase } from '@/integrations/supabase/client';\n\n// ============================================================\n// Homepage API — Controla qual LP é a página principal (limpme.com)\n// Tabela: bd_site_homepage (singleton — 1 registro)\n// ============================================================\n\nexport type HomepageConfig = {\n  version: 'v1' | 'v2';\n  lp_ref: string; // V1: 'lp01','lp02','lp03' | V2: lp_key da bd_cms_lp_v2\n};\n\nexport const DEFAULT_HOMEPAGE: HomepageConfig = { version: 'v1', lp_ref: 'lp01' };\n\n/**\n * Busca a configuração da homepage atual.\n * Fallback seguro: retorna V1 lp01 se tabela vazia ou erro.\n */\nexport async function fetchHomepageConfig(): Promise<HomepageConfig> {\n  try {\n    const { data, error } = await (supabase as any)\n      .from('bd_site_homepage')\n      .select('version, lp_ref')\n      .limit(1)\n      .maybeSingle();\n\n    if (error || !data) {\n      console.warn('[Homepage] Fallback para config padrão:', error?.message);\n      return DEFAULT_HOMEPAGE;\n    }\n\n    const version = data.version as string;\n    const lp_ref = data.lp_ref as string;\n\n    if (version !== 'v1' && version !== 'v2') return DEFAULT_HOMEPAGE;\n    if (!lp_ref?.trim()) return DEFAULT_HOMEPAGE;\n\n    return { version: version as 'v1' | 'v2', lp_ref };\n  } catch (err) {\n    console.error('[Homepage] Erro crítico no fetch:', err);\n    return DEFAULT_HOMEPAGE;\n  }\n}\n\n/**\n * Define qual LP é a homepage.\n * Estratégia: busca o ID existente → UPDATE (não DELETE+INSERT = sem race condition).\n * Se não existir registro, faz INSERT.\n * Valida que a LP existe e está ativa antes de salvar.\n */\nexport async function setHomepage(\n  version: 'v1' | 'v2',\n  lpRef: string\n): Promise<boolean> {\n  try {\n    // Validação: verificar se LP existe e está ativa\n    if (version === 'v2') {\n      const { data: lp, error: lpErr } = await supabase\n        .from('bd_cms_lp_v2')\n        .select('lp_key, status')\n        .eq('lp_key', lpRef)\n        .maybeSingle();\n\n      if (lpErr || !lp) {\n        console.error('[Homepage] LP V2 não encontrada:', lpRef);\n        return false;\n      }\n      if (lp.status !== 'active') {\n        console.error('[Homepage] LP V2 não está ativa:', lpRef, lp.status);\n        return false;\n      }\n    } else if (version === 'v1') {\n      const { data: lp, error: lpErr } = await supabase\n        .from('bd_cms_lp')\n        .select('lp_key, status')\n        .eq('lp_key', lpRef)\n        .maybeSingle();\n\n      if (lpErr || !lp) {\n        console.error('[Homepage] LP V1 não encontrada:', lpRef);\n        return false;\n      }\n      if (lp.status !== 'active') {\n        console.error('[Homepage] LP V1 não está ativa:', lpRef, lp.status);\n        return false;\n      }\n    }\n\n    // Busca o registro existente\n    const { data: existing } = await (supabase as any)\n      .from('bd_site_homepage')\n      .select('id')\n      .limit(1)\n      .maybeSingle();\n\n    if (existing?.id) {\n      // UPDATE no registro existente (sem race condition)\n      const { error: updErr } = await (supabase as any)\n        .from('bd_site_homepage')\n        .update({\n          version,\n          lp_ref: lpRef,\n          updated_at: new Date().toISOString(),\n        })\n        .eq('id', existing.id);\n\n      if (updErr) {\n        console.error('[Homepage] Erro ao atualizar:', updErr);\n        return false;\n      }\n    } else {\n      // Tabela vazia: INSERT\n      const { error: insErr } = await (supabase as any)\n        .from('bd_site_homepage')\n        .insert({\n          version,\n          lp_ref: lpRef,\n          updated_at: new Date().toISOString(),\n        });\n\n      if (insErr) {\n        console.error('[Homepage] Erro ao inserir:', insErr);\n        return false;\n      }\n    }\n\n    return true;\n  } catch (err) {\n    console.error('[Homepage] Erro crítico no setHomepage:', err);\n    return false;\n  }\n}\n","import { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { fetchAllLPs, createLP, deleteLP, duplicateLP, updateLPStatus, updateLPSettings } from '@/lib/cms-v2/cms-api';\nimport { getNewLPContent } from '@/lib/cms-v2/lp-template';\nimport { LPRecord, LPStatus } from '@/lib/cms-v2/cms-types';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport {\n  Dialog, DialogContent, DialogHeader, DialogTitle,\n  DialogTrigger, DialogFooter, DialogClose, DialogDescription,\n} from '@/components/ui/dialog';\nimport {\n  Plus, Edit, Eye, Copy, FileText, Settings, LayoutTemplate,\n  Check, Pencil, Trash2, Loader2, Home, Rocket,\n} from 'lucide-react';\nimport {\n  DropdownMenu, DropdownMenuContent, DropdownMenuItem,\n  DropdownMenuTrigger, DropdownMenuSeparator,\n} from '@/components/ui/dropdown-menu';\nimport { AdminPageContainer } from '@/components/admin/layout/AdminPageContainer';\nimport { AdminPageHeader } from '@/components/admin/layout/AdminPageHeader';\nimport { PreviewDrawerV2 } from '@/components/admin/preview-v2/PreviewDrawerV2';\nimport { GlobalTrackingPanelV2 } from '@/components/admin/sections-v2/GlobalTrackingPanelV2';\nimport { fetchHomepageConfig, setHomepage, type HomepageConfig } from '@/lib/homepage-api';\nimport { toast } from 'sonner';\n\n// ============================================================\n// Status config\n// ============================================================\nconst statusColors: Record<LPStatus, string> = {\n  active: 'bg-green-500/10 text-green-500 border-green-500/20',\n  draft: 'bg-yellow-500/10 text-yellow-500 border-yellow-500/20',\n  archived: 'bg-gray-500/10 text-gray-400 border-gray-500/20',\n};\n\nconst statusLabels: Record<LPStatus, string> = {\n  active: 'Ativo',\n  draft: 'Rascunho',\n  archived: 'Arquivado',\n};\n\n// ============================================================\n// Inline Slug Editor\n// ============================================================\nfunction InlineSlugEditor({ lp, onSave }: { lp: LPRecord; onSave: (slug: string) => Promise<void> }) {\n  const [isEditing, setIsEditing] = useState(false);\n  const [value, setValue] = useState(lp.slug);\n  const [isSaving, setIsSaving] = useState(false);\n\n  const fullUrl = `${window.location.origin}/l/${lp.slug}`;\n\n  const handleSave = async () => {\n    const cleaned = value.toLowerCase().replace(/[^a-z0-9-]/g, '');\n    if (!cleaned || cleaned === lp.slug) {\n      setValue(lp.slug);\n      setIsEditing(false);\n      return;\n    }\n    setIsSaving(true);\n    await onSave(cleaned);\n    setIsSaving(false);\n    setIsEditing(false);\n  };\n\n  const handleCopy = async () => {\n    try {\n      await navigator.clipboard.writeText(fullUrl);\n      toast.success('Link copiado!');\n    } catch {\n      toast.error('Erro ao copiar');\n    }\n  };\n\n  return (\n    <div className=\"space-y-1.5\">\n      <div className=\"flex items-center gap-1.5\">\n        <span className=\"text-xs text-muted-foreground font-mono\">/l/</span>\n        {isEditing ? (\n          <div className=\"flex items-center gap-1 flex-1\">\n            <Input\n              value={value}\n              onChange={(e) => setValue(e.target.value.toLowerCase().replace(/[^a-z0-9-]/g, ''))}\n              onKeyDown={(e) => e.key === 'Enter' && handleSave()}\n              onBlur={handleSave}\n              disabled={isSaving}\n              className=\"h-6 text-xs font-mono px-1.5 py-0\"\n              autoFocus\n            />\n          </div>\n        ) : (\n          <>\n            <span className=\"text-xs text-foreground font-mono font-medium\">{lp.slug}</span>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-5 w-5 text-muted-foreground hover:text-foreground\"\n              onClick={() => { setValue(lp.slug); setIsEditing(true); }}\n            >\n              <Pencil className=\"h-3 w-3\" />\n            </Button>\n          </>\n        )}\n      </div>\n      <div className=\"flex items-center gap-1.5\">\n        <span className=\"text-[11px] text-muted-foreground/70 font-mono truncate max-w-[200px]\">\n          {fullUrl}\n        </span>\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"h-5 w-5 text-muted-foreground hover:text-accent shrink-0\"\n          onClick={handleCopy}\n          title=\"Copiar link\"\n        >\n          <Copy className=\"h-3 w-3\" />\n        </Button>\n      </div>\n    </div>\n  );\n}\n\n// ============================================================\n// Relative time\n// ============================================================\nfunction formatRelativeDate(dateStr: string): string {\n  if (!dateStr) return '';\n  const date = new Date(dateStr);\n  const now = new Date();\n  const diffMs = now.getTime() - date.getTime();\n  const diffMin = Math.floor(diffMs / 60000);\n  const diffHrs = Math.floor(diffMs / 3600000);\n  const diffDays = Math.floor(diffMs / 86400000);\n\n  if (diffMin < 1) return 'agora mesmo';\n  if (diffMin < 60) return `há ${diffMin}min`;\n  if (diffHrs < 24) return `há ${diffHrs}h`;\n  if (diffDays < 7) return `há ${diffDays}d`;\n  return date.toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit', year: '2-digit' });\n}\n\n// ============================================================\n// Main Component\n// ============================================================\nexport default function LandingPagesV2() {\n  const [lps, setLps] = useState<LPRecord[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isCreating, setIsCreating] = useState(false);\n  const [newLp, setNewLp] = useState({ name: '', slug: '', lp_key: '' });\n  const [createDialogOpen, setCreateDialogOpen] = useState(false);\n\n  // Duplicate dialog state (W1 original — dialog completo com campos editáveis)\n  const [duplicateSource, setDuplicateSource] = useState<LPRecord | null>(null);\n  const [duplicateData, setDuplicateData] = useState({ name: '', slug: '', lp_key: '' });\n  const [isDuplicating, setIsDuplicating] = useState(false);\n\n  // Delete dialog state (W1 original — confirmação por texto)\n  const [deleteTarget, setDeleteTarget] = useState<LPRecord | null>(null);\n  const [deleteConfirmText, setDeleteConfirmText] = useState('');\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  // Edit Settings dialog state\n  const [editLp, setEditLp] = useState<{ lp_key: string; name: string; slug: string } | null>(null);\n  const [isEditingSetting, setIsEditingSetting] = useState(false);\n\n  // Preview State\n  const [previewLp, setPreviewLp] = useState<LPRecord | null>(null);\n\n  // Homepage config\n  const [homepageConfig, setHomepageConfig] = useState<HomepageConfig | null>(null);\n  const [isSettingHomepage, setIsSettingHomepage] = useState(false);\n\n  const loadLPs = async () => {\n    setIsLoading(true);\n    const [data, hpConfig] = await Promise.all([\n      fetchAllLPs(),\n      fetchHomepageConfig(),\n    ]);\n    setLps(data);\n    setHomepageConfig(hpConfig);\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    loadLPs();\n  }, []);\n\n  const filteredLps = lps.filter(lp => lp.lp_key !== 'global-v2');\n\n  // ---- Handlers ----\n\n  const handleCreate = async () => {\n    if (!newLp.name || !newLp.slug || !newLp.lp_key) {\n      toast.error('Preencha todos os campos');\n      return;\n    }\n\n    setIsCreating(true);\n\n    // REGRA MASTER: toda LP nova nasce do GABARITO HARDCODED (lp-template.ts).\n    // O molde vive no código — não depende de nenhuma LP do banco.\n    // Deletar LP01, LP02, LP99 não afeta nada — o gabarito é eterno.\n    const content = getNewLPContent();\n\n    const success = await createLP({\n      lp_key: newLp.lp_key,\n      name: newLp.name,\n      slug: newLp.slug,\n      status: 'draft',\n      content,\n    });\n\n    if (success) {\n      toast.success('LP criada com sucesso!');\n      setNewLp({ name: '', slug: '', lp_key: '' });\n      setCreateDialogOpen(false);\n      loadLPs();\n    } else {\n      toast.error('Erro ao criar LP');\n    }\n    setIsCreating(false);\n  };\n\n  const handleStatusChange = async (lpKey: string, newStatus: LPStatus) => {\n    const success = await updateLPStatus(lpKey, newStatus);\n    if (success) {\n      toast.success(`Status alterado para ${statusLabels[newStatus]}`);\n      loadLPs();\n    } else {\n      toast.error('Erro ao alterar status');\n    }\n  };\n\n  const handleSlugSave = async (lpKey: string, newSlug: string) => {\n    const lp = lps.find(l => l.lp_key === lpKey);\n    if (!lp) return;\n    const success = await updateLPSettings(lpKey, { name: lp.name, slug: newSlug });\n    if (success) {\n      toast.success('Slug atualizado!');\n      loadLPs();\n    } else {\n      toast.error('Erro ao atualizar slug');\n    }\n  };\n\n  const handleUpdateSettings = async () => {\n    if (!editLp || !editLp.name || !editLp.slug) return;\n\n    setIsEditingSetting(true);\n    const success = await updateLPSettings(editLp.lp_key, {\n      name: editLp.name,\n      slug: editLp.slug\n    });\n\n    if (success) {\n      toast.success('Configurações atualizadas!');\n      setEditLp(null);\n      loadLPs();\n    } else {\n      toast.error('Erro ao atualizar configurações');\n    }\n    setIsEditingSetting(false);\n  };\n\n  // W1 original — duplicate com dialog completo\n  const handleDuplicate = async () => {\n    if (!duplicateSource || !duplicateData.name || !duplicateData.slug || !duplicateData.lp_key) {\n      toast.error('Preencha todos os campos');\n      return;\n    }\n\n    setIsDuplicating(true);\n    const success = await duplicateLP(\n      duplicateSource.lp_key,\n      duplicateData.lp_key,\n      duplicateData.name,\n      duplicateData.slug\n    );\n\n    if (success) {\n      toast.success(`LP duplicada com sucesso! Nova: ${duplicateData.lp_key}`);\n      setDuplicateSource(null);\n      setDuplicateData({ name: '', slug: '', lp_key: '' });\n      loadLPs();\n    } else {\n      toast.error('Erro ao duplicar LP. Verifique se o lp_key/slug já existe.');\n    }\n    setIsDuplicating(false);\n  };\n\n  const handleSetHomepage = async (lpKey: string) => {\n    setIsSettingHomepage(true);\n    const success = await setHomepage('v2', lpKey);\n    if (success) {\n      toast.success('Página principal atualizada!');\n      // Recarrega config da homepage\n      const newConfig = await fetchHomepageConfig();\n      setHomepageConfig(newConfig);\n    } else {\n      toast.error('Erro ao definir página principal. Verifique se a LP está ativa.');\n    }\n    setIsSettingHomepage(false);\n  };\n\n  const isHomepage = (lp: LPRecord) =>\n    homepageConfig?.version === 'v2' && homepageConfig?.lp_ref === lp.lp_key;\n\n  const openDuplicateDialog = (lp: LPRecord) => {\n    setDuplicateSource(lp);\n    setDuplicateData({\n      name: `${lp.name} (Cópia)`,\n      slug: `${lp.slug}-copy`,\n      lp_key: `${lp.lp_key}-copy`,\n    });\n  };\n\n  // W1 original — delete com confirmação por texto\n  const handleDelete = async () => {\n    if (!deleteTarget) return;\n\n    // Proteção: não permite excluir a LP que é a homepage\n    if (isHomepage(deleteTarget)) {\n      toast.error('Esta LP é a página principal. Defina outra LP como principal antes de excluir.');\n      setIsDeleting(false);\n      return;\n    }\n\n    setIsDeleting(true);\n    const success = await deleteLP(deleteTarget.lp_key);\n\n    if (success) {\n      toast.success(`LP \"${deleteTarget.name}\" excluída com sucesso`);\n      setDeleteTarget(null);\n      setDeleteConfirmText('');\n      loadLPs();\n    } else {\n      toast.error('Erro ao excluir LP');\n    }\n    setIsDeleting(false);\n  };\n\n  // ============================================================\n  // Render\n  // ============================================================\n  return (\n    <AdminPageContainer type=\"dashboard\">\n      <div className=\"space-y-6\">\n        {/* Header */}\n        <AdminPageHeader\n          icon={LayoutTemplate}\n          title=\"Landing Pages V2\"\n          description=\"Gerencie suas landing pages com arquitetura linear\"\n          actions={\n            <Dialog open={createDialogOpen} onOpenChange={setCreateDialogOpen}>\n              <DialogTrigger asChild>\n                <Button className=\"gap-2\">\n                  <Plus className=\"h-4 w-4\" />\n                  Nova LP\n                </Button>\n              </DialogTrigger>\n              <DialogContent>\n                <DialogHeader>\n                  <DialogTitle className=\"flex items-center gap-2\">\n                    <Rocket className=\"h-5 w-5 text-primary\" />\n                    Criar Nova Landing Page\n                  </DialogTitle>\n                  <DialogDescription>\n                    A LP será criada como rascunho com todas as seções ativadas e prontas para editar.\n                  </DialogDescription>\n                </DialogHeader>\n                <div className=\"space-y-4 py-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"name\">Nome da LP</Label>\n                    <Input\n                      id=\"name\"\n                      placeholder=\"Ex: LP 04 - Campanha Verão\"\n                      value={newLp.name}\n                      onChange={(e) => setNewLp(prev => ({ ...prev, name: e.target.value }))}\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"lp_key\">Chave Interna (lp_key)</Label>\n                    <Input\n                      id=\"lp_key\"\n                      placeholder=\"Ex: lp04\"\n                      value={newLp.lp_key}\n                      onChange={(e) => setNewLp(prev => ({ ...prev, lp_key: e.target.value.toLowerCase().replace(/[^a-z0-9-]/g, '') }))}\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"slug\">Slug (URL)</Label>\n                    <Input\n                      id=\"slug\"\n                      placeholder=\"Ex: campanha-verao\"\n                      value={newLp.slug}\n                      onChange={(e) => setNewLp(prev => ({ ...prev, slug: e.target.value.toLowerCase().replace(/[^a-z0-9-]/g, '') }))}\n                    />\n                    <p className=\"text-xs text-muted-foreground\">URL: /l/{newLp.slug || 'slug'}</p>\n                  </div>\n                </div>\n                <DialogFooter>\n                  <DialogClose asChild>\n                    <Button variant=\"outline\">Cancelar</Button>\n                  </DialogClose>\n                  <Button onClick={handleCreate} disabled={isCreating}>\n                    {isCreating ? 'Criando...' : 'Criar LP'}\n                  </Button>\n                </DialogFooter>\n              </DialogContent>\n            </Dialog>\n          }\n        />\n\n        {/* Global Tracking Panel */}\n        <GlobalTrackingPanelV2 />\n\n        {/* Content */}\n        {isLoading ? (\n          <div className=\"flex items-center justify-center py-12\">\n            <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n          </div>\n        ) : filteredLps.length === 0 ? (\n          <Card>\n            <CardContent className=\"flex flex-col items-center justify-center py-12\">\n              <FileText className=\"h-12 w-12 text-muted-foreground mb-4\" />\n              <p className=\"text-muted-foreground\">Nenhuma LP encontrada</p>\n            </CardContent>\n          </Card>\n        ) : (\n          <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n            {filteredLps.map((lp) => (\n              <Card key={lp.id} className=\"group hover:shadow-md transition-all duration-200 hover:border-accent/20\">\n                <CardContent className=\"p-5 space-y-4\">\n                  {/* Top: Name + Status + Time */}\n                  <div className=\"flex items-start justify-between gap-2\">\n                    <div className=\"min-w-0 flex-1\">\n                      <h3 className=\"text-base font-semibold text-foreground truncate\">{lp.name}</h3>\n                      <span className=\"text-[11px] text-muted-foreground/60 font-mono\">{lp.lp_key}</span>\n                    </div>\n                    <div className=\"flex items-center gap-2 shrink-0 flex-wrap justify-end\">\n                      {isHomepage(lp) && (\n                        <Badge variant=\"outline\" className=\"text-[11px] px-2 py-0.5 bg-emerald-500/10 text-emerald-400 border-emerald-500/20 gap-1\">\n                          <Home className=\"h-3 w-3\" />\n                          Principal\n                        </Badge>\n                      )}\n                      <Badge variant=\"outline\" className={`text-[11px] px-2 py-0.5 ${statusColors[lp.status]}`}>\n                        {statusLabels[lp.status]}\n                      </Badge>\n                      {lp.updated_at && (\n                        <span className=\"text-[10px] text-muted-foreground/50\" title={new Date(lp.updated_at).toLocaleString('pt-BR')}>\n                          {formatRelativeDate(lp.updated_at)}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Slug + Link + Copy */}\n                  <div className=\"bg-muted/20 rounded-lg px-3 py-2.5\">\n                    <InlineSlugEditor\n                      lp={lp}\n                      onSave={(slug) => handleSlugSave(lp.lp_key, slug)}\n                    />\n                  </div>\n\n                  {/* Actions */}\n                  <div className=\"flex items-center gap-1.5 pt-1\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"flex-1 h-8 text-xs gap-1.5 text-muted-foreground hover:text-foreground\"\n                      onClick={() => setPreviewLp(lp)}\n                    >\n                      <Eye className=\"h-3.5 w-3.5\" />\n                      Preview\n                    </Button>\n                    <Button\n                      asChild\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"flex-1 h-8 text-xs gap-1.5 text-muted-foreground hover:text-foreground\"\n                    >\n                      <Link to={`/admin/landpage-v2/${lp.lp_key}/editor`}>\n                        <Edit className=\"h-3.5 w-3.5\" />\n                        Editar\n                      </Link>\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"flex-1 h-8 text-xs gap-1.5 text-muted-foreground hover:text-foreground\"\n                      onClick={() => openDuplicateDialog(lp)}\n                    >\n                      <Copy className=\"h-3.5 w-3.5\" />\n                      Duplicar\n                    </Button>\n                    <DropdownMenu>\n                      <DropdownMenuTrigger asChild>\n                        <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-muted-foreground hover:text-foreground shrink-0\">\n                          <Settings className=\"h-3.5 w-3.5\" />\n                        </Button>\n                      </DropdownMenuTrigger>\n                      <DropdownMenuContent align=\"end\">\n                        <DropdownMenuItem onClick={() => setEditLp({ lp_key: lp.lp_key, name: lp.name, slug: lp.slug })}>\n                          <Pencil className=\"w-4 h-4 mr-2\" />\n                          Configurações\n                        </DropdownMenuItem>\n                        {!isHomepage(lp) && (\n                          <DropdownMenuItem\n                            onClick={() => handleSetHomepage(lp.lp_key)}\n                            disabled={isSettingHomepage || lp.status !== 'active'}\n                          >\n                            <Home className=\"w-4 h-4 mr-2\" />\n                            Definir como Principal\n                          </DropdownMenuItem>\n                        )}\n                        <DropdownMenuSeparator />\n                        <DropdownMenuItem onClick={() => handleStatusChange(lp.lp_key, 'active')}>\n                          <Check className=\"w-4 h-4 mr-2\" />\n                          Marcar Ativo\n                        </DropdownMenuItem>\n                        <DropdownMenuItem onClick={() => handleStatusChange(lp.lp_key, 'draft')}>\n                          Marcar Rascunho\n                        </DropdownMenuItem>\n                        <DropdownMenuItem onClick={() => handleStatusChange(lp.lp_key, 'archived')}>\n                          Arquivar\n                        </DropdownMenuItem>\n                        <DropdownMenuSeparator />\n                        <DropdownMenuItem\n                          className=\"text-destructive focus:text-destructive\"\n                          onClick={() => setDeleteTarget(lp)}\n                        >\n                          <Trash2 className=\"w-4 h-4 mr-2\" />\n                          Excluir\n                        </DropdownMenuItem>\n                      </DropdownMenuContent>\n                    </DropdownMenu>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Edit Settings Dialog */}\n      <Dialog open={!!editLp} onOpenChange={(open) => !open && setEditLp(null)}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Configurações da LP</DialogTitle>\n          </DialogHeader>\n          {editLp && (\n            <div className=\"space-y-4 py-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"edit-name\">Nome da LP</Label>\n                <Input\n                  id=\"edit-name\"\n                  value={editLp.name}\n                  onChange={(e) => setEditLp(prev => prev ? ({ ...prev, name: e.target.value }) : null)}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"edit-slug\">Slug (URL publicável)</Label>\n                <Input\n                  id=\"edit-slug\"\n                  value={editLp.slug}\n                  onChange={(e) => setEditLp(prev => prev ? ({ ...prev, slug: e.target.value.toLowerCase().replace(/[^a-z0-9-]/g, '') }) : null)}\n                />\n                <p className=\"text-xs text-muted-foreground\">URL: /l/{editLp.slug}</p>\n              </div>\n            </div>\n          )}\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setEditLp(null)}>Cancelar</Button>\n            <Button onClick={handleUpdateSettings} disabled={isEditingSetting}>\n              {isEditingSetting ? 'Salvando...' : 'Salvar Alterações'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Dialog de Duplicação (W1 original — campos editáveis) */}\n      <Dialog open={!!duplicateSource} onOpenChange={(open) => { if (!open) setDuplicateSource(null); }}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Duplicar Landing Page</DialogTitle>\n            <DialogDescription>\n              Todo o conteúdo de \"{duplicateSource?.name}\" será copiado para a nova LP.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label>Nome da Nova LP</Label>\n              <Input\n                value={duplicateData.name}\n                onChange={(e) => setDuplicateData(prev => ({ ...prev, name: e.target.value }))}\n                placeholder=\"Ex: LP 04 - Cópia\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Chave Interna (lp_key)</Label>\n              <Input\n                value={duplicateData.lp_key}\n                onChange={(e) => setDuplicateData(prev => ({ ...prev, lp_key: e.target.value.toLowerCase().replace(/[^a-z0-9-]/g, '') }))}\n                placeholder=\"Ex: lp04\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Slug (URL)</Label>\n              <Input\n                value={duplicateData.slug}\n                onChange={(e) => setDuplicateData(prev => ({ ...prev, slug: e.target.value.toLowerCase().replace(/[^a-z0-9-]/g, '') }))}\n                placeholder=\"Ex: campanha-verao\"\n              />\n              <p className=\"text-xs text-muted-foreground\">URL: /l/{duplicateData.slug || 'slug'}</p>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setDuplicateSource(null)}>Cancelar</Button>\n            <Button onClick={handleDuplicate} disabled={isDuplicating}>\n              {isDuplicating ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                  Duplicando...\n                </>\n              ) : (\n                <>\n                  <Copy className=\"h-4 w-4 mr-2\" />\n                  Duplicar\n                </>\n              )}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Dialog de Exclusão (W1 original — confirmação por texto) */}\n      <Dialog open={!!deleteTarget} onOpenChange={(open) => { if (!open) { setDeleteTarget(null); setDeleteConfirmText(''); } }}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle className=\"text-destructive\">Excluir Landing Page</DialogTitle>\n            <DialogDescription>\n              Esta ação é irreversível. Todos os dados da LP \"{deleteTarget?.name}\" ({deleteTarget?.lp_key}) serão permanentemente excluídos.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label>\n                Digite <span className=\"font-mono font-bold text-destructive\">{deleteTarget?.lp_key}</span> para confirmar:\n              </Label>\n              <Input\n                value={deleteConfirmText}\n                onChange={(e) => setDeleteConfirmText(e.target.value)}\n                placeholder={deleteTarget?.lp_key}\n                className=\"font-mono\"\n              />\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => { setDeleteTarget(null); setDeleteConfirmText(''); }}>\n              Cancelar\n            </Button>\n            <Button\n              variant=\"destructive\"\n              onClick={handleDelete}\n              disabled={isDeleting || deleteConfirmText !== deleteTarget?.lp_key}\n            >\n              {isDeleting ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                  Excluindo...\n                </>\n              ) : (\n                <>\n                  <Trash2 className=\"h-4 w-4 mr-2\" />\n                  Excluir Permanentemente\n                </>\n              )}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Preview Drawer */}\n      <PreviewDrawerV2\n        open={!!previewLp}\n        onOpenChange={(open) => !open && setPreviewLp(null)}\n        slug={previewLp?.slug ?? ''}\n        lpName={previewLp?.name}\n      />\n    </AdminPageContainer>\n  );\n}\n","import { useState, useCallback, useRef } from 'react';\nimport { LPRecord, LPContent } from '@/lib/cms-v2/cms-types';\nimport { fetchLPByRef, saveContent } from '@/lib/cms-v2/cms-api';\n\n/**\n * Hook para gerenciar a sincronização de dados entre Banco e Editor (V2)\n * Focado em eliminar a Race Condition de carregamento.\n */\nexport const useCMSSync = (lpKey: string) => {\n  const [isSyncing, setIsSyncing] = useState(false);\n  const [lastSavedAt, setLastSavedAt] = useState<Date | null>(null);\n  const isFirstLoadRef = useRef(true);\n\n  // Carrega os dados do banco garantindo que a primeira carga SEMPRE vença\n  const loadFromDatabase = useCallback(async () => {\n    setIsSyncing(true);\n    try {\n      const record = await fetchLPByRef(lpKey);\n      isFirstLoadRef.current = false;\n      return record;\n    } finally {\n      setIsSyncing(false);\n    }\n  }, [lpKey]);\n\n  // Persiste os dados no Supabase (Upsert Linear)\n  const persistToDatabase = useCallback(async (content: LPContent) => {\n    setIsSyncing(true);\n    try {\n      const success = await saveContent(lpKey, content);\n      if (success) {\n        setLastSavedAt(new Date());\n      }\n      return success;\n    } finally {\n      setIsSyncing(false);\n    }\n  }, [lpKey]);\n\n  return {\n    loadFromDatabase,\n    persistToDatabase,\n    isSyncing,\n    lastSavedAt,\n    isFirstLoad: isFirstLoadRef.current\n  };\n};\n","import { useState, useEffect, useCallback, useRef } from 'react';\nimport { LPContent } from '@/lib/cms-v2/cms-types';\nimport { useCMSSync } from './useCMSSync';\n\ntype SaveStatus = 'idle' | 'unsaved' | 'saving' | 'success' | 'error';\n\n/**\n * Hook de edição V2 Production — Save Manual (V2.0)\n *\n * Expõe updateField e updateNestedField com a mesma assinatura da V1.\n * Modelo linear: cada LP é um JSON isolado, sem herança, sem merge.\n * Inclui proteção de imagens contra race condition.\n *\n * SAVE MANUAL: Não há auto-save. O usuário salva via botão ou ⌘S.\n * Cada edição marca isDirty=true e saveStatus='unsaved'.\n */\nexport const useAdminEditorV2Production = (lpKey: string) => {\n  const [draft, setDraft] = useState<LPContent | null>(null);\n  const initializedRef = useRef(false);\n  const draftRef = useRef<LPContent | null>(null);\n  const serverContentRef = useRef<LPContent | null>(null);\n  const touchedFieldsRef = useRef<Set<string>>(new Set());\n\n  const { loadFromDatabase, persistToDatabase, isSyncing, lastSavedAt } = useCMSSync(lpKey);\n\n  // Proteção de imagens — preserva URLs do servidor se o draft as perdeu acidentalmente\n  const protectImageFields = useCallback((\n    draftContent: LPContent,\n    serverContent: LPContent | null\n  ): LPContent => {\n    if (!serverContent) return draftContent;\n\n    const safe = JSON.parse(JSON.stringify(draftContent)) as LPContent;\n\n    const simpleImageFields: Array<{ section: keyof LPContent; field: string }> = [\n      { section: 'hero', field: 'imageDesktop' },\n      { section: 'hero', field: 'imageMobile' },\n      { section: 'howItWorks', field: 'imageDesktop' },\n      { section: 'howItWorks', field: 'imageMobile' },\n      { section: 'process', field: 'imageDesktop' },\n      { section: 'process', field: 'imageMobile' },\n      { section: 'forWhom', field: 'imageDesktop' },\n      { section: 'forWhom', field: 'imageMobile' },\n      { section: 'about', field: 'imageDesktop' },\n      { section: 'about', field: 'imageMobile' },\n      { section: 'whyChoose', field: 'imageDesktop' },\n      { section: 'whyChoose', field: 'imageMobile' },\n      { section: 'ctaFinal', field: 'imageDesktop' },\n      { section: 'ctaFinal', field: 'imageMobile' },\n      { section: 'beforeAfter', field: 'imageDesktop' },\n      { section: 'beforeAfter', field: 'imageMobile' },\n      { section: 'footer', field: 'logo' },\n      { section: 'footer', field: 'logoDesktop' },\n      { section: 'footer', field: 'logoMobile' },\n    ];\n\n    for (const { section, field } of simpleImageFields) {\n      const touchKey = `${String(section)}.${field}`;\n      if (touchedFieldsRef.current.has(touchKey)) continue;\n\n      const sectionData = safe[section];\n      const serverSection = serverContent[section];\n      if (typeof sectionData !== 'object' || !sectionData) continue;\n      if (typeof serverSection !== 'object' || !serverSection) continue;\n\n      const serverVal = (serverSection as Record<string, unknown>)[field] as string | undefined;\n      const draftVal = (sectionData as Record<string, unknown>)[field] as string | undefined;\n\n      if (serverVal && (!draftVal || draftVal === '')) {\n        (sectionData as Record<string, unknown>)[field] = serverVal;\n      }\n    }\n\n    // Proteger arrays de imagem: benefits.items[*].image\n    if (!touchedFieldsRef.current.has('benefits.items') && safe.benefits?.items && serverContent.benefits?.items) {\n      for (let i = 0; i < Math.min(serverContent.benefits.items.length, safe.benefits.items.length); i++) {\n        if (serverContent.benefits.items[i]?.image && (!safe.benefits.items[i]?.image || safe.benefits.items[i]?.image === '')) {\n          safe.benefits.items[i].image = serverContent.benefits.items[i].image;\n        }\n      }\n    }\n\n    // Proteger beforeAfter.images[*].before/after\n    if (!touchedFieldsRef.current.has('beforeAfter.images') && safe.beforeAfter?.images && serverContent.beforeAfter?.images) {\n      for (let i = 0; i < Math.min(serverContent.beforeAfter.images.length, safe.beforeAfter.images.length); i++) {\n        const srv = serverContent.beforeAfter.images[i];\n        const dft = safe.beforeAfter.images[i];\n        if (srv?.before && (!dft?.before || dft.before === '')) dft.before = srv.before;\n        if (srv?.after && (!dft?.after || dft.after === '')) dft.after = srv.after;\n      }\n    }\n\n    return safe;\n  }, []);\n\n  // Estado local de save manual (sem auto-save)\n  const [isDirty, setIsDirty] = useState(false);\n  const [saveStatus, setSaveStatus] = useState<SaveStatus>('idle');\n\n  // Carregamento inicial\n  useEffect(() => {\n    const init = async () => {\n      const record = await loadFromDatabase();\n      if (record?.content) {\n        setDraft(record.content);\n        draftRef.current = record.content;\n        serverContentRef.current = record.content;\n        initializedRef.current = true;\n      }\n    };\n    init();\n  }, [loadFromDatabase]);\n\n  // Sync draftRef com draft state\n  useEffect(() => {\n    draftRef.current = draft;\n  }, [draft]);\n\n  // ======= API de Edição (compatível com V1) =======\n\n  /**\n   * Atualiza um campo direto de uma seção\n   * Ex: updateField('hero', 'title', 'Novo título')\n   */\n  const updateField = useCallback(<T extends keyof LPContent>(\n    section: T,\n    field: string,\n    value: unknown\n  ) => {\n    touchedFieldsRef.current.add(`${String(section)}.${field}`);\n\n    setDraft(prev => {\n      if (!prev) return prev;\n      const sectionData = prev[section];\n\n      if (typeof sectionData === 'object' && sectionData !== null && !Array.isArray(sectionData)) {\n        const newDraft = {\n          ...prev,\n          [section]: { ...(sectionData as Record<string, unknown>), [field]: value }\n        };\n        setIsDirty(true);\n        setSaveStatus('unsaved');\n        return newDraft as LPContent;\n      }\n      return prev;\n    });\n  }, []);\n\n  /**\n   * Atualiza um campo aninhado via dot-notation\n   * Ex: updateNestedField('hero.ctaPrimary.text', 'Comprar agora')\n   */\n  const updateNestedField = useCallback((path: string, value: unknown) => {\n    const pathParts = path.split('.');\n    touchedFieldsRef.current.add(\n      pathParts.length >= 2 ? `${pathParts[0]}.${pathParts[1]}` : path\n    );\n\n    setDraft(prev => {\n      if (!prev) return prev;\n\n      const keys = path.split('.');\n      const updatePath = (obj: Record<string, unknown>, pathKeys: string[], idx: number): Record<string, unknown> => {\n        if (idx === pathKeys.length - 1) {\n          return { ...obj, [pathKeys[idx]]: value };\n        }\n        const key = pathKeys[idx];\n        const child = (obj[key] ?? {}) as Record<string, unknown>;\n        return {\n          ...obj,\n          [key]: updatePath(child, pathKeys, idx + 1)\n        };\n      };\n\n      const newDraft = updatePath(prev as unknown as Record<string, unknown>, keys, 0) as unknown as LPContent;\n      setIsDirty(true);\n      setSaveStatus('unsaved');\n      return newDraft;\n    });\n  }, []);\n\n  /**\n   * Atualiza uma seção inteira (para arrays, sectionOrder, etc.)\n   * Resolve bug C1: não faz spread em arrays\n   */\n  const updateSection = useCallback(<T extends keyof LPContent>(\n    section: T,\n    data: LPContent[T]\n  ) => {\n    touchedFieldsRef.current.add(String(section));\n\n    setDraft(prev => {\n      if (!prev) return prev;\n      const newDraft = { ...prev, [section]: data };\n      setIsDirty(true);\n      setSaveStatus('unsaved');\n      return newDraft;\n    });\n  }, []);\n\n  /**\n   * Save manual (botão \"Salvar\" ou ⌘S)\n   */\n  const saveNow = useCallback(async () => {\n    if (!draftRef.current) return false;\n    setSaveStatus('saving');\n    const safeDraft = protectImageFields(draftRef.current, serverContentRef.current);\n    const success = await persistToDatabase(safeDraft);\n    if (success) {\n      serverContentRef.current = safeDraft;\n      touchedFieldsRef.current.clear();\n      setIsDirty(false);\n      setSaveStatus('success');\n      setTimeout(() => setSaveStatus('idle'), 3000);\n    } else {\n      setSaveStatus('error');\n    }\n    return success;\n  }, [persistToDatabase, protectImageFields]);\n\n  // Listener ⌘S — dispara save via hotkey:save do useGlobalHotkeys\n  useEffect(() => {\n    const handleHotkeySave = () => {\n      if (draftRef.current && isDirty) {\n        saveNow();\n      }\n    };\n    window.addEventListener('hotkey:save', handleHotkeySave);\n    return () => window.removeEventListener('hotkey:save', handleHotkeySave);\n  }, [saveNow, isDirty]);\n\n  return {\n    draft,\n    isDirty,\n    isLoading: !initializedRef.current || isSyncing,\n    saveStatus,\n    lastSavedAt,\n    updateField,\n    updateNestedField,\n    updateSection,\n    saveNow\n  };\n};\n","import * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\";\n\nconst Collapsible = CollapsiblePrimitive.Root;\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger;\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent;\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent };\n","/**\n * CENTRALIZADOR DE TIMEZONE BRASIL\n * Fonte única de verdade para todas as operações de data/hora\n * Timezone: America/Sao_Paulo (GMT-3)\n */\n\nexport const BRAZIL_TIMEZONE = 'America/Sao_Paulo';\n\n/**\n * Retorna a data/hora atual no timezone Brasil\n */\nexport function nowBrazil(): Date {\n  const now = new Date();\n  // Cria uma string formatada no timezone Brasil e converte de volta para Date\n  const brazilDateString = now.toLocaleString('en-US', { timeZone: BRAZIL_TIMEZONE });\n  return new Date(brazilDateString);\n}\n\n/**\n * Retorna timestamp ISO string ajustado para timezone Brasil\n * Formato: YYYY-MM-DDTHH:mm:ss.sssZ\n */\nexport function createBrazilTimestamp(): string {\n  const now = nowBrazil();\n  return now.toISOString();\n}\n\n/**\n * Formata data no padrão brasileiro DD/MM/YYYY\n * Aceita Date ou string ISO (para compatibilidade com dados do banco)\n */\nexport function formatBrazilDate(date: Date | string | null = new Date()): string {\n  if (!date) return '-';\n  try {\n    const dateObj = typeof date === 'string' ? new Date(date) : date;\n    if (isNaN(dateObj.getTime())) return typeof date === 'string' ? date : '-';\n    return dateObj.toLocaleDateString('pt-BR', { timeZone: BRAZIL_TIMEZONE });\n  } catch {\n    return typeof date === 'string' ? date : '-';\n  }\n}\n\n/**\n * Formata hora no padrão HH:mm:ss\n */\nexport function formatBrazilTime(date: Date = new Date()): string {\n  return date.toLocaleTimeString('pt-BR', { \n    timeZone: BRAZIL_TIMEZONE, \n    hour12: false,\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit'\n  });\n}\n\n/**\n * Formata data e hora no padrão brasileiro DD/MM/YYYY HH:mm:ss\n */\nexport function formatBrazilDateTime(date: Date = new Date()): string {\n  return `${formatBrazilDate(date)} ${formatBrazilTime(date)}`;\n}\n\n/**\n * Converte uma data qualquer para o timezone Brasil\n */\nexport function toBrazilTimezone(date: Date): Date {\n  const brazilDateString = date.toLocaleString('en-US', { timeZone: BRAZIL_TIMEZONE });\n  return new Date(brazilDateString);\n}\n\n/**\n * Retorna apenas a data no formato YYYY-MM-DD (para campos date do banco)\n */\nexport function getBrazilDateISO(date: Date = new Date()): string {\n  const brazil = toBrazilTimezone(date);\n  const year = brazil.getFullYear();\n  const month = String(brazil.getMonth() + 1).padStart(2, '0');\n  const day = String(brazil.getDate()).padStart(2, '0');\n  return `${year}-${month}-${day}`;\n}\n\n/**\n * Retorna apenas a hora no formato HH:mm:ss (para campos time do banco)\n */\nexport function getBrazilTimeISO(date: Date = new Date()): string {\n  const brazil = toBrazilTimezone(date);\n  const hours = String(brazil.getHours()).padStart(2, '0');\n  const minutes = String(brazil.getMinutes()).padStart(2, '0');\n  const seconds = String(brazil.getSeconds()).padStart(2, '0');\n  return `${hours}:${minutes}:${seconds}`;\n}\n\n/**\n * Formata data curta no padrão DD/MM/YY (para tabelas)\n */\nexport function formatBrazilDateShort(date: Date): string {\n  return date.toLocaleDateString('pt-BR', { \n    timeZone: BRAZIL_TIMEZONE,\n    day: '2-digit',\n    month: '2-digit',\n    year: '2-digit'\n  });\n}\n\n/**\n * Formata data e hora curta no padrão DD/MM/YY HH:mm\n */\nexport function formatBrazilDateTimeShort(date: Date): string {\n  const dateStr = formatBrazilDateShort(date);\n  const timeStr = date.toLocaleTimeString('pt-BR', { \n    timeZone: BRAZIL_TIMEZONE,\n    hour: '2-digit',\n    minute: '2-digit',\n    hour12: false\n  });\n  return `${dateStr} ${timeStr}`;\n}\n","import { Loader2, Check, AlertCircle, Circle } from \"lucide-react\";\nimport { formatBrazilTime } from \"@/lib/dateUtils\";\n\ninterface SaveStatusHUDV2Props {\n  status: 'idle' | 'unsaved' | 'saving' | 'success' | 'error';\n  lastSaved: Date | null;\n}\n\nexport const SaveStatusHUDV2 = ({ status, lastSaved }: SaveStatusHUDV2Props) => {\n  if (status === 'idle' && !lastSaved) {\n    return null;\n  }\n\n  return (\n    <div className=\"mt-2\">\n      <div\n        className={`\n          flex items-center gap-2 px-2 py-1.5 rounded-lg\n          transition-all duration-300 ease-out text-xs\n          ${status === 'saving'\n            ? 'text-accent'\n            : status === 'unsaved'\n              ? 'text-amber-500'\n              : status === 'success'\n                ? 'text-[hsl(var(--ui-success-text))]'\n                : status === 'error'\n                  ? 'text-destructive'\n                  : 'text-muted-foreground'\n          }\n        `}\n      >\n        {status === 'saving' && (\n          <Loader2 className=\"w-3 h-3 animate-spin\" />\n        )}\n        {status === 'unsaved' && (\n          <Circle className=\"w-2.5 h-2.5 fill-amber-500 text-amber-500\" />\n        )}\n        {status === 'success' && (\n          <Check className=\"w-3 h-3\" />\n        )}\n        {status === 'error' && (\n          <AlertCircle className=\"w-3 h-3\" />\n        )}\n        {status === 'idle' && lastSaved && (\n          <Check className=\"w-3 h-3\" />\n        )}\n\n        <span className=\"font-medium\">\n          {status === 'unsaved' && 'Alteracoes nao salvas'}\n          {status === 'saving' && 'Salvando...'}\n          {status === 'success' && 'Salvo'}\n          {status === 'error' && 'Erro ao salvar!'}\n          {status === 'idle' && lastSaved && 'Salvo'}\n        </span>\n\n        {lastSaved && status !== 'saving' && status !== 'unsaved' && (\n          <span className=\"text-muted-foreground\">\n            {formatBrazilTime(lastSaved)}\n          </span>\n        )}\n      </div>\n    </div>\n  );\n};\n","export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n","/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n","export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // [TODO] -- I challenge you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // [TODO] -- I challenge you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n","export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // [TODO] I challenge you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"menos de um segundo\",\n    other: \"menos de {{count}} segundos\",\n  },\n\n  xSeconds: {\n    one: \"1 segundo\",\n    other: \"{{count}} segundos\",\n  },\n\n  halfAMinute: \"meio minuto\",\n\n  lessThanXMinutes: {\n    one: \"menos de um minuto\",\n    other: \"menos de {{count}} minutos\",\n  },\n\n  xMinutes: {\n    one: \"1 minuto\",\n    other: \"{{count}} minutos\",\n  },\n\n  aboutXHours: {\n    one: \"cerca de 1 hora\",\n    other: \"cerca de {{count}} horas\",\n  },\n\n  xHours: {\n    one: \"1 hora\",\n    other: \"{{count}} horas\",\n  },\n\n  xDays: {\n    one: \"1 dia\",\n    other: \"{{count}} dias\",\n  },\n\n  aboutXWeeks: {\n    one: \"cerca de 1 semana\",\n    other: \"cerca de {{count}} semanas\",\n  },\n\n  xWeeks: {\n    one: \"1 semana\",\n    other: \"{{count}} semanas\",\n  },\n\n  aboutXMonths: {\n    one: \"cerca de 1 mês\",\n    other: \"cerca de {{count}} meses\",\n  },\n\n  xMonths: {\n    one: \"1 mês\",\n    other: \"{{count}} meses\",\n  },\n\n  aboutXYears: {\n    one: \"cerca de 1 ano\",\n    other: \"cerca de {{count}} anos\",\n  },\n\n  xYears: {\n    one: \"1 ano\",\n    other: \"{{count}} anos\",\n  },\n\n  overXYears: {\n    one: \"mais de 1 ano\",\n    other: \"mais de {{count}} anos\",\n  },\n\n  almostXYears: {\n    one: \"quase 1 ano\",\n    other: \"quase {{count}} anos\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", String(count));\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"em \" + result;\n    } else {\n      return \"há \" + result;\n    }\n  }\n\n  return result;\n};\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\n\nconst dateFormats = {\n  full: \"EEEE, d 'de' MMMM 'de' y\",\n  long: \"d 'de' MMMM 'de' y\",\n  medium: \"d MMM y\",\n  short: \"dd/MM/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"HH:mm:ss zzzz\",\n  long: \"HH:mm:ss z\",\n  medium: \"HH:mm:ss\",\n  short: \"HH:mm\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'às' {{time}}\",\n  long: \"{{date}} 'às' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: (date) => {\n    const weekday = date.getDay();\n    const last = weekday === 0 || weekday === 6 ? \"último\" : \"última\";\n    return \"'\" + last + \"' eeee 'às' p\";\n  },\n  yesterday: \"'ontem às' p\",\n  today: \"'hoje às' p\",\n  tomorrow: \"'amanhã às' p\",\n  nextWeek: \"eeee 'às' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, date, _baseDate, _options) => {\n  const format = formatRelativeLocale[token];\n\n  if (typeof format === \"function\") {\n    return format(date);\n  }\n\n  return format;\n};\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\n\nconst eraValues = {\n  narrow: [\"AC\", \"DC\"],\n  abbreviated: [\"AC\", \"DC\"],\n  wide: [\"antes de cristo\", \"depois de cristo\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"T1\", \"T2\", \"T3\", \"T4\"],\n  wide: [\"1º trimestre\", \"2º trimestre\", \"3º trimestre\", \"4º trimestre\"],\n};\n\nconst monthValues = {\n  narrow: [\"j\", \"f\", \"m\", \"a\", \"m\", \"j\", \"j\", \"a\", \"s\", \"o\", \"n\", \"d\"],\n  abbreviated: [\n    \"jan\",\n    \"fev\",\n    \"mar\",\n    \"abr\",\n    \"mai\",\n    \"jun\",\n    \"jul\",\n    \"ago\",\n    \"set\",\n    \"out\",\n    \"nov\",\n    \"dez\",\n  ],\n\n  wide: [\n    \"janeiro\",\n    \"fevereiro\",\n    \"março\",\n    \"abril\",\n    \"maio\",\n    \"junho\",\n    \"julho\",\n    \"agosto\",\n    \"setembro\",\n    \"outubro\",\n    \"novembro\",\n    \"dezembro\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"D\", \"S\", \"T\", \"Q\", \"Q\", \"S\", \"S\"],\n  short: [\"dom\", \"seg\", \"ter\", \"qua\", \"qui\", \"sex\", \"sab\"],\n  abbreviated: [\n    \"domingo\",\n    \"segunda\",\n    \"terça\",\n    \"quarta\",\n    \"quinta\",\n    \"sexta\",\n    \"sábado\",\n  ],\n\n  wide: [\n    \"domingo\",\n    \"segunda-feira\",\n    \"terça-feira\",\n    \"quarta-feira\",\n    \"quinta-feira\",\n    \"sexta-feira\",\n    \"sábado\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mn\",\n    noon: \"md\",\n    morning: \"manhã\",\n    afternoon: \"tarde\",\n    evening: \"tarde\",\n    night: \"noite\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"meia-noite\",\n    noon: \"meio-dia\",\n    morning: \"manhã\",\n    afternoon: \"tarde\",\n    evening: \"tarde\",\n    night: \"noite\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"meia-noite\",\n    noon: \"meio-dia\",\n    morning: \"manhã\",\n    afternoon: \"tarde\",\n    evening: \"tarde\",\n    night: \"noite\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mn\",\n    noon: \"md\",\n    morning: \"da manhã\",\n    afternoon: \"da tarde\",\n    evening: \"da tarde\",\n    night: \"da noite\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"meia-noite\",\n    noon: \"meio-dia\",\n    morning: \"da manhã\",\n    afternoon: \"da tarde\",\n    evening: \"da tarde\",\n    night: \"da noite\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"meia-noite\",\n    noon: \"meio-dia\",\n    morning: \"da manhã\",\n    afternoon: \"da tarde\",\n    evening: \"da tarde\",\n    night: \"da noite\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, options) => {\n  const number = Number(dirtyNumber);\n\n  if (options?.unit === \"week\") {\n    return number + \"ª\";\n  }\n  return number + \"º\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)[ºªo]?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(ac|dc|a|d)/i,\n  abbreviated: /^(a\\.?\\s?c\\.?|d\\.?\\s?c\\.?)/i,\n  wide: /^(antes de cristo|depois de cristo)/i,\n};\nconst parseEraPatterns = {\n  any: [/^ac/i, /^dc/i],\n  wide: [/^antes de cristo/i, /^depois de cristo/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^T[1234]/i,\n  wide: /^[1234](º)? trimestre/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmajsond]/i,\n  abbreviated: /^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,\n  wide: /^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^fev/i,\n    /^mar/i,\n    /^abr/i,\n    /^mai/i,\n    /^jun/i,\n    /^jul/i,\n    /^ago/i,\n    /^set/i,\n    /^out/i,\n    /^nov/i,\n    /^dez/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^(dom|[23456]ª?|s[aá]b)/i,\n  short: /^(dom|[23456]ª?|s[aá]b)/i,\n  abbreviated: /^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,\n  wide: /^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i,\n};\nconst parseDayPatterns = {\n  short: [/^d/i, /^2/i, /^3/i, /^4/i, /^5/i, /^6/i, /^s[aá]/i],\n  narrow: [/^d/i, /^2/i, /^3/i, /^4/i, /^5/i, /^6/i, /^s[aá]/i],\n  any: [/^d/i, /^seg/i, /^t/i, /^qua/i, /^qui/i, /^sex/i, /^s[aá]b/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mn|md|(da) (manhã|tarde|noite))/i,\n  any: /^([ap]\\.?\\s?m\\.?|meia[-\\s]noite|meio[-\\s]dia|(da) (manhã|tarde|noite))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mn|^meia[-\\s]noite/i,\n    noon: /^md|^meio[-\\s]dia/i,\n    morning: /manhã/i,\n    afternoon: /tarde/i,\n    evening: /tarde/i,\n    night: /noite/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./pt-BR/_lib/formatDistance.js\";\nimport { formatLong } from \"./pt-BR/_lib/formatLong.js\";\nimport { formatRelative } from \"./pt-BR/_lib/formatRelative.js\";\nimport { localize } from \"./pt-BR/_lib/localize.js\";\nimport { match } from \"./pt-BR/_lib/match.js\";\n\n/**\n * @category Locales\n * @summary Portuguese locale (Brazil).\n * @language Portuguese\n * @iso-639-2 por\n * @author Lucas Duailibe [@duailibe](https://github.com/duailibe)\n * @author Yago Carballo [@yagocarballo](https://github.com/YagoCarballo)\n */\nexport const ptBR = {\n  code: \"pt-BR\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default ptBR;\n","import * as React from \"react\";\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root ref={ref} className={cn(\"relative overflow-hidden\", className)} {...props}>\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">{children}</ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n));\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" && \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" && \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className,\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n));\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName;\n\nexport { ScrollArea, ScrollBar };\n","import * as React from \"react\";\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\";\n\nimport { cn } from \"@/lib/utils\";\nimport { buttonVariants } from \"@/components/ui/button\";\n\nconst AlertDialog = AlertDialogPrimitive.Root;\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger;\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal;\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n    ref={ref}\n  />\n));\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName;\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AlertDialogPortal>\n    <div className=\"theme-admin\">\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        ref={ref}\n        className={cn(\n          \"fixed left-[50%] top-[50%] z-[100] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-card text-foreground p-6 shadow-2xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n          className,\n        )}\n        {...props}\n      >\n        {children}\n      </AlertDialogPrimitive.Content>\n    </div>\n  </AlertDialogPortal>\n));\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName;\n\nconst AlertDialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col space-y-2 text-center sm:text-left\", className)} {...props} />\n);\nAlertDialogHeader.displayName = \"AlertDialogHeader\";\n\nconst AlertDialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\n);\nAlertDialogFooter.displayName = \"AlertDialogFooter\";\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title ref={ref} className={cn(\"text-lg font-semibold text-foreground\", className)} {...props} />\n));\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName;\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nAlertDialogDescription.displayName = AlertDialogPrimitive.Description.displayName;\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action ref={ref} className={cn(buttonVariants(), className)} {...props} />\n));\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName;\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(buttonVariants({ variant: \"outline\" }), \"mt-2 sm:mt-0\", className)}\n    {...props}\n  />\n));\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName;\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n};\n","/**\n * Hook para acessar histórico de alterações do CMS\n * Permite rollback para versões anteriores\n * (Plano Blindado - Fase 4)\n */\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { supabase } from '@/integrations/supabase/client';\n\nexport interface CMSHistoryEntry {\n  id: string;\n  table_name: string;\n  record_id: string | null;\n  record_key: string | null;\n  action: 'INSERT' | 'UPDATE' | 'DELETE' | 'BACKUP';\n  old_data: Record<string, any> | null;\n  new_data: Record<string, any> | null;\n  changed_by: string | null;\n  changed_at: string;\n}\n\ninterface UseCMSHistoryOptions {\n  tableName: string;\n  recordId?: string;\n  recordKey?: string;\n  limit?: number;\n}\n\n/**\n * Hook para listar histórico de alterações\n */\nexport function useCMSHistory(options: UseCMSHistoryOptions) {\n  const { tableName, recordId, recordKey, limit = 50 } = options;\n\n  return useQuery({\n    queryKey: ['cms-history', tableName, recordId, recordKey, limit],\n    queryFn: async () => {\n      let query = supabase\n        .from('bd_cms_history')\n        .select('*')\n        .eq('table_name', tableName)\n        .order('changed_at', { ascending: false })\n        .limit(limit);\n      \n      if (recordId) {\n        query = query.eq('record_id', recordId);\n      }\n      \n      if (recordKey) {\n        query = query.eq('record_key', recordKey);\n      }\n\n      const { data, error } = await query;\n      if (error) throw error;\n      return data as CMSHistoryEntry[];\n    },\n    staleTime: 1000 * 30, // 30 segundos\n  });\n}\n\n/**\n * Hook para restaurar uma versão anterior\n */\nexport function useRestoreVersion() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async ({ \n      tableName, \n      recordKey, \n      dataToRestore \n    }: { \n      tableName: string; \n      recordKey: string; \n      dataToRestore: Record<string, any>;\n    }) => {\n      // Remove campos de controle que não devem ser sobrescritos\n      const { id, created_at, updated_at, ...cleanData } = dataToRestore;\n\n      if (tableName === 'bd_cms_lp') {\n        const { data, error } = await supabase\n          .from('bd_cms_lp')\n          .update(cleanData)\n          .eq('lp_key', recordKey)\n          .select()\n          .single();\n        \n        if (error) throw error;\n        return data;\n      }\n\n      if (tableName === 'bd_cms_conteudo') {\n        const { data, error } = await supabase\n          .from('bd_cms_conteudo')\n          .update({ content: cleanData.content })\n          .eq('id', recordKey)\n          .select()\n          .single();\n\n        if (error) throw error;\n        return data;\n      }\n\n      if (tableName === 'bd_cms_lp_v2') {\n        const { data, error } = await supabase\n          .from('bd_cms_lp_v2')\n          .update({ content: cleanData.content })\n          .eq('lp_key', recordKey)\n          .select()\n          .single();\n\n        if (error) throw error;\n        return data;\n      }\n\n      throw new Error(`Restore not supported for table: ${tableName}`);\n    },\n    onSuccess: (_, variables) => {\n      // Invalida queries relacionadas\n      queryClient.invalidateQueries({ queryKey: ['cms-history'] });\n      queryClient.invalidateQueries({ queryKey: ['cms-lp'] });\n      queryClient.invalidateQueries({ queryKey: ['cms-content'] });\n      queryClient.invalidateQueries({ queryKey: ['cms-v2'] });\n    },\n  });\n}\n\n/**\n * Utilitário para comparar duas versões e gerar diff\n */\nexport function generateDiff(\n  oldData: Record<string, any> | null, \n  newData: Record<string, any> | null\n): { added: string[]; removed: string[]; changed: string[] } {\n  const added: string[] = [];\n  const removed: string[] = [];\n  const changed: string[] = [];\n\n  const oldKeys = new Set(Object.keys(oldData || {}));\n  const newKeys = new Set(Object.keys(newData || {}));\n\n  // Campos adicionados\n  newKeys.forEach(key => {\n    if (!oldKeys.has(key)) {\n      added.push(key);\n    }\n  });\n\n  // Campos removidos\n  oldKeys.forEach(key => {\n    if (!newKeys.has(key)) {\n      removed.push(key);\n    }\n  });\n\n  // Campos alterados\n  oldKeys.forEach(key => {\n    if (newKeys.has(key)) {\n      const oldVal = JSON.stringify(oldData?.[key]);\n      const newVal = JSON.stringify(newData?.[key]);\n      if (oldVal !== newVal) {\n        changed.push(key);\n      }\n    }\n  });\n\n  return { added, removed, changed };\n}\n","/**\n * CMSHistoryPanel - Interface de Rollback (Fase 4)\n * Exibe histórico de alterações do CMS e permite restaurar versões anteriores\n */\nimport { useState } from 'react';\nimport { format } from 'date-fns';\nimport { ptBR } from 'date-fns/locale';\nimport { History, RotateCcw, ChevronDown, ChevronUp, AlertTriangle, Check, X } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '@/components/ui/collapsible';\nimport { \n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog';\nimport { useCMSHistory, useRestoreVersion, generateDiff, CMSHistoryEntry } from '@/hooks/useCMSHistory';\nimport { toast } from 'sonner';\n\ninterface CMSHistoryPanelProps {\n  tableName: string;\n  recordKey?: string;\n  title?: string;\n  description?: string;\n}\n\nexport function CMSHistoryPanel({ \n  tableName, \n  recordKey, \n  title = 'Histórico de Alterações',\n  description = 'Visualize e restaure versões anteriores'\n}: CMSHistoryPanelProps) {\n  const [expandedId, setExpandedId] = useState<string | null>(null);\n  const [restoreEntry, setRestoreEntry] = useState<CMSHistoryEntry | null>(null);\n\n  const { data: history, isLoading, error } = useCMSHistory({\n    tableName,\n    recordKey,\n    limit: 50\n  });\n\n  const { mutate: restore, isPending: isRestoring } = useRestoreVersion();\n\n  const handleRestore = () => {\n    if (!restoreEntry?.old_data || !restoreEntry.record_key) {\n      toast.error('Dados insuficientes para restauração');\n      return;\n    }\n\n    restore({\n      tableName: restoreEntry.table_name,\n      recordKey: restoreEntry.record_key,\n      dataToRestore: restoreEntry.old_data\n    }, {\n      onSuccess: () => {\n        toast.success('Versão restaurada com sucesso!');\n        setRestoreEntry(null);\n      },\n      onError: (error) => {\n        toast.error(`Erro ao restaurar: ${error.message}`);\n      }\n    });\n  };\n\n  const getActionBadge = (action: string) => {\n    switch (action) {\n      case 'INSERT':\n        return <Badge className=\"bg-green-500/20 text-green-400 border-green-500/30\">Criação</Badge>;\n      case 'UPDATE':\n        return <Badge className=\"bg-blue-500/20 text-blue-400 border-blue-500/30\">Alteração</Badge>;\n      case 'DELETE':\n        return <Badge className=\"bg-red-500/20 text-red-400 border-red-500/30\">Remoção</Badge>;\n      case 'BACKUP':\n        return <Badge className=\"bg-purple-500/20 text-purple-400 border-purple-500/30\">Backup</Badge>;\n      default:\n        return <Badge variant=\"outline\">{action}</Badge>;\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    try {\n      return format(new Date(dateString), \"dd/MM/yyyy 'às' HH:mm\", { locale: ptBR });\n    } catch {\n      return dateString;\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <Card className=\"bg-card/50 border-border/50\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2 text-lg\">\n            <History className=\"h-5 w-5 text-primary\" />\n            {title}\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center justify-center py-8 text-muted-foreground\">\n            Carregando histórico...\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (error) {\n    return (\n      <Card className=\"bg-card/50 border-border/50\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2 text-lg\">\n            <History className=\"h-5 w-5 text-destructive\" />\n            {title}\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center justify-center py-8 text-destructive\">\n            Erro ao carregar histórico\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <>\n      <Card className=\"bg-card/50 border-border/50\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2 text-lg\">\n            <History className=\"h-5 w-5 text-primary\" />\n            {title}\n          </CardTitle>\n          <CardDescription>{description}</CardDescription>\n        </CardHeader>\n        <CardContent>\n          {!history || history.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center py-8 text-muted-foreground\">\n              <History className=\"h-12 w-12 mb-3 opacity-30\" />\n              <p>Nenhuma alteração registrada</p>\n            </div>\n          ) : (\n            <ScrollArea className=\"h-[400px] pr-4\">\n              <div className=\"space-y-3\">\n                {history.map((entry) => {\n                  const isExpanded = expandedId === entry.id;\n                  const diff = entry.action === 'UPDATE' \n                    ? generateDiff(entry.old_data, entry.new_data)\n                    : null;\n                  const canRestore = entry.action === 'UPDATE' && entry.old_data;\n\n                  return (\n                    <Collapsible \n                      key={entry.id}\n                      open={isExpanded}\n                      onOpenChange={() => setExpandedId(isExpanded ? null : entry.id)}\n                    >\n                      <div className=\"rounded-lg bg-background/50 overflow-hidden\">\n                        <CollapsibleTrigger className=\"w-full\">\n                          <div className=\"flex items-center justify-between p-3 hover:bg-muted/30 transition-colors\">\n                            <div className=\"flex items-center gap-3\">\n                              {getActionBadge(entry.action)}\n                              <div className=\"text-left\">\n                                <p className=\"text-sm font-medium\">\n                                  {entry.record_key || entry.table_name}\n                                </p>\n                                <p className=\"text-xs text-muted-foreground\">\n                                  {formatDate(entry.changed_at)}\n                                </p>\n                              </div>\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                              {canRestore && (\n                                <Button\n                                  variant=\"ghost\"\n                                  size=\"sm\"\n                                  className=\"h-7 px-2 text-amber-400 hover:text-amber-300 hover:bg-amber-500/10\"\n                                  onClick={(e) => {\n                                    e.stopPropagation();\n                                    setRestoreEntry(entry);\n                                  }}\n                                >\n                                  <RotateCcw className=\"h-3.5 w-3.5 mr-1\" />\n                                  Restaurar\n                                </Button>\n                              )}\n                              {isExpanded ? (\n                                <ChevronUp className=\"h-4 w-4 text-muted-foreground\" />\n                              ) : (\n                                <ChevronDown className=\"h-4 w-4 text-muted-foreground\" />\n                              )}\n                            </div>\n                          </div>\n                        </CollapsibleTrigger>\n\n                        <CollapsibleContent>\n                          <div className=\"px-3 pb-3 border-t border-border/30\">\n                            {diff && (\n                              <div className=\"mt-3 space-y-2\">\n                                {diff.added.length > 0 && (\n                                  <div className=\"flex items-start gap-2\">\n                                    <Badge className=\"bg-green-500/20 text-green-400 text-xs\">+</Badge>\n                                    <span className=\"text-xs text-muted-foreground\">\n                                      Adicionados: {diff.added.join(', ')}\n                                    </span>\n                                  </div>\n                                )}\n                                {diff.changed.length > 0 && (\n                                  <div className=\"flex items-start gap-2\">\n                                    <Badge className=\"bg-blue-500/20 text-blue-400 text-xs\">~</Badge>\n                                    <span className=\"text-xs text-muted-foreground\">\n                                      Alterados: {diff.changed.join(', ')}\n                                    </span>\n                                  </div>\n                                )}\n                                {diff.removed.length > 0 && (\n                                  <div className=\"flex items-start gap-2\">\n                                    <Badge className=\"bg-red-500/20 text-red-400 text-xs\">-</Badge>\n                                    <span className=\"text-xs text-muted-foreground\">\n                                      Removidos: {diff.removed.join(', ')}\n                                    </span>\n                                  </div>\n                                )}\n                              </div>\n                            )}\n                            \n                            {entry.action === 'INSERT' && entry.new_data && (\n                              <div className=\"mt-3\">\n                                <p className=\"text-xs text-muted-foreground mb-1\">Dados criados:</p>\n                                <pre className=\"text-xs bg-muted/30 p-2 rounded overflow-x-auto max-h-32\">\n                                  {JSON.stringify(entry.new_data, null, 2).slice(0, 500)}\n                                  {JSON.stringify(entry.new_data).length > 500 && '...'}\n                                </pre>\n                              </div>\n                            )}\n                          </div>\n                        </CollapsibleContent>\n                      </div>\n                    </Collapsible>\n                  );\n                })}\n              </div>\n            </ScrollArea>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Modal de Confirmação de Restauração */}\n      <AlertDialog open={!!restoreEntry} onOpenChange={() => setRestoreEntry(null)}>\n        <AlertDialogContent className=\"bg-card border-border\">\n          <AlertDialogHeader>\n            <AlertDialogTitle className=\"flex items-center gap-2 text-amber-400\">\n              <AlertTriangle className=\"h-5 w-5\" />\n              Confirmar Restauração\n            </AlertDialogTitle>\n            <AlertDialogDescription className=\"text-muted-foreground\">\n              Você está prestes a restaurar <strong>{restoreEntry?.record_key}</strong> para a versão de{' '}\n              <strong>{restoreEntry && formatDate(restoreEntry.changed_at)}</strong>.\n              <br /><br />\n              Esta ação irá sobrescrever os dados atuais. Deseja continuar?\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel className=\"gap-2\">\n              <X className=\"h-4 w-4\" />\n              Cancelar\n            </AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleRestore}\n              disabled={isRestoring}\n              className=\"bg-amber-500 hover:bg-amber-600 text-black gap-2\"\n            >\n              {isRestoring ? (\n                'Restaurando...'\n              ) : (\n                <>\n                  <Check className=\"h-4 w-4\" />\n                  Confirmar Restauração\n                </>\n              )}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  );\n}\n","import * as React from \"react\";\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 transition-all duration-200\",\n      // Checked (ON) - Green accent\n      \"data-[state=checked]:bg-accent data-[state=checked]:border-accent\",\n      // Unchecked (OFF) - Red semaphore style  \n      \"data-[state=unchecked]:bg-red-500/20 data-[state=unchecked]:border-red-500/50\",\n      \"data-[state=unchecked]:hover:bg-red-500/30 data-[state=unchecked]:hover:border-red-500/70\",\n      // Focus states\n      \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background\",\n      // Disabled\n      \"disabled:cursor-not-allowed disabled:opacity-50\",\n      className,\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform\",\n        \"data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\",\n        // Add subtle shadow for depth\n        \"shadow-[0_2px_4px_rgba(0,0,0,0.2)]\",\n      )}\n    />\n  </SwitchPrimitives.Root>\n));\nSwitch.displayName = SwitchPrimitives.Root.displayName;\n\nexport { Switch };\n","import { memo, TextareaHTMLAttributes } from 'react';\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useDebouncedInput } from \"@/hooks/useDebouncedInput\";\n\ninterface DebouncedTextareaV2Props extends Omit<TextareaHTMLAttributes<HTMLTextAreaElement>, 'value' | 'onChange'> {\n  value: string;\n  onDebouncedChange: (value: string) => void;\n  debounceMs?: number;\n}\n\nexport const DebouncedTextareaV2 = memo(({\n  value,\n  onDebouncedChange,\n  debounceMs = 300,\n  ...props\n}: DebouncedTextareaV2Props) => {\n  const [localValue, setLocalValue] = useDebouncedInput(\n    value ?? '',\n    onDebouncedChange,\n    debounceMs\n  );\n\n  return (\n    <Textarea\n      {...props}\n      value={localValue}\n      onChange={(e) => setLocalValue(e.target.value)}\n    />\n  );\n});\n\nDebouncedTextareaV2.displayName = 'DebouncedTextareaV2';\n","import { supabase } from \"@/integrations/supabase/client\";\n\nexport async function uploadImage(file: File): Promise<string> {\n  const fileExt = file.name.split('.').pop();\n  const fileName = `${Math.random().toString(36).substring(2)}-${Date.now()}.${fileExt}`;\n  const filePath = `cms-images/${fileName}`;\n\n  const { data, error } = await supabase.storage\n    .from('cms-assets')\n    .upload(filePath, file, {\n      cacheControl: '3600',\n      upsert: false\n    });\n\n  if (error) {\n    console.error('Upload error:', error);\n    throw error;\n  }\n\n  const { data: { publicUrl } } = supabase.storage\n    .from('cms-assets')\n    .getPublicUrl(filePath);\n\n  return publicUrl;\n}\n","import imageCompression from 'browser-image-compression';\n\n/**\n * Comprime uma imagem para otimizar upload e armazenamento.\n * Configurações: max 1MB, max 1920px (HD), usando WebWorker para não travar UI.\n * Em caso de falha, retorna o arquivo original.\n */\nexport async function compressImage(file: File): Promise<File> {\n  try {\n    const options = {\n      maxSizeMB: 1,\n      maxWidthOrHeight: 1920,\n      useWebWorker: true,\n    };\n\n    const compressedFile = await imageCompression(file, options);\n    \n    // Preserva o nome original do arquivo\n    return new File([compressedFile], file.name, {\n      type: compressedFile.type,\n      lastModified: Date.now(),\n    });\n  } catch (error) {\n    console.warn('Compressão de imagem falhou, usando arquivo original:', error);\n    return file;\n  }\n}\n","import { useState, useRef } from \"react\";\nimport { Upload, X } from \"lucide-react\";\nimport { uploadImage } from \"@/lib/uploadImage\";\nimport { compressImage } from \"@/lib/imageOptimizer\";\nimport { Button } from \"@/components/ui/button\";\nimport { toast } from \"sonner\";\n\ninterface ImageUploadV2Props {\n  value?: string;\n  onChange: (url: string) => void;\n  label: string;\n  recommendedSize?: string;\n}\n\nexport const ImageUploadV2 = ({ value, onChange, label }: ImageUploadV2Props) => {\n  const [uploading, setUploading] = useState(false);\n  const [dragActive, setDragActive] = useState(false);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const handleFile = async (file: File) => {\n    if (!file.type.startsWith('image/')) {\n      toast.error('Por favor, selecione uma imagem válida');\n      return;\n    }\n\n    setUploading(true);\n    const compressToastId = toast.loading(\"Otimizando imagem...\");\n\n    try {\n      const optimizedFile = await compressImage(file);\n\n      if (optimizedFile.size < file.size) {\n        toast.success(\"Otimização concluída.\", { id: compressToastId });\n      } else {\n        toast.info(\"Iniciando upload.\", { id: compressToastId });\n      }\n\n      const url = await uploadImage(optimizedFile);\n      onChange(url);\n      toast.success(\"Imagem enviada!\");\n    } catch (error: unknown) {\n      console.error('[ImageUploadV2] Erro ao fazer upload:', error);\n\n      let errorMessage = 'Erro ao fazer upload da imagem';\n      if (error && typeof error === 'object' && 'message' in error) {\n        const err = error as { message: string; statusCode?: number };\n        if (err.statusCode === 403 || err.message?.includes('security policy')) {\n          errorMessage = 'Sem permissão para upload. Verifique se você está logado como admin.';\n        } else {\n          errorMessage = `Upload falhou: ${err.message}`;\n        }\n      }\n      toast.error(errorMessage);\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleDrag = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true);\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false);\n    }\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      handleFile(e.dataTransfer.files[0]);\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) {\n      handleFile(e.target.files[0]);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center gap-3\">\n      <span className=\"text-sm font-semibold text-white\">{label}</span>\n\n      <div\n        className={`\n          relative w-[120px] h-[120px] rounded-full\n          flex items-center justify-center\n          border-2 border-dashed transition-all duration-300 cursor-pointer\n          bg-white/5 backdrop-blur-sm\n          ${dragActive ? 'border-accent bg-accent/10' : 'border-white/20 hover:border-white/40 hover:bg-white/10'}\n          ${uploading ? 'opacity-60 cursor-wait' : ''}\n        `}\n        onDragEnter={handleDrag}\n        onDragLeave={handleDrag}\n        onDragOver={handleDrag}\n        onDrop={handleDrop}\n        onClick={() => inputRef.current?.click()}\n      >\n        <input\n          ref={inputRef}\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={handleChange}\n          className=\"hidden\"\n          disabled={uploading}\n        />\n\n        {value && !uploading ? (\n          <>\n            <img\n              src={value}\n              alt=\"Preview\"\n              className=\"w-full h-full rounded-full object-cover\"\n            />\n            <Button\n              variant=\"destructive\"\n              size=\"icon\"\n              className=\"absolute -top-1 -right-1 w-7 h-7 rounded-full shadow-lg\"\n              onClick={(e) => {\n                e.stopPropagation();\n                if (confirm('Remover imagem?')) {\n                  onChange('');\n                }\n              }}\n            >\n              <X className=\"w-3 h-3\" />\n            </Button>\n          </>\n        ) : (\n          <div className=\"flex flex-col items-center justify-center text-center p-2\">\n            <Upload className=\"w-5 h-5 text-white/60 mb-1\" />\n            <p className=\"text-[10px] text-white/60 leading-tight\">\n              {uploading ? 'Enviando...' : 'Clique ou arraste'}\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","import { Switch } from \"@/components/ui/switch\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { SectionFooterCTA } from \"@/lib/cms-v2/cms-types\";\n\ninterface SectionCTAEditorV2Props {\n  sectionTitle: string;\n  ctaData: SectionFooterCTA | undefined;\n  onUpdate: (updates: Partial<SectionFooterCTA>) => void;\n}\n\nexport const SectionCTAEditorV2 = ({\n  sectionTitle,\n  ctaData,\n  onUpdate\n}: SectionCTAEditorV2Props) => {\n\n  if (!ctaData) return null;\n\n  return (\n    <div className=\"rounded-3xl bg-muted/30 backdrop-blur-2xl p-6 space-y-6 mt-8\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"space-y-1\">\n          <h3 className=\"text-lg font-medium text-foreground flex items-center gap-2\">\n            Botão Final de Seção\n            <span className=\"text-[10px] font-bold px-2 py-0.5 rounded-full bg-primary/20 text-primary border border-primary/20 uppercase tracking-wide\">\n              Novo\n            </span>\n          </h3>\n          <p className=\"text-sm text-muted-foreground\">\n            Ative para exibir um botão de ação logo após o conteúdo de {sectionTitle}.\n          </p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Switch\n            checked={ctaData.enabled}\n            onCheckedChange={(checked) => onUpdate({ enabled: checked })}\n          />\n          <Label className=\"text-foreground text-sm font-semibold\">Ativar</Label>\n        </div>\n      </div>\n\n      {ctaData.enabled && (\n        <div className=\"space-y-5 pt-2 animate-in fade-in slide-in-from-top-2\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n            <div className=\"space-y-2\">\n              <Label className=\"text-foreground font-semibold\">Texto do Botão</Label>\n              <Input\n                value={ctaData.text}\n                onChange={(e) => onUpdate({ text: e.target.value })}\n                placeholder=\"Ex: Quero Contratar\"\n                className=\"input-admin rounded-lg\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label className=\"text-foreground font-semibold\">Link de Destino</Label>\n              <Input\n                value={ctaData.link}\n                onChange={(e) => onUpdate({ link: e.target.value })}\n                placeholder=\"Ex: /checkout\"\n                className=\"input-admin rounded-lg\"\n              />\n              <p className=\"text-[10px] text-muted-foreground\">\n                * Rastreamento UTM automático aplicado no site.\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center justify-between rounded-xl bg-muted/20 p-4\">\n            <div className=\"space-y-0.5\">\n              <Label className=\"text-foreground font-semibold\">Ocultar no Mobile</Label>\n              <p className=\"text-xs text-muted-foreground\">\n                O botão não aparecerá em celulares para economizar espaço.\n              </p>\n            </div>\n            <Switch\n              checked={ctaData.mobileHidden}\n              onCheckedChange={(checked) => onUpdate({ mobileHidden: checked })}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n","import { memo } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { DebouncedInputV2 } from \"@/components/admin/shared-v2/DebouncedInputV2\";\nimport { DebouncedTextareaV2 } from \"@/components/admin/shared-v2/DebouncedTextareaV2\";\nimport { ImageUploadV2 } from \"@/components/admin/shared-v2/ImageUploadV2\";\nimport { SectionCTAEditorV2 } from \"@/components/admin/shared-v2/SectionCTAEditorV2\";\nimport type { HeroSection } from \"@/lib/cms-v2/cms-types\";\nimport type { V2SectionEditorProps } from \"./types\";\n\nexport const HeroEditorV2 = memo(({\n  draft,\n  updateField,\n  updateNestedField,\n  updateSection,\n}: V2SectionEditorProps) => {\n  const hero = draft.hero;\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header + Enabled Toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-bold text-foreground\">Hero</h2>\n        <div className=\"flex items-center space-x-2\">\n          <Switch\n            checked={hero?.enabled !== false}\n            onCheckedChange={(checked) => updateField('hero', 'enabled', checked)}\n          />\n          <Label className=\"text-foreground text-sm font-semibold\">Ativar seção</Label>\n        </div>\n      </div>\n\n      {/* Textos Principais */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Textos Principais</Label>\n\n        <div>\n          <Label className=\"text-foreground font-semibold mb-2 block\">Título</Label>\n          <DebouncedInputV2\n            value={hero?.title || ''}\n            onDebouncedChange={(v) => updateField('hero', 'title', v)}\n            className=\"input-admin\"\n            placeholder=\"Título principal do Hero\"\n          />\n        </div>\n\n        <div>\n          <Label className=\"text-foreground font-semibold mb-2 block\">Subtítulo</Label>\n          <DebouncedTextareaV2\n            value={hero?.subtitle || ''}\n            onDebouncedChange={(v) => updateField('hero', 'subtitle', v)}\n            className=\"input-admin\"\n            placeholder=\"Subtítulo do Hero\"\n          />\n        </div>\n      </div>\n\n      {/* Imagens de Background */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Imagens de Background</Label>\n        <div className=\"flex flex-wrap gap-6 justify-center\">\n          <ImageUploadV2\n            label=\"Imagem Desktop\"\n            recommendedSize=\"1920 × 1080\"\n            value={hero?.imageDesktop}\n            onChange={(url) => updateField('hero', 'imageDesktop', url)}\n          />\n          <ImageUploadV2\n            label=\"Imagem Mobile\"\n            recommendedSize=\"1080 × 1350\"\n            value={hero?.imageMobile}\n            onChange={(url) => updateField('hero', 'imageMobile', url)}\n          />\n        </div>\n      </div>\n\n      {/* CTAs de Ação */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">CTAs de Ação</Label>\n\n        <div className=\"grid md:grid-cols-2 gap-4\">\n          <div>\n            <Label className=\"text-foreground font-semibold mb-2 block\">CTA Primário - Texto</Label>\n            <DebouncedInputV2\n              value={hero?.ctaPrimary?.text || ''}\n              onDebouncedChange={(v) => updateNestedField('hero.ctaPrimary.text', v)}\n              className=\"input-admin\"\n              placeholder=\"Ex: Quero Assinar\"\n            />\n          </div>\n          <div>\n            <Label className=\"text-foreground font-semibold mb-2 block\">CTA Primário - Link</Label>\n            <DebouncedInputV2\n              value={hero?.ctaPrimary?.link || ''}\n              onDebouncedChange={(v) => updateNestedField('hero.ctaPrimary.link', v)}\n              className=\"input-admin\"\n              placeholder=\"Ex: /checkout\"\n            />\n          </div>\n        </div>\n\n        <div className=\"grid md:grid-cols-2 gap-4\">\n          <div>\n            <Label className=\"text-foreground font-semibold mb-2 block\">CTA Secundário - Texto</Label>\n            <DebouncedInputV2\n              value={hero?.ctaSecondary?.text || ''}\n              onDebouncedChange={(v) => updateNestedField('hero.ctaSecondary.text', v)}\n              className=\"input-admin\"\n              placeholder=\"Ex: Saiba Mais\"\n            />\n          </div>\n          <div>\n            <Label className=\"text-foreground font-semibold mb-2 block\">CTA Secundário - Link</Label>\n            <DebouncedInputV2\n              value={hero?.ctaSecondary?.link || ''}\n              onDebouncedChange={(v) => updateNestedField('hero.ctaSecondary.link', v)}\n              className=\"input-admin\"\n              placeholder=\"Ex: #beneficios\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Footer CTA */}\n      <SectionCTAEditorV2\n        sectionTitle=\"Hero\"\n        ctaData={hero?.footerCta}\n        onUpdate={(updates) => {\n          updateSection('hero', {\n            ...hero,\n            footerCta: {\n              ...(hero?.footerCta || { enabled: false, text: '', link: '', mobileHidden: false }),\n              ...updates,\n            },\n          });\n        }}\n      />\n    </div>\n  );\n});\n\nHeroEditorV2.displayName = 'HeroEditorV2';\n","import { memo, useCallback } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Button } from \"@/components/ui/button\";\nimport { Plus, Trash2, GripVertical } from \"lucide-react\";\nimport { DebouncedInputV2 } from \"@/components/admin/shared-v2/DebouncedInputV2\";\nimport { DebouncedTextareaV2 } from \"@/components/admin/shared-v2/DebouncedTextareaV2\";\nimport { ImageUploadV2 } from \"@/components/admin/shared-v2/ImageUploadV2\";\nimport { SectionCTAEditorV2 } from \"@/components/admin/shared-v2/SectionCTAEditorV2\";\nimport type { BenefitsSection } from \"@/lib/cms-v2/cms-types\";\nimport type { V2SectionEditorProps } from \"./types\";\n\nexport const BenefitsEditorV2 = memo(({\n  draft,\n  updateField,\n  updateSection,\n}: V2SectionEditorProps) => {\n  const benefits = draft.benefits;\n  const items = benefits?.items || [];\n\n  const addItem = useCallback(() => {\n    const newItems = [...items, { title: '', description: '', image: '' }];\n    updateSection('benefits', { ...benefits, items: newItems });\n  }, [items, benefits, updateSection]);\n\n  const removeItem = useCallback((index: number) => {\n    const newItems = items.filter((_, i) => i !== index);\n    updateSection('benefits', { ...benefits, items: newItems });\n  }, [items, benefits, updateSection]);\n\n  const updateItem = useCallback((index: number, field: string, value: string) => {\n    const newItems = [...items];\n    newItems[index] = { ...newItems[index], [field]: value };\n    updateSection('benefits', { ...benefits, items: newItems });\n  }, [items, benefits, updateSection]);\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header + Enabled Toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-bold text-foreground\">Benefícios</h2>\n        <div className=\"flex items-center space-x-2\">\n          <Switch\n            checked={benefits?.enabled !== false}\n            onCheckedChange={(checked) => updateField('benefits', 'enabled', checked)}\n          />\n          <Label className=\"text-foreground text-sm font-semibold\">Ativar seção</Label>\n        </div>\n      </div>\n\n      {/* Título da Seção */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Título da Seção</Label>\n        <DebouncedInputV2\n          value={benefits?.title || ''}\n          onDebouncedChange={(v) => updateField('benefits', 'title', v)}\n          className=\"input-admin\"\n          placeholder=\"Ex: Por que escolher a LimpMe?\"\n        />\n      </div>\n\n      {/* Lista de Benefícios */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold text-lg\">\n            Itens de Benefício ({items.length})\n          </Label>\n          <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={addItem}>\n            <Plus className=\"h-4 w-4 mr-1\" />\n            Adicionar\n          </Button>\n        </div>\n\n        {items.length === 0 && (\n          <p className=\"text-sm text-muted-foreground text-center py-8 border border-dashed rounded-lg\">\n            Nenhum benefício cadastrado. Clique em &quot;Adicionar&quot; para criar.\n          </p>\n        )}\n\n        <div className=\"space-y-4\">\n          {items.map((item, index) => (\n            <div\n              key={index}\n              className=\"bg-muted/20 rounded-2xl p-6 space-y-4\"\n            >\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground\">\n                  <GripVertical className=\"h-4 w-4\" />\n                  <span>Benefício {index + 1}</span>\n                </div>\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => removeItem(index)}\n                  className=\"text-destructive hover:text-destructive\"\n                >\n                  <Trash2 className=\"h-4 w-4\" />\n                </Button>\n              </div>\n\n              <div className=\"grid md:grid-cols-2 gap-4\">\n                <div>\n                  <Label className=\"text-foreground font-semibold mb-2 block\">Título</Label>\n                  <DebouncedInputV2\n                    value={item.title || ''}\n                    onDebouncedChange={(v) => updateItem(index, 'title', v)}\n                    className=\"input-admin\"\n                    placeholder=\"Ex: Praticidade\"\n                  />\n                </div>\n                <div className=\"flex items-end\">\n                  <ImageUploadV2\n                    label=\"Imagem\"\n                    value={item.image}\n                    onChange={(url) => updateItem(index, 'image', url)}\n                  />\n                </div>\n              </div>\n\n              <div>\n                <Label className=\"text-foreground font-semibold mb-2 block\">Descrição</Label>\n                <DebouncedTextareaV2\n                  value={item.description || ''}\n                  onDebouncedChange={(v) => updateItem(index, 'description', v)}\n                  className=\"input-admin\"\n                  placeholder=\"Descrição do benefício...\"\n                  rows={2}\n                />\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Footer CTA */}\n      <SectionCTAEditorV2\n        sectionTitle=\"Benefícios\"\n        ctaData={benefits?.footerCta}\n        onUpdate={(updates) => {\n          updateSection('benefits', {\n            ...benefits,\n            footerCta: {\n              ...(benefits?.footerCta || { enabled: false, text: '', link: '', mobileHidden: false }),\n              ...updates,\n            },\n          });\n        }}\n      />\n    </div>\n  );\n});\n\nBenefitsEditorV2.displayName = 'BenefitsEditorV2';\n","import { memo, useCallback } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Button } from \"@/components/ui/button\";\nimport { Plus, Trash2, GripVertical } from \"lucide-react\";\nimport { DebouncedInputV2 } from \"@/components/admin/shared-v2/DebouncedInputV2\";\nimport { ImageUploadV2 } from \"@/components/admin/shared-v2/ImageUploadV2\";\nimport { SectionCTAEditorV2 } from \"@/components/admin/shared-v2/SectionCTAEditorV2\";\nimport type { HowItWorksSection } from \"@/lib/cms-v2/cms-types\";\nimport type { V2SectionEditorProps } from \"./types\";\n\nexport const HowItWorksEditorV2 = memo(({\n  draft,\n  updateField,\n  updateSection,\n}: V2SectionEditorProps) => {\n  const howItWorks = draft.howItWorks;\n  const steps = howItWorks?.steps || [];\n\n  const addStep = useCallback(() => {\n    const newSteps = [...steps, ''];\n    updateSection('howItWorks', { ...howItWorks, steps: newSteps });\n  }, [steps, howItWorks, updateSection]);\n\n  const removeStep = useCallback((index: number) => {\n    const newSteps = steps.filter((_, i) => i !== index);\n    updateSection('howItWorks', { ...howItWorks, steps: newSteps });\n  }, [steps, howItWorks, updateSection]);\n\n  const updateStep = useCallback((index: number, value: string) => {\n    const newSteps = [...steps];\n    newSteps[index] = value;\n    updateSection('howItWorks', { ...howItWorks, steps: newSteps });\n  }, [steps, howItWorks, updateSection]);\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header + Enabled Toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-bold text-foreground\">Como Funciona</h2>\n        <div className=\"flex items-center space-x-2\">\n          <Switch\n            checked={howItWorks?.enabled !== false}\n            onCheckedChange={(checked) => updateField('howItWorks', 'enabled', checked)}\n          />\n          <Label className=\"text-foreground text-sm font-semibold\">Ativar seção</Label>\n        </div>\n      </div>\n\n      {/* Título da Seção */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Título da Seção</Label>\n        <DebouncedInputV2\n          value={howItWorks?.title || ''}\n          onDebouncedChange={(v) => updateField('howItWorks', 'title', v)}\n          className=\"input-admin\"\n          placeholder=\"Ex: Como funciona?\"\n        />\n      </div>\n\n      {/* Imagens */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Imagens</Label>\n        <div className=\"flex flex-wrap gap-6 justify-center\">\n          <ImageUploadV2\n            label=\"Imagem Desktop\"\n            recommendedSize=\"1920 × 1080\"\n            value={howItWorks?.imageDesktop}\n            onChange={(url) => updateField('howItWorks', 'imageDesktop', url)}\n          />\n          <ImageUploadV2\n            label=\"Imagem Mobile\"\n            recommendedSize=\"1080 × 1350\"\n            value={howItWorks?.imageMobile}\n            onChange={(url) => updateField('howItWorks', 'imageMobile', url)}\n          />\n        </div>\n      </div>\n\n      {/* Passos */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold text-lg\">\n            Passos ({steps.length})\n          </Label>\n          <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={addStep}>\n            <Plus className=\"h-4 w-4 mr-1\" />\n            Adicionar\n          </Button>\n        </div>\n\n        {steps.length === 0 && (\n          <p className=\"text-sm text-muted-foreground text-center py-8 border border-dashed rounded-lg\">\n            Nenhum passo cadastrado. Clique em &quot;Adicionar&quot; para criar.\n          </p>\n        )}\n\n        <div className=\"space-y-3\">\n          {steps.map((step, index) => (\n            <div key={index} className=\"flex items-center gap-3\">\n              <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground shrink-0\">\n                <GripVertical className=\"h-4 w-4\" />\n                <span className=\"w-6 text-center\">{index + 1}.</span>\n              </div>\n              <DebouncedInputV2\n                value={step || ''}\n                onDebouncedChange={(v) => updateStep(index, v)}\n                className=\"input-admin flex-1\"\n                placeholder={`Passo ${index + 1}`}\n              />\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => removeStep(index)}\n                className=\"text-destructive hover:text-destructive shrink-0\"\n              >\n                <Trash2 className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Footer CTA */}\n      <SectionCTAEditorV2\n        sectionTitle=\"Como Funciona\"\n        ctaData={howItWorks?.footerCta}\n        onUpdate={(updates) => {\n          updateSection('howItWorks', {\n            ...howItWorks,\n            footerCta: {\n              ...(howItWorks?.footerCta || { enabled: false, text: '', link: '', mobileHidden: false }),\n              ...updates,\n            },\n          });\n        }}\n      />\n    </div>\n  );\n});\n\nHowItWorksEditorV2.displayName = 'HowItWorksEditorV2';\n","import { memo, useCallback } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Button } from \"@/components/ui/button\";\nimport { Plus, Trash2, GripVertical } from \"lucide-react\";\nimport { DebouncedInputV2 } from \"@/components/admin/shared-v2/DebouncedInputV2\";\nimport { ImageUploadV2 } from \"@/components/admin/shared-v2/ImageUploadV2\";\nimport { SectionCTAEditorV2 } from \"@/components/admin/shared-v2/SectionCTAEditorV2\";\nimport type { BeforeAfterSection } from \"@/lib/cms-v2/cms-types\";\nimport type { V2SectionEditorProps } from \"./types\";\n\nexport const BeforeAfterEditorV2 = memo(({\n  draft,\n  updateField,\n  updateSection,\n}: V2SectionEditorProps) => {\n  const beforeAfter = draft.beforeAfter;\n  const images = beforeAfter?.images || [];\n\n  const addImage = useCallback(() => {\n    const newImages = [...images, { before: '', after: '', caption: '' }];\n    updateSection('beforeAfter', { ...beforeAfter, images: newImages });\n  }, [images, beforeAfter, updateSection]);\n\n  const removeImage = useCallback((index: number) => {\n    const newImages = images.filter((_, i) => i !== index);\n    updateSection('beforeAfter', { ...beforeAfter, images: newImages });\n  }, [images, beforeAfter, updateSection]);\n\n  const updateImage = useCallback((index: number, field: string, value: string) => {\n    const newImages = [...images];\n    newImages[index] = { ...newImages[index], [field]: value };\n    updateSection('beforeAfter', { ...beforeAfter, images: newImages });\n  }, [images, beforeAfter, updateSection]);\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header + Enabled Toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-bold text-foreground\">Antes e Depois</h2>\n        <div className=\"flex items-center space-x-2\">\n          <Switch\n            checked={beforeAfter?.enabled !== false}\n            onCheckedChange={(checked) => updateField('beforeAfter', 'enabled', checked)}\n          />\n          <Label className=\"text-foreground text-sm font-semibold\">Ativar seção</Label>\n        </div>\n      </div>\n\n      {/* Textos */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Textos</Label>\n\n        <div>\n          <Label className=\"text-foreground font-semibold mb-2 block\">Título</Label>\n          <DebouncedInputV2\n            value={beforeAfter?.title || ''}\n            onDebouncedChange={(v) => updateField('beforeAfter', 'title', v)}\n            className=\"input-admin\"\n            placeholder=\"Ex: Veja a diferença\"\n          />\n        </div>\n\n        <div>\n          <Label className=\"text-foreground font-semibold mb-2 block\">Subtítulo</Label>\n          <DebouncedInputV2\n            value={beforeAfter?.subtitle || ''}\n            onDebouncedChange={(v) => updateField('beforeAfter', 'subtitle', v)}\n            className=\"input-admin\"\n            placeholder=\"Subtítulo da seção\"\n          />\n        </div>\n      </div>\n\n      {/* Imagens de Background */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Imagens de Background</Label>\n        <div className=\"flex flex-wrap gap-6 justify-center\">\n          <ImageUploadV2\n            label=\"Imagem Desktop\"\n            recommendedSize=\"1920 × 1080\"\n            value={beforeAfter?.imageDesktop}\n            onChange={(url) => updateField('beforeAfter', 'imageDesktop', url)}\n          />\n          <ImageUploadV2\n            label=\"Imagem Mobile\"\n            recommendedSize=\"1080 × 1350\"\n            value={beforeAfter?.imageMobile}\n            onChange={(url) => updateField('beforeAfter', 'imageMobile', url)}\n          />\n        </div>\n      </div>\n\n      {/* Comparações */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold text-lg\">\n            Comparações ({images.length})\n          </Label>\n          <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={addImage}>\n            <Plus className=\"h-4 w-4 mr-1\" />\n            Adicionar\n          </Button>\n        </div>\n\n        {images.length === 0 && (\n          <p className=\"text-sm text-muted-foreground text-center py-8 border border-dashed rounded-lg\">\n            Nenhuma comparação cadastrada. Clique em &quot;Adicionar&quot; para criar.\n          </p>\n        )}\n\n        <div className=\"space-y-4\">\n          {images.map((img, index) => (\n            <div\n              key={index}\n              className=\"bg-muted/20 rounded-2xl p-6 space-y-4\"\n            >\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground\">\n                  <GripVertical className=\"h-4 w-4\" />\n                  <span>Comparação {index + 1}</span>\n                </div>\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => removeImage(index)}\n                  className=\"text-destructive hover:text-destructive\"\n                >\n                  <Trash2 className=\"h-4 w-4\" />\n                </Button>\n              </div>\n\n              <div className=\"flex flex-wrap gap-6 justify-center\">\n                <ImageUploadV2\n                  label=\"Imagem Antes\"\n                  recommendedSize=\"800 × 600\"\n                  value={img.before || ''}\n                  onChange={(url) => updateImage(index, 'before', url)}\n                />\n                <ImageUploadV2\n                  label=\"Imagem Depois\"\n                  recommendedSize=\"800 × 600\"\n                  value={img.after || ''}\n                  onChange={(url) => updateImage(index, 'after', url)}\n                />\n              </div>\n\n              <div>\n                <Label className=\"text-foreground font-semibold mb-2 block\">Legenda</Label>\n                <DebouncedInputV2\n                  value={img.caption || ''}\n                  onDebouncedChange={(v) => updateImage(index, 'caption', v)}\n                  className=\"input-admin\"\n                  placeholder=\"Legenda da comparação\"\n                />\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Footer CTA */}\n      <SectionCTAEditorV2\n        sectionTitle=\"Antes e Depois\"\n        ctaData={beforeAfter?.footerCta}\n        onUpdate={(updates) => {\n          updateSection('beforeAfter', {\n            ...beforeAfter,\n            footerCta: {\n              ...(beforeAfter?.footerCta || { enabled: false, text: '', link: '', mobileHidden: false }),\n              ...updates,\n            },\n          });\n        }}\n      />\n    </div>\n  );\n});\n\nBeforeAfterEditorV2.displayName = 'BeforeAfterEditorV2';\n","import { memo, useCallback } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Button } from \"@/components/ui/button\";\nimport { Plus, Trash2, GripVertical } from \"lucide-react\";\nimport { DebouncedInputV2 } from \"@/components/admin/shared-v2/DebouncedInputV2\";\nimport { DebouncedTextareaV2 } from \"@/components/admin/shared-v2/DebouncedTextareaV2\";\nimport { ImageUploadV2 } from \"@/components/admin/shared-v2/ImageUploadV2\";\nimport { SectionCTAEditorV2 } from \"@/components/admin/shared-v2/SectionCTAEditorV2\";\nimport type { ProcessSection } from \"@/lib/cms-v2/cms-types\";\nimport type { V2SectionEditorProps } from \"./types\";\n\nexport const ProcessEditorV2 = memo(({\n  draft,\n  updateField,\n  updateSection,\n}: V2SectionEditorProps) => {\n  const process = draft.process;\n  const steps = process?.steps || [];\n\n  const addStep = useCallback(() => {\n    const newSteps = [...steps, { title: '', description: '' }];\n    updateSection('process', { ...process, steps: newSteps });\n  }, [steps, process, updateSection]);\n\n  const removeStep = useCallback((index: number) => {\n    const newSteps = steps.filter((_, i) => i !== index);\n    updateSection('process', { ...process, steps: newSteps });\n  }, [steps, process, updateSection]);\n\n  const updateStep = useCallback((index: number, field: string, value: string) => {\n    const newSteps = [...steps];\n    newSteps[index] = { ...newSteps[index], [field]: value };\n    updateSection('process', { ...process, steps: newSteps });\n  }, [steps, process, updateSection]);\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header + Enabled Toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-bold text-foreground\">Processo</h2>\n        <div className=\"flex items-center space-x-2\">\n          <Switch\n            checked={process?.enabled !== false}\n            onCheckedChange={(checked) => updateField('process', 'enabled', checked)}\n          />\n          <Label className=\"text-foreground text-sm font-semibold\">Ativar seção</Label>\n        </div>\n      </div>\n\n      {/* Textos */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Textos</Label>\n\n        <div>\n          <Label className=\"text-foreground font-semibold mb-2 block\">Título</Label>\n          <DebouncedInputV2\n            value={process?.title || ''}\n            onDebouncedChange={(v) => updateField('process', 'title', v)}\n            className=\"input-admin\"\n            placeholder=\"Ex: Nosso Processo\"\n          />\n        </div>\n\n        <div>\n          <Label className=\"text-foreground font-semibold mb-2 block\">Subtítulo</Label>\n          <DebouncedInputV2\n            value={process?.subtitle || ''}\n            onDebouncedChange={(v) => updateField('process', 'subtitle', v)}\n            className=\"input-admin\"\n            placeholder=\"Subtítulo da seção\"\n          />\n        </div>\n      </div>\n\n      {/* Imagens */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Imagens</Label>\n        <div className=\"flex flex-wrap gap-6 justify-center\">\n          <ImageUploadV2\n            label=\"Imagem Desktop\"\n            recommendedSize=\"1920 × 1080\"\n            value={process?.imageDesktop}\n            onChange={(url) => updateField('process', 'imageDesktop', url)}\n          />\n          <ImageUploadV2\n            label=\"Imagem Mobile\"\n            recommendedSize=\"1080 × 1350\"\n            value={process?.imageMobile}\n            onChange={(url) => updateField('process', 'imageMobile', url)}\n          />\n        </div>\n      </div>\n\n      {/* Etapas */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold text-lg\">\n            Etapas ({steps.length})\n          </Label>\n          <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={addStep}>\n            <Plus className=\"h-4 w-4 mr-1\" />\n            Adicionar\n          </Button>\n        </div>\n\n        {steps.length === 0 && (\n          <p className=\"text-sm text-muted-foreground text-center py-8 border border-dashed rounded-lg\">\n            Nenhuma etapa cadastrada. Clique em &quot;Adicionar&quot; para criar.\n          </p>\n        )}\n\n        <div className=\"space-y-4\">\n          {steps.map((step, index) => (\n            <div\n              key={index}\n              className=\"bg-muted/20 rounded-2xl p-6 space-y-4\"\n            >\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground\">\n                  <GripVertical className=\"h-4 w-4\" />\n                  <span>Etapa {index + 1}</span>\n                </div>\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => removeStep(index)}\n                  className=\"text-destructive hover:text-destructive\"\n                >\n                  <Trash2 className=\"h-4 w-4\" />\n                </Button>\n              </div>\n\n              <div>\n                <Label className=\"text-foreground font-semibold mb-2 block\">Título</Label>\n                <DebouncedInputV2\n                  value={step.title || ''}\n                  onDebouncedChange={(v) => updateStep(index, 'title', v)}\n                  className=\"input-admin\"\n                  placeholder=\"Título da etapa\"\n                />\n              </div>\n\n              <div>\n                <Label className=\"text-foreground font-semibold mb-2 block\">Descrição</Label>\n                <DebouncedTextareaV2\n                  value={step.description || ''}\n                  onDebouncedChange={(v) => updateStep(index, 'description', v)}\n                  className=\"input-admin\"\n                  placeholder=\"Descrição da etapa...\"\n                  rows={2}\n                />\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Footer CTA */}\n      <SectionCTAEditorV2\n        sectionTitle=\"Processo\"\n        ctaData={process?.footerCta}\n        onUpdate={(updates) => {\n          updateSection('process', {\n            ...process,\n            footerCta: {\n              ...(process?.footerCta || { enabled: false, text: '', link: '', mobileHidden: false }),\n              ...updates,\n            },\n          });\n        }}\n      />\n    </div>\n  );\n});\n\nProcessEditorV2.displayName = 'ProcessEditorV2';\n","import { memo, useCallback } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Button } from \"@/components/ui/button\";\nimport { Plus, Trash2, GripVertical } from \"lucide-react\";\nimport { DebouncedInputV2 } from \"@/components/admin/shared-v2/DebouncedInputV2\";\nimport { ImageUploadV2 } from \"@/components/admin/shared-v2/ImageUploadV2\";\nimport { SectionCTAEditorV2 } from \"@/components/admin/shared-v2/SectionCTAEditorV2\";\nimport type { ForWhomSection } from \"@/lib/cms-v2/cms-types\";\nimport type { V2SectionEditorProps } from \"./types\";\n\nexport const ForWhomEditorV2 = memo(({\n  draft,\n  updateField,\n  updateSection,\n}: V2SectionEditorProps) => {\n  const forWhom = draft.forWhom;\n  const items = forWhom?.items || [];\n\n  const addItem = useCallback(() => {\n    const newItems = [...items, ''];\n    updateSection('forWhom', { ...forWhom, items: newItems });\n  }, [items, forWhom, updateSection]);\n\n  const removeItem = useCallback((index: number) => {\n    const newItems = items.filter((_, i) => i !== index);\n    updateSection('forWhom', { ...forWhom, items: newItems });\n  }, [items, forWhom, updateSection]);\n\n  const updateItem = useCallback((index: number, value: string) => {\n    const newItems = [...items];\n    newItems[index] = value;\n    updateSection('forWhom', { ...forWhom, items: newItems });\n  }, [items, forWhom, updateSection]);\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header + Enabled Toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-bold text-foreground\">Para Quem</h2>\n        <div className=\"flex items-center space-x-2\">\n          <Switch\n            checked={forWhom?.enabled !== false}\n            onCheckedChange={(checked) => updateField('forWhom', 'enabled', checked)}\n          />\n          <Label className=\"text-foreground text-sm font-semibold\">Ativar seção</Label>\n        </div>\n      </div>\n\n      {/* Textos */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Textos</Label>\n\n        <div>\n          <Label className=\"text-foreground font-semibold mb-2 block\">Título</Label>\n          <DebouncedInputV2\n            value={forWhom?.title || ''}\n            onDebouncedChange={(v) => updateField('forWhom', 'title', v)}\n            className=\"input-admin\"\n            placeholder=\"Ex: Para quem é a LimpMe?\"\n          />\n        </div>\n\n        <div>\n          <Label className=\"text-foreground font-semibold mb-2 block\">Subtítulo</Label>\n          <DebouncedInputV2\n            value={forWhom?.subtitle || ''}\n            onDebouncedChange={(v) => updateField('forWhom', 'subtitle', v)}\n            className=\"input-admin\"\n            placeholder=\"Subtítulo da seção\"\n          />\n        </div>\n      </div>\n\n      {/* Imagens */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Imagens</Label>\n        <div className=\"flex flex-wrap gap-6 justify-center\">\n          <ImageUploadV2\n            label=\"Imagem Desktop\"\n            recommendedSize=\"1920 × 1080\"\n            value={forWhom?.imageDesktop}\n            onChange={(url) => updateField('forWhom', 'imageDesktop', url)}\n          />\n          <ImageUploadV2\n            label=\"Imagem Mobile\"\n            recommendedSize=\"1080 × 1350\"\n            value={forWhom?.imageMobile}\n            onChange={(url) => updateField('forWhom', 'imageMobile', url)}\n          />\n        </div>\n      </div>\n\n      {/* Itens */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold text-lg\">\n            Itens ({items.length})\n          </Label>\n          <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={addItem}>\n            <Plus className=\"h-4 w-4 mr-1\" />\n            Adicionar\n          </Button>\n        </div>\n\n        {items.length === 0 && (\n          <p className=\"text-sm text-muted-foreground text-center py-8 border border-dashed rounded-lg\">\n            Nenhum item cadastrado. Clique em &quot;Adicionar&quot; para criar.\n          </p>\n        )}\n\n        <div className=\"space-y-3\">\n          {items.map((item, index) => (\n            <div key={index} className=\"flex items-center gap-3\">\n              <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground shrink-0\">\n                <GripVertical className=\"h-4 w-4\" />\n                <span className=\"w-6 text-center\">{index + 1}.</span>\n              </div>\n              <DebouncedInputV2\n                value={item || ''}\n                onDebouncedChange={(v) => updateItem(index, v)}\n                className=\"input-admin flex-1\"\n                placeholder={`Item ${index + 1}`}\n              />\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => removeItem(index)}\n                className=\"text-destructive hover:text-destructive shrink-0\"\n              >\n                <Trash2 className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Footer CTA */}\n      <SectionCTAEditorV2\n        sectionTitle=\"Para Quem\"\n        ctaData={forWhom?.footerCta}\n        onUpdate={(updates) => {\n          updateSection('forWhom', {\n            ...forWhom,\n            footerCta: {\n              ...(forWhom?.footerCta || { enabled: false, text: '', link: '', mobileHidden: false }),\n              ...updates,\n            },\n          });\n        }}\n      />\n    </div>\n  );\n});\n\nForWhomEditorV2.displayName = 'ForWhomEditorV2';\n","import { memo, useCallback } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Button } from \"@/components/ui/button\";\nimport { Plus, Trash2, GripVertical } from \"lucide-react\";\nimport { DebouncedInputV2 } from \"@/components/admin/shared-v2/DebouncedInputV2\";\nimport { SectionCTAEditorV2 } from \"@/components/admin/shared-v2/SectionCTAEditorV2\";\nimport type { ServicesSection } from \"@/lib/cms-v2/cms-types\";\nimport type { V2SectionEditorProps } from \"./types\";\n\nexport const ServicesEditorV2 = memo(({\n  draft,\n  updateField,\n  updateSection,\n}: V2SectionEditorProps) => {\n  const services = draft.services;\n  const items = services?.items || [];\n\n  const addItem = useCallback(() => {\n    const newItems = [...items, { text: '', enabled: true }];\n    updateSection('services', { ...services, items: newItems });\n  }, [items, services, updateSection]);\n\n  const removeItem = useCallback((index: number) => {\n    const newItems = items.filter((_, i) => i !== index);\n    updateSection('services', { ...services, items: newItems });\n  }, [items, services, updateSection]);\n\n  const updateItemText = useCallback((index: number, value: string) => {\n    const newItems = [...items];\n    newItems[index] = { ...newItems[index], text: value };\n    updateSection('services', { ...services, items: newItems });\n  }, [items, services, updateSection]);\n\n  const toggleItemEnabled = useCallback((index: number, checked: boolean) => {\n    const newItems = [...items];\n    newItems[index] = { ...newItems[index], enabled: checked };\n    updateSection('services', { ...services, items: newItems });\n  }, [items, services, updateSection]);\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header + Enabled Toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-bold text-foreground\">Serviços</h2>\n        <div className=\"flex items-center space-x-2\">\n          <Switch\n            checked={services?.enabled !== false}\n            onCheckedChange={(checked) => updateField('services', 'enabled', checked)}\n          />\n          <Label className=\"text-foreground text-sm font-semibold\">Ativar seção</Label>\n        </div>\n      </div>\n\n      {/* Título da Seção */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Título da Seção</Label>\n        <DebouncedInputV2\n          value={services?.title || ''}\n          onDebouncedChange={(v) => updateField('services', 'title', v)}\n          className=\"input-admin\"\n          placeholder=\"Ex: Nossos Serviços\"\n        />\n      </div>\n\n      {/* Lista de Serviços */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold text-lg\">\n            Serviços ({items.length})\n          </Label>\n          <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={addItem}>\n            <Plus className=\"h-4 w-4 mr-1\" />\n            Adicionar\n          </Button>\n        </div>\n\n        {items.length === 0 && (\n          <p className=\"text-sm text-muted-foreground text-center py-8 border border-dashed rounded-lg\">\n            Nenhum serviço cadastrado. Clique em &quot;Adicionar&quot; para criar.\n          </p>\n        )}\n\n        <div className=\"space-y-3\">\n          {items.map((item, index) => (\n            <div key={index} className=\"flex items-center gap-3\">\n              <div className=\"flex items-center gap-2 text-sm font-medium text-muted-foreground shrink-0\">\n                <GripVertical className=\"h-4 w-4\" />\n              </div>\n              <Switch\n                checked={item.enabled !== false}\n                onCheckedChange={(checked) => toggleItemEnabled(index, checked)}\n              />\n              <DebouncedInputV2\n                value={item.text || ''}\n                onDebouncedChange={(v) => updateItemText(index, v)}\n                className=\"input-admin flex-1\"\n                placeholder={`Serviço ${index + 1}`}\n              />\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => removeItem(index)}\n                className=\"text-destructive hover:text-destructive shrink-0\"\n              >\n                <Trash2 className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Footer CTA */}\n      <SectionCTAEditorV2\n        sectionTitle=\"Serviços\"\n        ctaData={services?.footerCta}\n        onUpdate={(updates) => {\n          updateSection('services', {\n            ...services,\n            footerCta: {\n              ...(services?.footerCta || { enabled: false, text: '', link: '', mobileHidden: false }),\n              ...updates,\n            },\n          });\n        }}\n      />\n    </div>\n  );\n});\n\nServicesEditorV2.displayName = 'ServicesEditorV2';\n","import { memo, useCallback } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Plus, Trash2, GripVertical, Star, X } from \"lucide-react\";\nimport { DebouncedInputV2 } from \"@/components/admin/shared-v2/DebouncedInputV2\";\nimport { SectionCTAEditorV2 } from \"@/components/admin/shared-v2/SectionCTAEditorV2\";\nimport type { PlansSection } from \"@/lib/cms-v2/cms-types\";\nimport type { V2SectionEditorProps } from \"./types\";\n\ntype PlanItem = PlansSection['items'][number];\n\nexport const PlansEditorV2 = memo(({\n  draft,\n  updateField,\n  updateSection,\n}: V2SectionEditorProps) => {\n  const plans = draft.plans;\n  const items = plans?.items || [];\n\n  const addItem = useCallback(() => {\n    const newId = `plan-${Date.now()}`;\n    const newItems: PlanItem[] = [\n      ...items,\n      {\n        id: newId,\n        name: '',\n        frequency: 'mensal',\n        price: '',\n        originalPrice: '',\n        showStrikethrough: false,\n        discount: '',\n        supportText: '',\n        features: [],\n        link: '',\n        recommended: false,\n      },\n    ];\n    updateSection('plans', { ...plans, items: newItems });\n  }, [items, plans, updateSection]);\n\n  const removeItem = useCallback((index: number) => {\n    const newItems = items.filter((_, i) => i !== index);\n    updateSection('plans', { ...plans, items: newItems });\n  }, [items, plans, updateSection]);\n\n  const updateItem = useCallback(<K extends keyof PlanItem>(index: number, field: K, value: PlanItem[K]) => {\n    const newItems = [...items];\n    newItems[index] = { ...newItems[index], [field]: value };\n    updateSection('plans', { ...plans, items: newItems });\n  }, [items, plans, updateSection]);\n\n  const addFeature = useCallback((itemIndex: number) => {\n    const newItems = [...items];\n    const features = [...(newItems[itemIndex].features || []), ''];\n    newItems[itemIndex] = { ...newItems[itemIndex], features };\n    updateSection('plans', { ...plans, items: newItems });\n  }, [items, plans, updateSection]);\n\n  const removeFeature = useCallback((itemIndex: number, featureIndex: number) => {\n    const newItems = [...items];\n    const features = (newItems[itemIndex].features || []).filter((_, i) => i !== featureIndex);\n    newItems[itemIndex] = { ...newItems[itemIndex], features };\n    updateSection('plans', { ...plans, items: newItems });\n  }, [items, plans, updateSection]);\n\n  const updateFeature = useCallback((itemIndex: number, featureIndex: number, value: string) => {\n    const newItems = [...items];\n    const features = [...(newItems[itemIndex].features || [])];\n    features[featureIndex] = value;\n    newItems[itemIndex] = { ...newItems[itemIndex], features };\n    updateSection('plans', { ...plans, items: newItems });\n  }, [items, plans, updateSection]);\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header + Enabled Toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-bold text-foreground\">Planos</h2>\n        <div className=\"flex items-center space-x-2\">\n          <Switch\n            checked={plans?.enabled !== false}\n            onCheckedChange={(checked) => updateField('plans', 'enabled', checked)}\n          />\n          <Label className=\"text-foreground text-sm font-semibold\">Ativar seção</Label>\n        </div>\n      </div>\n\n      {/* Título da Seção */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Título da Seção</Label>\n        <DebouncedInputV2\n          value={plans?.title || ''}\n          onDebouncedChange={(v) => updateField('plans', 'title', v)}\n          className=\"input-admin\"\n          placeholder=\"Ex: Escolha seu plano\"\n        />\n      </div>\n\n      {/* Lista de Planos */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold text-lg\">\n            Planos ({items.length})\n          </Label>\n          <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={addItem}>\n            <Plus className=\"h-4 w-4 mr-1\" />\n            Adicionar Plano\n          </Button>\n        </div>\n\n        {items.length === 0 && (\n          <p className=\"text-sm text-muted-foreground text-center py-8 border border-dashed rounded-lg\">\n            Nenhum plano cadastrado. Clique em &quot;Adicionar Plano&quot; para criar.\n          </p>\n        )}\n\n        <div className=\"space-y-6\">\n          {items.map((item, index) => (\n            <div\n              key={item.id || index}\n              className={`bg-muted/20 rounded-2xl border p-6 space-y-4 ${\n                item.recommended ? 'border-primary bg-primary/5' : 'border-border/30'\n              }`}\n            >\n              {/* Plan Header */}\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-2\">\n                  <GripVertical className=\"h-4 w-4 text-muted-foreground\" />\n                  <span className=\"font-medium text-foreground\">\n                    {item.name || `Plano ${index + 1}`}\n                  </span>\n                  {item.recommended && (\n                    <Badge variant=\"default\" className=\"gap-1\">\n                      <Star className=\"h-3 w-3\" />\n                      Recomendado\n                    </Badge>\n                  )}\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <Button\n                    type=\"button\"\n                    variant={item.recommended ? \"default\" : \"outline\"}\n                    size=\"sm\"\n                    onClick={() => updateItem(index, 'recommended', !item.recommended)}\n                  >\n                    <Star className=\"h-4 w-4\" />\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => removeItem(index)}\n                    className=\"text-destructive hover:text-destructive\"\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n\n              {/* Dados Básicos */}\n              <div className=\"grid md:grid-cols-3 gap-4\">\n                <div>\n                  <Label className=\"text-foreground font-semibold mb-2 block\">Nome do Plano</Label>\n                  <DebouncedInputV2\n                    value={item.name || ''}\n                    onDebouncedChange={(v) => updateItem(index, 'name', v)}\n                    className=\"input-admin\"\n                    placeholder=\"Ex: Mensal\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"text-foreground font-semibold mb-2 block\">Frequência</Label>\n                  <DebouncedInputV2\n                    value={item.frequency || ''}\n                    onDebouncedChange={(v) => updateItem(index, 'frequency', v)}\n                    className=\"input-admin\"\n                    placeholder=\"Ex: /mês\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"text-foreground font-semibold mb-2 block\">Preço</Label>\n                  <DebouncedInputV2\n                    value={item.price || ''}\n                    onDebouncedChange={(v) => updateItem(index, 'price', v)}\n                    className=\"input-admin\"\n                    placeholder=\"Ex: R$ 79,90\"\n                  />\n                </div>\n              </div>\n\n              {/* Preço Original e Desconto */}\n              <div className=\"grid md:grid-cols-3 gap-4\">\n                <div>\n                  <Label className=\"text-foreground font-semibold mb-2 block\">Preço Original</Label>\n                  <DebouncedInputV2\n                    value={item.originalPrice || ''}\n                    onDebouncedChange={(v) => updateItem(index, 'originalPrice', v)}\n                    className=\"input-admin\"\n                    placeholder=\"Ex: R$ 99,90\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"text-foreground font-semibold mb-2 block\">Desconto</Label>\n                  <DebouncedInputV2\n                    value={item.discount || ''}\n                    onDebouncedChange={(v) => updateItem(index, 'discount', v)}\n                    className=\"input-admin\"\n                    placeholder=\"Ex: 20% OFF\"\n                  />\n                </div>\n                <div className=\"flex items-end\">\n                  <div className=\"flex items-center gap-2 h-10\">\n                    <Switch\n                      checked={item.showStrikethrough || false}\n                      onCheckedChange={(checked) => updateItem(index, 'showStrikethrough', checked)}\n                    />\n                    <Label className=\"text-foreground text-sm\">Mostrar riscado</Label>\n                  </div>\n                </div>\n              </div>\n\n              {/* Texto de Suporte e Link */}\n              <div className=\"grid md:grid-cols-2 gap-4\">\n                <div>\n                  <Label className=\"text-foreground font-semibold mb-2 block\">Texto de Suporte</Label>\n                  <DebouncedInputV2\n                    value={item.supportText || ''}\n                    onDebouncedChange={(v) => updateItem(index, 'supportText', v)}\n                    className=\"input-admin\"\n                    placeholder=\"Ex: Sem fidelidade\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"text-foreground font-semibold mb-2 block\">Link do Botão</Label>\n                  <DebouncedInputV2\n                    value={item.link || ''}\n                    onDebouncedChange={(v) => updateItem(index, 'link', v)}\n                    className=\"input-admin\"\n                    placeholder=\"Ex: /checkout?plan=mensal\"\n                  />\n                </div>\n              </div>\n\n              {/* Features */}\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <Label className=\"text-foreground font-semibold\">\n                    Características ({item.features?.length || 0})\n                  </Label>\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => addFeature(index)}\n                  >\n                    <Plus className=\"h-4 w-4 mr-1\" />\n                    Adicionar\n                  </Button>\n                </div>\n\n                {(item.features || []).map((feature, fIndex) => (\n                  <div key={fIndex} className=\"flex gap-2\">\n                    <DebouncedInputV2\n                      value={feature}\n                      onDebouncedChange={(v) => updateFeature(index, fIndex, v)}\n                      className=\"input-admin flex-1\"\n                      placeholder=\"Ex: Lavagem completa\"\n                    />\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      onClick={() => removeFeature(index, fIndex)}\n                      className=\"shrink-0 text-muted-foreground hover:text-destructive\"\n                    >\n                      <X className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                ))}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Footer CTA */}\n      <SectionCTAEditorV2\n        sectionTitle=\"Planos\"\n        ctaData={plans?.footerCta}\n        onUpdate={(updates) => {\n          updateSection('plans', {\n            ...plans,\n            footerCta: {\n              ...(plans?.footerCta || { enabled: false, text: '', link: '', mobileHidden: false }),\n              ...updates,\n            },\n          });\n        }}\n      />\n    </div>\n  );\n});\n\nPlansEditorV2.displayName = 'PlansEditorV2';\n","import { memo } from 'react';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport { VideoSection } from '@/lib/cms-v2/cms-types';\nimport { DebouncedInputV2 } from '@/components/admin/shared-v2/DebouncedInputV2';\nimport { SectionCTAEditorV2 } from '@/components/admin/shared-v2/SectionCTAEditorV2';\nimport { V2SectionEditorProps } from './types';\n\nexport const VideoEditorV2 = memo(({ draft, updateField, updateSection }: V2SectionEditorProps) => {\n  const section = draft.video as VideoSection | undefined;\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header com toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-xl font-semibold text-foreground\">Video</h2>\n        <div className=\"flex items-center gap-2\">\n          <Label htmlFor=\"video-enabled\" className=\"text-sm font-normal\">Ativada</Label>\n          <Switch\n            id=\"video-enabled\"\n            checked={section?.enabled !== false}\n            onCheckedChange={(checked) => updateField('video', 'enabled', checked)}\n          />\n        </div>\n      </div>\n\n      {/* Titulo */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-foreground font-semibold\">Titulo</Label>\n        <DebouncedInputV2\n          value={section?.title || ''}\n          onDebouncedChange={(val) => updateField('video', 'title', val)}\n          placeholder=\"Ex: Assista ao nosso video\"\n        />\n      </div>\n\n      {/* Subtitulo */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-foreground font-semibold\">Subtitulo</Label>\n        <DebouncedInputV2\n          value={section?.subtitle || ''}\n          onDebouncedChange={(val) => updateField('video', 'subtitle', val)}\n          placeholder=\"Ex: Conheca nosso trabalho\"\n        />\n      </div>\n\n      {/* URL do Video */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-foreground font-semibold\">URL do Video (YouTube / Vimeo)</Label>\n        <DebouncedInputV2\n          value={section?.url || ''}\n          onDebouncedChange={(val) => updateField('video', 'url', val)}\n          placeholder=\"https://www.youtube.com/watch?v=...\"\n        />\n      </div>\n\n      {/* Footer CTA */}\n      <SectionCTAEditorV2\n        sectionTitle=\"Video\"\n        ctaData={section?.footerCta}\n        onUpdate={(updates) => {\n          updateSection('video', {\n            ...draft.video,\n            footerCta: { ...(draft.video?.footerCta || { enabled: false, text: '', link: '', mobileHidden: false }), ...updates }\n          });\n        }}\n      />\n    </div>\n  );\n});\n\nVideoEditorV2.displayName = 'VideoEditorV2';\n","import { memo } from 'react';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport { Button } from '@/components/ui/button';\nimport { Plus, Trash2, ArrowUp, ArrowDown } from 'lucide-react';\nimport { VideoCarouselSection } from '@/lib/cms-v2/cms-types';\nimport { DebouncedInputV2 } from '@/components/admin/shared-v2/DebouncedInputV2';\nimport { SectionCTAEditorV2 } from '@/components/admin/shared-v2/SectionCTAEditorV2';\nimport { V2SectionEditorProps } from './types';\n\nexport const VideoCarouselEditorV2 = memo(({ draft, updateField, updateSection }: V2SectionEditorProps) => {\n  const section = draft.videoCarousel as VideoCarouselSection | undefined;\n  const items = section?.items || [];\n\n  const addItem = () => {\n    const newItems = [...items, { title: '', url: '' }];\n    updateSection('videoCarousel', { ...draft.videoCarousel, items: newItems });\n  };\n\n  const removeItem = (index: number) => {\n    const newItems = items.filter((_, i) => i !== index);\n    updateSection('videoCarousel', { ...draft.videoCarousel, items: newItems });\n  };\n\n  const moveItem = (index: number, direction: 'up' | 'down') => {\n    const newIndex = direction === 'up' ? index - 1 : index + 1;\n    if (newIndex < 0 || newIndex >= items.length) return;\n    const newItems = [...items];\n    [newItems[index], newItems[newIndex]] = [newItems[newIndex], newItems[index]];\n    updateSection('videoCarousel', { ...draft.videoCarousel, items: newItems });\n  };\n\n  const updateItem = (index: number, field: string, value: string) => {\n    const newItems = [...items];\n    newItems[index] = { ...newItems[index], [field]: value };\n    updateSection('videoCarousel', { ...draft.videoCarousel, items: newItems });\n  };\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header com toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-xl font-semibold text-foreground\">Carrossel de Videos</h2>\n        <div className=\"flex items-center gap-2\">\n          <Label htmlFor=\"videoCarousel-enabled\" className=\"text-sm font-normal\">Ativada</Label>\n          <Switch\n            id=\"videoCarousel-enabled\"\n            checked={section?.enabled !== false}\n            onCheckedChange={(checked) => updateField('videoCarousel', 'enabled', checked)}\n          />\n        </div>\n      </div>\n\n      {/* Titulo */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-foreground font-semibold\">Titulo</Label>\n        <DebouncedInputV2\n          value={section?.title || ''}\n          onDebouncedChange={(val) => updateField('videoCarousel', 'title', val)}\n          placeholder=\"Ex: Nossos Videos\"\n        />\n      </div>\n\n      {/* Lista de Videos */}\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold\">Videos ({items.length})</Label>\n          <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={addItem}>\n            <Plus className=\"h-4 w-4 mr-1\" />\n            Adicionar\n          </Button>\n        </div>\n\n        {items.length === 0 && (\n          <p className=\"text-sm text-muted-foreground text-center py-8 border border-dashed rounded-lg\">\n            Nenhum video cadastrado. Clique em &quot;Adicionar&quot; para criar.\n          </p>\n        )}\n\n        <div className=\"space-y-4\">\n          {items.map((item, index) => (\n            <div\n              key={index}\n              className=\"bg-muted/20 rounded-2xl p-6 space-y-4\"\n            >\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm font-medium text-muted-foreground\">\n                  Video {index + 1}\n                </span>\n                <div className=\"flex items-center gap-1\">\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-8 w-8\"\n                    disabled={index === 0}\n                    onClick={() => moveItem(index, 'up')}\n                  >\n                    <ArrowUp className=\"h-4 w-4\" />\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-8 w-8\"\n                    disabled={index === items.length - 1}\n                    onClick={() => moveItem(index, 'down')}\n                  >\n                    <ArrowDown className=\"h-4 w-4\" />\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-8 w-8 text-destructive hover:text-destructive\"\n                    onClick={() => removeItem(index)}\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label>Titulo</Label>\n                <DebouncedInputV2\n                  value={item.title || ''}\n                  onDebouncedChange={(val) => updateItem(index, 'title', val)}\n                  placeholder=\"Ex: Depoimento do cliente\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label>URL do Video</Label>\n                <DebouncedInputV2\n                  value={item.url || ''}\n                  onDebouncedChange={(val) => updateItem(index, 'url', val)}\n                  placeholder=\"https://www.youtube.com/watch?v=...\"\n                />\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Footer CTA */}\n      <SectionCTAEditorV2\n        sectionTitle=\"Carrossel de Videos\"\n        ctaData={section?.footerCta}\n        onUpdate={(updates) => {\n          updateSection('videoCarousel', {\n            ...draft.videoCarousel,\n            footerCta: { ...(draft.videoCarousel?.footerCta || { enabled: false, text: '', link: '', mobileHidden: false }), ...updates }\n          });\n        }}\n      />\n    </div>\n  );\n});\n\nVideoCarouselEditorV2.displayName = 'VideoCarouselEditorV2';\n","import { memo } from 'react';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport { Button } from '@/components/ui/button';\nimport { Plus, Trash2 } from 'lucide-react';\nimport { WhyChooseSection } from '@/lib/cms-v2/cms-types';\nimport { DebouncedInputV2 } from '@/components/admin/shared-v2/DebouncedInputV2';\nimport { ImageUploadV2 } from '@/components/admin/shared-v2/ImageUploadV2';\nimport { SectionCTAEditorV2 } from '@/components/admin/shared-v2/SectionCTAEditorV2';\nimport { V2SectionEditorProps } from './types';\n\nexport const WhyChooseEditorV2 = memo(({ draft, updateField, updateSection }: V2SectionEditorProps) => {\n  const section = draft.whyChoose as WhyChooseSection | undefined;\n  const items = section?.items || [];\n\n  const addItem = () => {\n    const newItems = [...items, { title: '', description: '' }];\n    updateSection('whyChoose', { ...draft.whyChoose, items: newItems });\n  };\n\n  const removeItem = (index: number) => {\n    const newItems = items.filter((_, i) => i !== index);\n    updateSection('whyChoose', { ...draft.whyChoose, items: newItems });\n  };\n\n  const updateItem = (index: number, field: string, value: string) => {\n    const newItems = [...items];\n    newItems[index] = { ...newItems[index], [field]: value };\n    updateSection('whyChoose', { ...draft.whyChoose, items: newItems });\n  };\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header com toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-xl font-semibold text-foreground\">Por que Escolher</h2>\n        <div className=\"flex items-center gap-2\">\n          <Label htmlFor=\"whyChoose-enabled\" className=\"text-sm font-normal\">Ativada</Label>\n          <Switch\n            id=\"whyChoose-enabled\"\n            checked={section?.enabled !== false}\n            onCheckedChange={(checked) => updateField('whyChoose', 'enabled', checked)}\n          />\n        </div>\n      </div>\n\n      {/* Titulo */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-foreground font-semibold\">Titulo</Label>\n        <DebouncedInputV2\n          value={section?.title || ''}\n          onDebouncedChange={(val) => updateField('whyChoose', 'title', val)}\n          placeholder=\"Ex: Por que escolher a LimpMe?\"\n        />\n      </div>\n\n      {/* Subtitulo */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-foreground font-semibold\">Subtitulo</Label>\n        <DebouncedInputV2\n          value={section?.subtitle || ''}\n          onDebouncedChange={(val) => updateField('whyChoose', 'subtitle', val)}\n          placeholder=\"Ex: Descubra nossas vantagens\"\n        />\n      </div>\n\n      {/* Imagens */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <ImageUploadV2\n          value={section?.imageDesktop || ''}\n          onChange={(url) => updateField('whyChoose', 'imageDesktop', url)}\n          label=\"Imagem Desktop\"\n        />\n        <ImageUploadV2\n          value={section?.imageMobile || ''}\n          onChange={(url) => updateField('whyChoose', 'imageMobile', url)}\n          label=\"Imagem Mobile\"\n        />\n      </div>\n\n      {/* Lista de Itens */}\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold\">Itens ({items.length})</Label>\n          <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={addItem}>\n            <Plus className=\"h-4 w-4 mr-1\" />\n            Adicionar\n          </Button>\n        </div>\n\n        {items.length === 0 && (\n          <p className=\"text-sm text-muted-foreground text-center py-8 border border-dashed rounded-lg\">\n            Nenhum item cadastrado. Clique em &quot;Adicionar&quot; para criar.\n          </p>\n        )}\n\n        <div className=\"space-y-4\">\n          {items.map((item, index) => (\n            <div\n              key={index}\n              className=\"bg-muted/20 rounded-2xl p-6 space-y-4\"\n            >\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm font-medium text-muted-foreground\">\n                  Item {index + 1}\n                </span>\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-8 w-8 text-destructive hover:text-destructive\"\n                  onClick={() => removeItem(index)}\n                >\n                  <Trash2 className=\"h-4 w-4\" />\n                </Button>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label>Titulo</Label>\n                <DebouncedInputV2\n                  value={item.title || ''}\n                  onDebouncedChange={(val) => updateItem(index, 'title', val)}\n                  placeholder=\"Ex: Profissionais qualificados\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label>Descricao</Label>\n                <DebouncedInputV2\n                  value={item.description || ''}\n                  onDebouncedChange={(val) => updateItem(index, 'description', val)}\n                  placeholder=\"Ex: Nossa equipe e treinada...\"\n                />\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Footer CTA */}\n      <SectionCTAEditorV2\n        sectionTitle=\"Por que Escolher\"\n        ctaData={section?.footerCta}\n        onUpdate={(updates) => {\n          updateSection('whyChoose', {\n            ...draft.whyChoose,\n            footerCta: { ...(draft.whyChoose?.footerCta || { enabled: false, text: '', link: '', mobileHidden: false }), ...updates }\n          });\n        }}\n      />\n    </div>\n  );\n});\n\nWhyChooseEditorV2.displayName = 'WhyChooseEditorV2';\n","import { memo } from 'react';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport { Button } from '@/components/ui/button';\nimport { Plus, Trash2, ArrowUp, ArrowDown, Star } from 'lucide-react';\nimport { TestimonialsSection } from '@/lib/cms-v2/cms-types';\nimport { DebouncedInputV2 } from '@/components/admin/shared-v2/DebouncedInputV2';\nimport { DebouncedTextareaV2 } from '@/components/admin/shared-v2/DebouncedTextareaV2';\nimport { ImageUploadV2 } from '@/components/admin/shared-v2/ImageUploadV2';\nimport { SectionCTAEditorV2 } from '@/components/admin/shared-v2/SectionCTAEditorV2';\nimport { V2SectionEditorProps } from './types';\n\nexport const TestimonialsEditorV2 = memo(({ draft, updateField, updateSection }: V2SectionEditorProps) => {\n  const section = draft.testimonials as TestimonialsSection | undefined;\n  const items = section?.items || [];\n\n  const addItem = () => {\n    const newItems = [...items, { image: '', text: '', name: '', city: '', rating: 5 }];\n    updateSection('testimonials', { ...draft.testimonials, items: newItems });\n  };\n\n  const removeItem = (index: number) => {\n    const newItems = items.filter((_, i) => i !== index);\n    updateSection('testimonials', { ...draft.testimonials, items: newItems });\n  };\n\n  const moveItem = (index: number, direction: 'up' | 'down') => {\n    const newIndex = direction === 'up' ? index - 1 : index + 1;\n    if (newIndex < 0 || newIndex >= items.length) return;\n    const newItems = [...items];\n    [newItems[index], newItems[newIndex]] = [newItems[newIndex], newItems[index]];\n    updateSection('testimonials', { ...draft.testimonials, items: newItems });\n  };\n\n  const updateItem = (index: number, field: string, value: unknown) => {\n    const newItems = [...items];\n    newItems[index] = { ...newItems[index], [field]: value };\n    updateSection('testimonials', { ...draft.testimonials, items: newItems });\n  };\n\n  const renderStars = (index: number, currentRating: number) => (\n    <div className=\"flex gap-1\">\n      {[1, 2, 3, 4, 5].map((star) => (\n        <button\n          key={star}\n          type=\"button\"\n          onClick={() => updateItem(index, 'rating', star)}\n          className=\"focus:outline-none\"\n        >\n          <Star\n            className={`h-5 w-5 transition-colors ${\n              star <= currentRating\n                ? 'fill-yellow-400 text-yellow-400'\n                : 'text-muted-foreground'\n            }`}\n          />\n        </button>\n      ))}\n    </div>\n  );\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header com toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-xl font-semibold text-foreground\">Depoimentos</h2>\n        <div className=\"flex items-center gap-2\">\n          <Label htmlFor=\"testimonials-enabled\" className=\"text-sm font-normal\">Ativada</Label>\n          <Switch\n            id=\"testimonials-enabled\"\n            checked={section?.enabled !== false}\n            onCheckedChange={(checked) => updateField('testimonials', 'enabled', checked)}\n          />\n        </div>\n      </div>\n\n      {/* Titulo */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-foreground font-semibold\">Titulo</Label>\n        <DebouncedInputV2\n          value={section?.title || ''}\n          onDebouncedChange={(val) => updateField('testimonials', 'title', val)}\n          placeholder=\"Ex: O que nossos clientes dizem\"\n        />\n      </div>\n\n      {/* Lista de Depoimentos */}\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold\">Depoimentos ({items.length})</Label>\n          <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={addItem}>\n            <Plus className=\"h-4 w-4 mr-1\" />\n            Adicionar\n          </Button>\n        </div>\n\n        {items.length === 0 && (\n          <p className=\"text-sm text-muted-foreground text-center py-8 border border-dashed rounded-lg\">\n            Nenhum depoimento cadastrado. Clique em &quot;Adicionar&quot; para criar.\n          </p>\n        )}\n\n        <div className=\"space-y-4\">\n          {items.map((item, index) => (\n            <div\n              key={index}\n              className=\"bg-muted/20 rounded-2xl p-6 space-y-4\"\n            >\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm font-medium text-muted-foreground\">\n                  {item.name || `Depoimento ${index + 1}`}\n                </span>\n                <div className=\"flex items-center gap-1\">\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-8 w-8\"\n                    disabled={index === 0}\n                    onClick={() => moveItem(index, 'up')}\n                  >\n                    <ArrowUp className=\"h-4 w-4\" />\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-8 w-8\"\n                    disabled={index === items.length - 1}\n                    onClick={() => moveItem(index, 'down')}\n                  >\n                    <ArrowDown className=\"h-4 w-4\" />\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-8 w-8 text-destructive hover:text-destructive\"\n                    onClick={() => removeItem(index)}\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n\n              {/* Foto */}\n              <ImageUploadV2\n                value={item.image || ''}\n                onChange={(url) => updateItem(index, 'image', url)}\n                label=\"Foto\"\n              />\n\n              {/* Nome e Cidade */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label>Nome</Label>\n                  <DebouncedInputV2\n                    value={item.name || ''}\n                    onDebouncedChange={(val) => updateItem(index, 'name', val)}\n                    placeholder=\"Ex: Maria Silva\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label>Cidade</Label>\n                  <DebouncedInputV2\n                    value={item.city || ''}\n                    onDebouncedChange={(val) => updateItem(index, 'city', val)}\n                    placeholder=\"Ex: Sao Paulo, SP\"\n                  />\n                </div>\n              </div>\n\n              {/* Texto do Depoimento */}\n              <div className=\"space-y-2\">\n                <Label>Depoimento</Label>\n                <DebouncedTextareaV2\n                  value={item.text || ''}\n                  onDebouncedChange={(val) => updateItem(index, 'text', val)}\n                  placeholder=\"O que o cliente disse...\"\n                  rows={3}\n                />\n              </div>\n\n              {/* Rating */}\n              <div className=\"space-y-2\">\n                <Label>Avaliacao</Label>\n                {renderStars(index, item.rating || 5)}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Footer CTA */}\n      <SectionCTAEditorV2\n        sectionTitle=\"Depoimentos\"\n        ctaData={section?.footerCta}\n        onUpdate={(updates) => {\n          updateSection('testimonials', {\n            ...draft.testimonials,\n            footerCta: { ...(draft.testimonials?.footerCta || { enabled: false, text: '', link: '', mobileHidden: false }), ...updates }\n          });\n        }}\n      />\n    </div>\n  );\n});\n\nTestimonialsEditorV2.displayName = 'TestimonialsEditorV2';\n","import { memo } from 'react';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport { AboutSection } from '@/lib/cms-v2/cms-types';\nimport { DebouncedInputV2 } from '@/components/admin/shared-v2/DebouncedInputV2';\nimport { DebouncedTextareaV2 } from '@/components/admin/shared-v2/DebouncedTextareaV2';\nimport { ImageUploadV2 } from '@/components/admin/shared-v2/ImageUploadV2';\nimport { SectionCTAEditorV2 } from '@/components/admin/shared-v2/SectionCTAEditorV2';\nimport { V2SectionEditorProps } from './types';\n\nexport const AboutEditorV2 = memo(({ draft, updateField, updateSection }: V2SectionEditorProps) => {\n  const section = draft.about as AboutSection | undefined;\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header com toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-xl font-semibold text-foreground\">Sobre</h2>\n        <div className=\"flex items-center gap-2\">\n          <Label htmlFor=\"about-enabled\" className=\"text-sm font-normal\">Ativada</Label>\n          <Switch\n            id=\"about-enabled\"\n            checked={section?.enabled !== false}\n            onCheckedChange={(checked) => updateField('about', 'enabled', checked)}\n          />\n        </div>\n      </div>\n\n      {/* Titulo */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-foreground font-semibold\">Titulo</Label>\n        <DebouncedInputV2\n          value={section?.title || ''}\n          onDebouncedChange={(val) => updateField('about', 'title', val)}\n          placeholder=\"Ex: Sobre a LimpMe\"\n        />\n      </div>\n\n      {/* Texto */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-foreground font-semibold\">Texto</Label>\n        <DebouncedTextareaV2\n          value={section?.text || ''}\n          onDebouncedChange={(val) => updateField('about', 'text', val)}\n          placeholder=\"Conte a historia da sua empresa...\"\n          rows={5}\n        />\n      </div>\n\n      {/* Imagens */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <ImageUploadV2\n          value={section?.imageDesktop || ''}\n          onChange={(url) => updateField('about', 'imageDesktop', url)}\n          label=\"Imagem Desktop\"\n        />\n        <ImageUploadV2\n          value={section?.imageMobile || ''}\n          onChange={(url) => updateField('about', 'imageMobile', url)}\n          label=\"Imagem Mobile\"\n        />\n      </div>\n\n      {/* Footer CTA */}\n      <SectionCTAEditorV2\n        sectionTitle=\"Sobre\"\n        ctaData={section?.footerCta}\n        onUpdate={(updates) => {\n          updateSection('about', {\n            ...draft.about,\n            footerCta: { ...(draft.about?.footerCta || { enabled: false, text: '', link: '', mobileHidden: false }), ...updates }\n          });\n        }}\n      />\n    </div>\n  );\n});\n\nAboutEditorV2.displayName = 'AboutEditorV2';\n","import { memo } from 'react';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport { Button } from '@/components/ui/button';\nimport { Plus, Trash2, HelpCircle } from 'lucide-react';\nimport { FaqSection } from '@/lib/cms-v2/cms-types';\nimport { DebouncedInputV2 } from '@/components/admin/shared-v2/DebouncedInputV2';\nimport { DebouncedTextareaV2 } from '@/components/admin/shared-v2/DebouncedTextareaV2';\nimport { SectionCTAEditorV2 } from '@/components/admin/shared-v2/SectionCTAEditorV2';\nimport { V2SectionEditorProps } from './types';\n\nexport const FAQEditorV2 = memo(({ draft, updateField, updateSection }: V2SectionEditorProps) => {\n  const section = draft.faq as FaqSection | undefined;\n  const items = section?.items || [];\n\n  const addItem = () => {\n    const newItems = [...items, { question: '', answer: '' }];\n    updateSection('faq', { ...draft.faq, items: newItems });\n  };\n\n  const removeItem = (index: number) => {\n    const newItems = items.filter((_, i) => i !== index);\n    updateSection('faq', { ...draft.faq, items: newItems });\n  };\n\n  const updateItem = (index: number, field: string, value: string) => {\n    const newItems = [...items];\n    newItems[index] = { ...newItems[index], [field]: value };\n    updateSection('faq', { ...draft.faq, items: newItems });\n  };\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header com toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-xl font-semibold text-foreground\">FAQ</h2>\n        <div className=\"flex items-center gap-2\">\n          <Label htmlFor=\"faq-enabled\" className=\"text-sm font-normal\">Ativada</Label>\n          <Switch\n            id=\"faq-enabled\"\n            checked={section?.enabled !== false}\n            onCheckedChange={(checked) => updateField('faq', 'enabled', checked)}\n          />\n        </div>\n      </div>\n\n      {/* Titulo */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-foreground font-semibold\">Titulo</Label>\n        <DebouncedInputV2\n          value={section?.title || ''}\n          onDebouncedChange={(val) => updateField('faq', 'title', val)}\n          placeholder=\"Ex: Perguntas Frequentes\"\n        />\n      </div>\n\n      {/* Lista de Perguntas */}\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold\">Perguntas ({items.length})</Label>\n          <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={addItem}>\n            <Plus className=\"h-4 w-4 mr-1\" />\n            Adicionar\n          </Button>\n        </div>\n\n        {items.length === 0 && (\n          <div className=\"text-center py-8 border border-dashed rounded-lg\">\n            <HelpCircle className=\"h-8 w-8 mx-auto text-muted-foreground mb-2\" />\n            <p className=\"text-sm text-muted-foreground\">\n              Nenhuma pergunta cadastrada. Clique em &quot;Adicionar&quot; para criar.\n            </p>\n          </div>\n        )}\n\n        <div className=\"space-y-4\">\n          {items.map((item, index) => (\n            <div\n              key={index}\n              className=\"bg-muted/20 rounded-2xl p-6 space-y-4\"\n            >\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm font-medium text-muted-foreground\">\n                  Pergunta {index + 1}\n                </span>\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-8 w-8 text-destructive hover:text-destructive\"\n                  onClick={() => removeItem(index)}\n                >\n                  <Trash2 className=\"h-4 w-4\" />\n                </Button>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label>Pergunta</Label>\n                <DebouncedInputV2\n                  value={item.question || ''}\n                  onDebouncedChange={(val) => updateItem(index, 'question', val)}\n                  placeholder=\"Ex: Como funciona o servico?\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label>Resposta</Label>\n                <DebouncedTextareaV2\n                  value={item.answer || ''}\n                  onDebouncedChange={(val) => updateItem(index, 'answer', val)}\n                  placeholder=\"Escreva a resposta completa...\"\n                  rows={4}\n                />\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Footer CTA */}\n      <SectionCTAEditorV2\n        sectionTitle=\"FAQ\"\n        ctaData={section?.footerCta}\n        onUpdate={(updates) => {\n          updateSection('faq', {\n            ...draft.faq,\n            footerCta: { ...(draft.faq?.footerCta || { enabled: false, text: '', link: '', mobileHidden: false }), ...updates }\n          });\n        }}\n      />\n    </div>\n  );\n});\n\nFAQEditorV2.displayName = 'FAQEditorV2';\n","import { memo } from 'react';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport { CtaFinalSection } from '@/lib/cms-v2/cms-types';\nimport { DebouncedInputV2 } from '@/components/admin/shared-v2/DebouncedInputV2';\nimport { DebouncedTextareaV2 } from '@/components/admin/shared-v2/DebouncedTextareaV2';\nimport { ImageUploadV2 } from '@/components/admin/shared-v2/ImageUploadV2';\nimport { V2SectionEditorProps } from './types';\n\nexport const CTAFinalEditorV2 = memo(({ draft, updateField }: V2SectionEditorProps) => {\n  const section = draft.ctaFinal as CtaFinalSection | undefined;\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header com toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-xl font-semibold text-foreground\">CTA Final</h2>\n        <div className=\"flex items-center gap-2\">\n          <Label htmlFor=\"ctaFinal-enabled\" className=\"text-sm font-normal\">Ativada</Label>\n          <Switch\n            id=\"ctaFinal-enabled\"\n            checked={section?.enabled !== false}\n            onCheckedChange={(checked) => updateField('ctaFinal', 'enabled', checked)}\n          />\n        </div>\n      </div>\n\n      {/* Titulo */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-foreground font-semibold\">Titulo</Label>\n        <DebouncedInputV2\n          value={section?.title || ''}\n          onDebouncedChange={(val) => updateField('ctaFinal', 'title', val)}\n          placeholder=\"Ex: Pronto para comecar?\"\n        />\n        <p className=\"text-xs text-muted-foreground\">\n          Use **texto** para negrito e {'{{texto}}'} para destaque colorido.\n        </p>\n      </div>\n\n      {/* Subtitulo */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-foreground font-semibold\">Subtitulo</Label>\n        <DebouncedTextareaV2\n          value={section?.subtitle || ''}\n          onDebouncedChange={(val) => updateField('ctaFinal', 'subtitle', val)}\n          placeholder=\"Ex: Agende agora mesmo\"\n          rows={3}\n        />\n        <p className=\"text-xs text-muted-foreground\">\n          Use **texto** para negrito e {'{{texto}}'} para destaque colorido.\n        </p>\n      </div>\n\n      {/* Botao */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div className=\"space-y-2\">\n          <Label className=\"text-foreground font-semibold\">Texto do Botao</Label>\n          <DebouncedInputV2\n            value={section?.buttonText || ''}\n            onDebouncedChange={(val) => updateField('ctaFinal', 'buttonText', val)}\n            placeholder=\"Ex: Quero Contratar\"\n          />\n        </div>\n        <div className=\"space-y-2\">\n          <Label className=\"text-foreground font-semibold\">Link do Botao</Label>\n          <DebouncedInputV2\n            value={section?.buttonLink || ''}\n            onDebouncedChange={(val) => updateField('ctaFinal', 'buttonLink', val)}\n            placeholder=\"Ex: /checkout\"\n          />\n        </div>\n      </div>\n\n      {/* Trust Text */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-foreground font-semibold\">Texto de confianca (opcional)</Label>\n        <DebouncedInputV2\n          value={section?.trustText || ''}\n          onDebouncedChange={(val) => updateField('ctaFinal', 'trustText', val)}\n          placeholder=\"Ex: Sem contrato. Cancele quando quiser.\"\n        />\n        <p className=\"text-xs text-muted-foreground\">\n          Micro-copy exibido abaixo do botao para reduzir fricao.\n        </p>\n      </div>\n\n      {/* Imagens */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <ImageUploadV2\n          value={section?.imageDesktop || ''}\n          onChange={(url) => updateField('ctaFinal', 'imageDesktop', url)}\n          label=\"Imagem Desktop\"\n        />\n        <ImageUploadV2\n          value={section?.imageMobile || ''}\n          onChange={(url) => updateField('ctaFinal', 'imageMobile', url)}\n          label=\"Imagem Mobile\"\n        />\n      </div>\n    </div>\n  );\n});\n\nCTAFinalEditorV2.displayName = 'CTAFinalEditorV2';\n","import { memo } from 'react';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport { ContactSection } from '@/lib/cms-v2/cms-types';\nimport { DebouncedInputV2 } from '@/components/admin/shared-v2/DebouncedInputV2';\nimport { V2SectionEditorProps } from './types';\n\nexport const ContactEditorV2 = memo(({ draft, updateField }: V2SectionEditorProps) => {\n  const section = draft.contact as ContactSection | undefined;\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header com toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-xl font-semibold text-foreground\">Contato</h2>\n        <div className=\"flex items-center gap-2\">\n          <Label htmlFor=\"contact-enabled\" className=\"text-sm font-normal\">Ativada</Label>\n          <Switch\n            id=\"contact-enabled\"\n            checked={section?.enabled !== false}\n            onCheckedChange={(checked) => updateField('contact', 'enabled', checked)}\n          />\n        </div>\n      </div>\n\n      {/* Titulo */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-foreground font-semibold\">Titulo</Label>\n        <DebouncedInputV2\n          value={section?.title || ''}\n          onDebouncedChange={(val) => updateField('contact', 'title', val)}\n          placeholder=\"Ex: Entre em Contato\"\n        />\n      </div>\n\n      {/* Subtitulo */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-foreground font-semibold\">Subtitulo</Label>\n        <DebouncedInputV2\n          value={section?.subtitle || ''}\n          onDebouncedChange={(val) => updateField('contact', 'subtitle', val)}\n          placeholder=\"Ex: Estamos prontos para te ajudar\"\n        />\n      </div>\n\n      {/* WhatsApp Link */}\n      <div className=\"space-y-2\">\n        <Label className=\"text-foreground font-semibold\">Link do WhatsApp</Label>\n        <DebouncedInputV2\n          value={section?.whatsappLink || ''}\n          onDebouncedChange={(val) => updateField('contact', 'whatsappLink', val)}\n          placeholder=\"Ex: https://wa.me/5511999999999\"\n        />\n      </div>\n    </div>\n  );\n});\n\nContactEditorV2.displayName = 'ContactEditorV2';\n","import { memo } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Button } from \"@/components/ui/button\";\nimport { Trash2 } from \"lucide-react\";\nimport { DebouncedInputV2 } from \"@/components/admin/shared-v2/DebouncedInputV2\";\nimport { SectionCTAEditorV2 } from \"@/components/admin/shared-v2/SectionCTAEditorV2\";\nimport { V2SectionEditorProps } from \"./types\";\n\nexport const KPIsEditorV2 = memo(({ draft, updateField, updateSection }: V2SectionEditorProps) => {\n  const kpis = draft.kpis;\n  const items = kpis?.items || [];\n\n  const updateItem = (index: number, field: string, value: unknown) => {\n    const newItems = [...items];\n    newItems[index] = { ...newItems[index], [field]: value };\n    updateSection('kpis', { ...kpis, items: newItems });\n  };\n\n  const addItem = () => {\n    updateSection('kpis', {\n      ...kpis,\n      items: [...items, { enabled: true, value: '', label: '', description: '' }]\n    });\n  };\n\n  const removeItem = (index: number) => {\n    updateSection('kpis', { ...kpis, items: items.filter((_, i) => i !== index) });\n  };\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h2 className=\"text-2xl font-bold text-foreground\">KPIs / Números</h2>\n        <div className=\"flex items-center space-x-2\">\n          <Switch\n            checked={kpis?.enabled !== false}\n            onCheckedChange={(checked) => updateField('kpis', 'enabled', checked)}\n          />\n          <Label className=\"text-foreground text-sm font-semibold\">Ativar seção</Label>\n        </div>\n      </div>\n\n      {items.map((item, index) => (\n        <div key={index} className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <Label className=\"text-foreground font-semibold\">KPI {index + 1}</Label>\n            <div className=\"flex items-center gap-3\">\n              <Switch\n                checked={item.enabled !== false}\n                onCheckedChange={(checked) => updateItem(index, 'enabled', checked)}\n              />\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={() => removeItem(index)}\n                className=\"text-destructive hover:text-destructive h-8 w-8\"\n              >\n                <Trash2 className=\"w-4 h-4\" />\n              </Button>\n            </div>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label className=\"text-foreground\">Valor</Label>\n              <DebouncedInputV2\n                value={item.value || ''}\n                onDebouncedChange={(v) => updateItem(index, 'value', v)}\n                placeholder=\"Ex: +1.800\"\n                className=\"input-admin\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label className=\"text-foreground\">Rótulo</Label>\n              <DebouncedInputV2\n                value={item.label || ''}\n                onDebouncedChange={(v) => updateItem(index, 'label', v)}\n                placeholder=\"Ex: Clientes atendidos\"\n                className=\"input-admin\"\n              />\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <Label className=\"text-foreground\">Descrição (opcional)</Label>\n            <DebouncedInputV2\n              value={item.description || ''}\n              onDebouncedChange={(v) => updateItem(index, 'description', v)}\n              placeholder=\"Ex: em todo o Brasil\"\n              className=\"input-admin\"\n            />\n          </div>\n        </div>\n      ))}\n\n      <Button\n        variant=\"outline\"\n        onClick={addItem}\n        className=\"text-foreground border-border hover:bg-accent/10 rounded-full\"\n      >\n        + Adicionar KPI\n      </Button>\n\n      <SectionCTAEditorV2\n        sectionTitle=\"KPIs\"\n        ctaData={kpis?.footerCta}\n        onUpdate={(updates) => {\n          updateSection('kpis', {\n            ...kpis,\n            footerCta: { ...(kpis?.footerCta || { enabled: false, text: '', link: '', mobileHidden: false }), ...updates }\n          });\n        }}\n      />\n    </div>\n  );\n});\n\nKPIsEditorV2.displayName = 'KPIsEditorV2';\n","import { memo } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Button } from \"@/components/ui/button\";\nimport { ImageUploadV2 } from \"@/components/admin/shared-v2/ImageUploadV2\";\nimport { DebouncedInputV2 } from \"@/components/admin/shared-v2/DebouncedInputV2\";\nimport { V2SectionEditorProps } from \"./types\";\n\nexport const FooterEditorV2 = memo(({ draft, updateField, updateNestedField, updateSection }: V2SectionEditorProps) => {\n  const footer = draft.footer;\n\n  const privacy = footer?.privacy || { text: 'Política de Privacidade', url: '', hasLink: false, enabled: true };\n  const terms = footer?.terms || { text: 'Termos de Uso', url: '', hasLink: false, enabled: true };\n  const cnpj = footer?.cnpj || { text: '', enabled: true };\n  const socials = footer?.socials || {\n    instagram: { url: '', enabled: false },\n    facebook: { url: '', enabled: false },\n    linkedin: { url: '', enabled: false },\n    youtube: { url: '', enabled: false },\n    tiktok: { url: '', enabled: false },\n  };\n\n  const socialLabels = {\n    instagram: 'Instagram',\n    facebook: 'Facebook',\n    linkedin: 'LinkedIn',\n    youtube: 'YouTube',\n    tiktok: 'TikTok',\n  };\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h2 className=\"text-2xl font-bold text-foreground\">Footer</h2>\n        <div className=\"flex items-center space-x-2\">\n          <Switch\n            checked={footer?.enabled !== false}\n            onCheckedChange={(checked) => updateField('footer', 'enabled', checked)}\n          />\n          <Label className=\"text-foreground text-sm font-semibold\">Ativar seção</Label>\n        </div>\n      </div>\n\n      {/* Logo */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Logo</Label>\n        <div className=\"flex flex-wrap gap-6\">\n          <ImageUploadV2\n            label=\"Logo (original)\"\n            value={footer?.logo}\n            onChange={(url) => updateField('footer', 'logo', url)}\n          />\n          <ImageUploadV2\n            label=\"Logo Desktop\"\n            value={footer?.logoDesktop}\n            onChange={(url) => updateField('footer', 'logoDesktop', url)}\n          />\n          <ImageUploadV2\n            label=\"Logo Mobile\"\n            value={footer?.logoMobile}\n            onChange={(url) => updateField('footer', 'logoMobile', url)}\n          />\n        </div>\n      </div>\n\n      {/* Links de Navegação */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Links de Navegação</Label>\n        {footer?.links?.map((link, index) => (\n          <div key={index} className=\"flex items-center gap-3\">\n            <Switch\n              checked={link.enabled !== false}\n              onCheckedChange={(checked) => {\n                const newLinks = [...(footer.links || [])];\n                newLinks[index] = { ...newLinks[index], enabled: checked };\n                updateField('footer', 'links', newLinks);\n              }}\n            />\n            <DebouncedInputV2\n              placeholder=\"Texto\"\n              value={link.text || ''}\n              onDebouncedChange={(v) => {\n                const newLinks = [...(footer.links || [])];\n                newLinks[index] = { ...newLinks[index], text: v };\n                updateField('footer', 'links', newLinks);\n              }}\n              className=\"input-admin flex-1\"\n            />\n            <DebouncedInputV2\n              placeholder=\"URL (ex: #planos)\"\n              value={link.url || ''}\n              onDebouncedChange={(v) => {\n                const newLinks = [...(footer.links || [])];\n                newLinks[index] = { ...newLinks[index], url: v };\n                updateField('footer', 'links', newLinks);\n              }}\n              className=\"input-admin flex-1\"\n            />\n          </div>\n        ))}\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={() => {\n            const newLinks = [...(footer?.links || []), { text: '', url: '', enabled: true }];\n            updateField('footer', 'links', newLinks);\n          }}\n          className=\"text-foreground border-border hover:bg-accent/10 rounded-full\"\n        >\n          + Adicionar Link\n        </Button>\n      </div>\n\n      {/* CNPJ */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold text-lg\">CNPJ</Label>\n          <div className=\"flex items-center gap-2\">\n            <Switch\n              checked={cnpj.enabled !== false}\n              onCheckedChange={(checked) => updateNestedField('footer.cnpj', { ...cnpj, enabled: checked })}\n            />\n            <Label className=\"text-foreground text-sm\">Exibir</Label>\n          </div>\n        </div>\n        <DebouncedInputV2\n          placeholder=\"Ex: CNPJ: 00.000.000/0000-00\"\n          value={cnpj.text}\n          onDebouncedChange={(v) => updateNestedField('footer.cnpj', { ...cnpj, text: v })}\n          className=\"input-admin\"\n        />\n      </div>\n\n      {/* Política de Privacidade */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold text-lg\">Política de Privacidade</Label>\n          <div className=\"flex items-center gap-2\">\n            <Switch\n              checked={privacy.enabled !== false}\n              onCheckedChange={(checked) => updateNestedField('footer.privacy', { ...privacy, enabled: checked })}\n            />\n            <Label className=\"text-foreground text-sm\">Exibir</Label>\n          </div>\n        </div>\n        <DebouncedInputV2\n          placeholder=\"Texto (ex: Política de Privacidade)\"\n          value={privacy.text}\n          onDebouncedChange={(v) => updateNestedField('footer.privacy', { ...privacy, text: v })}\n          className=\"input-admin\"\n        />\n        <div className=\"flex items-center gap-3\">\n          <Switch\n            checked={privacy.hasLink}\n            onCheckedChange={(checked) => updateNestedField('footer.privacy', { ...privacy, hasLink: checked })}\n          />\n          <Label className=\"text-foreground text-sm\">É um link clicável?</Label>\n        </div>\n        {privacy.hasLink && (\n          <DebouncedInputV2\n            placeholder=\"URL do link (ex: https://exemplo.com/privacidade)\"\n            value={privacy.url}\n            onDebouncedChange={(v) => updateNestedField('footer.privacy', { ...privacy, url: v })}\n            className=\"input-admin\"\n          />\n        )}\n      </div>\n\n      {/* Termos de Uso */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold text-lg\">Termos de Uso</Label>\n          <div className=\"flex items-center gap-2\">\n            <Switch\n              checked={terms.enabled !== false}\n              onCheckedChange={(checked) => updateNestedField('footer.terms', { ...terms, enabled: checked })}\n            />\n            <Label className=\"text-foreground text-sm\">Exibir</Label>\n          </div>\n        </div>\n        <DebouncedInputV2\n          placeholder=\"Texto (ex: Termos de Uso)\"\n          value={terms.text}\n          onDebouncedChange={(v) => updateNestedField('footer.terms', { ...terms, text: v })}\n          className=\"input-admin\"\n        />\n        <div className=\"flex items-center gap-3\">\n          <Switch\n            checked={terms.hasLink}\n            onCheckedChange={(checked) => updateNestedField('footer.terms', { ...terms, hasLink: checked })}\n          />\n          <Label className=\"text-foreground text-sm\">É um link clicável?</Label>\n        </div>\n        {terms.hasLink && (\n          <DebouncedInputV2\n            placeholder=\"URL do link (ex: https://exemplo.com/termos)\"\n            value={terms.url}\n            onDebouncedChange={(v) => updateNestedField('footer.terms', { ...terms, url: v })}\n            className=\"input-admin\"\n          />\n        )}\n      </div>\n\n      {/* Redes Sociais */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Redes Sociais</Label>\n        {(Object.keys(socialLabels) as Array<keyof typeof socialLabels>).map((key) => (\n          <div key={key} className=\"flex items-center gap-3\">\n            <Switch\n              checked={socials[key]?.enabled || false}\n              onCheckedChange={(checked) => {\n                updateNestedField(`footer.socials.${key}`, { ...socials[key], enabled: checked });\n              }}\n            />\n            <Label className=\"text-foreground text-sm w-24\">{socialLabels[key]}</Label>\n            <DebouncedInputV2\n              placeholder={`URL do ${socialLabels[key]}`}\n              value={socials[key]?.url || ''}\n              onDebouncedChange={(v) => {\n                updateNestedField(`footer.socials.${key}`, { ...socials[key], url: v });\n              }}\n              className=\"input-admin flex-1\"\n              disabled={!socials[key]?.enabled}\n            />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n});\n\nFooterEditorV2.displayName = 'FooterEditorV2';\n","import { memo } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Trash2, GripVertical } from \"lucide-react\";\nimport { DebouncedInputV2 } from \"@/components/admin/shared-v2/DebouncedInputV2\";\nimport { DebouncedTextareaV2 } from \"@/components/admin/shared-v2/DebouncedTextareaV2\";\nimport { SectionCTAEditorV2 } from \"@/components/admin/shared-v2/SectionCTAEditorV2\";\nimport { V2SectionEditorProps } from \"./types\";\nimport { FormFieldType, FormField } from \"@/lib/cms-v2/cms-types\";\n\nconst FIELD_TYPES: { value: FormFieldType; label: string }[] = [\n  { value: 'text', label: 'Texto' },\n  { value: 'email', label: 'E-mail' },\n  { value: 'phone', label: 'Telefone' },\n  { value: 'cpf', label: 'CPF' },\n  { value: 'whatsapp', label: 'WhatsApp' },\n  { value: 'cep', label: 'CEP' },\n  { value: 'select', label: 'Seleção' },\n  { value: 'date', label: 'Data' },\n  { value: 'textarea', label: 'Texto Longo' },\n  { value: 'checkbox', label: 'Checkbox' },\n  { value: 'paragraph', label: 'Parágrafo (info)' },\n];\n\nexport const FormEditorV2 = memo(({ draft, updateField, updateSection }: V2SectionEditorProps) => {\n  const form = draft.form;\n  const fields = form?.fields || [];\n\n  const updateFormField = (index: number, field: string, value: unknown) => {\n    const newFields = [...fields];\n    newFields[index] = { ...newFields[index], [field]: value };\n    updateSection('form', { ...form, fields: newFields });\n  };\n\n  const addField = () => {\n    const newField: FormField = {\n      id: `field_${Date.now()}`,\n      type: 'text',\n      label: '',\n      placeholder: '',\n      required: false,\n      width: '100%',\n    };\n    updateSection('form', { ...form, fields: [...fields, newField] });\n  };\n\n  const removeField = (index: number) => {\n    updateSection('form', { ...form, fields: fields.filter((_, i) => i !== index) });\n  };\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h2 className=\"text-2xl font-bold text-foreground\">Formulário</h2>\n        <div className=\"flex items-center space-x-2\">\n          <Switch\n            checked={form?.enabled !== false}\n            onCheckedChange={(checked) => updateField('form', 'enabled', checked)}\n          />\n          <Label className=\"text-foreground text-sm font-semibold\">Ativar seção</Label>\n        </div>\n      </div>\n\n      {/* Configurações Gerais */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Configuração Geral</Label>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div className=\"space-y-2\">\n            <Label className=\"text-foreground\">Título</Label>\n            <DebouncedInputV2\n              value={form?.title || ''}\n              onDebouncedChange={(v) => updateField('form', 'title', v)}\n              placeholder=\"Ex: Agende sua limpeza\"\n              className=\"input-admin\"\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label className=\"text-foreground\">Subtítulo</Label>\n            <DebouncedInputV2\n              value={form?.subtitle || ''}\n              onDebouncedChange={(v) => updateField('form', 'subtitle', v)}\n              placeholder=\"Ex: Preencha os dados abaixo\"\n              className=\"input-admin\"\n            />\n          </div>\n        </div>\n        <div className=\"space-y-2\">\n          <Label className=\"text-foreground\">Texto do Botão de Envio</Label>\n          <DebouncedInputV2\n            value={form?.ctaButton || ''}\n            onDebouncedChange={(v) => updateField('form', 'ctaButton', v)}\n            placeholder=\"Ex: Enviar\"\n            className=\"input-admin\"\n          />\n        </div>\n      </div>\n\n      {/* Webhook URL */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Webhook (n8n / Integração)</Label>\n        <p className=\"text-sm text-muted-foreground\">\n          URL para onde os dados do formulário serão enviados automaticamente após o submit.\n          O envio é não-bloqueante: se falhar, o submit principal continua funcionando.\n        </p>\n        <DebouncedInputV2\n          value={form?.webhookUrl || ''}\n          onDebouncedChange={(v) => updateField('form', 'webhookUrl', v)}\n          placeholder=\"Ex: https://n8n.seudominio.com/webhook/abc123\"\n          className=\"input-admin\"\n        />\n      </div>\n\n      {/* Ação de Sucesso */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Ação Após Envio</Label>\n        <Select\n          value={form?.successAction?.type || 'toast'}\n          onValueChange={(v) => {\n            updateSection('form', {\n              ...form,\n              successAction: { ...(form?.successAction || {}), type: v as 'toast' | 'redirect' | 'success-card' }\n            });\n          }}\n        >\n          <SelectTrigger className=\"input-admin\">\n            <SelectValue placeholder=\"Tipo de ação\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"toast\">Toast (notificação)</SelectItem>\n            <SelectItem value=\"redirect\">Redirecionar</SelectItem>\n            <SelectItem value=\"success-card\">Card de Sucesso</SelectItem>\n          </SelectContent>\n        </Select>\n\n        {form?.successAction?.type === 'redirect' && (\n          <DebouncedInputV2\n            value={form.successAction.redirectUrl || ''}\n            onDebouncedChange={(v) => {\n              updateSection('form', {\n                ...form,\n                successAction: { ...form.successAction!, redirectUrl: v }\n              });\n            }}\n            placeholder=\"URL de redirecionamento\"\n            className=\"input-admin\"\n          />\n        )}\n\n        {form?.successAction?.type === 'success-card' && (\n          <div className=\"space-y-3\">\n            <DebouncedInputV2\n              value={form.successAction.successTitle || ''}\n              onDebouncedChange={(v) => {\n                updateSection('form', {\n                  ...form,\n                  successAction: { ...form.successAction!, successTitle: v }\n                });\n              }}\n              placeholder=\"Título de sucesso\"\n              className=\"input-admin\"\n            />\n            <DebouncedTextareaV2\n              value={form.successAction.successMessage || ''}\n              onDebouncedChange={(v) => {\n                updateSection('form', {\n                  ...form,\n                  successAction: { ...form.successAction!, successMessage: v }\n                });\n              }}\n              placeholder=\"Mensagem de sucesso\"\n              className=\"input-admin\"\n            />\n          </div>\n        )}\n      </div>\n\n      {/* Campos do Formulário */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Campos ({fields.length})</Label>\n\n        {fields.map((field, index) => (\n          <div key={field.id || index} className=\"bg-background/50 rounded-xl p-4 space-y-3\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <GripVertical className=\"w-4 h-4 text-muted-foreground\" />\n                <Label className=\"text-foreground font-semibold\">Campo {index + 1}</Label>\n              </div>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={() => removeField(index)}\n                className=\"text-destructive hover:text-destructive h-8 w-8\"\n              >\n                <Trash2 className=\"w-4 h-4\" />\n              </Button>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n              <div className=\"space-y-1\">\n                <Label className=\"text-foreground text-xs\">Tipo</Label>\n                <Select\n                  value={field.type}\n                  onValueChange={(v) => updateFormField(index, 'type', v)}\n                >\n                  <SelectTrigger className=\"input-admin\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {FIELD_TYPES.map((ft) => (\n                      <SelectItem key={ft.value} value={ft.value}>{ft.label}</SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"space-y-1\">\n                <Label className=\"text-foreground text-xs\">Label</Label>\n                <DebouncedInputV2\n                  value={field.label || ''}\n                  onDebouncedChange={(v) => updateFormField(index, 'label', v)}\n                  placeholder=\"Ex: Nome completo\"\n                  className=\"input-admin\"\n                />\n              </div>\n              <div className=\"space-y-1\">\n                <Label className=\"text-foreground text-xs\">Placeholder</Label>\n                <DebouncedInputV2\n                  value={field.placeholder || ''}\n                  onDebouncedChange={(v) => updateFormField(index, 'placeholder', v)}\n                  placeholder=\"Ex: Digite seu nome\"\n                  className=\"input-admin\"\n                />\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-6\">\n              <div className=\"flex items-center gap-2\">\n                <Switch\n                  checked={field.required}\n                  onCheckedChange={(checked) => updateFormField(index, 'required', checked)}\n                />\n                <Label className=\"text-foreground text-sm\">Obrigatório</Label>\n              </div>\n              <Select\n                value={field.width || '100%'}\n                onValueChange={(v) => updateFormField(index, 'width', v)}\n              >\n                <SelectTrigger className=\"input-admin w-32\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"100%\">Largura total</SelectItem>\n                  <SelectItem value=\"50%\">Meia largura</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            {field.type === 'select' && (\n              <div className=\"space-y-2\">\n                <Label className=\"text-foreground text-xs\">Opções (uma por linha)</Label>\n                <DebouncedTextareaV2\n                  value={(field.options || []).join('\\n')}\n                  onDebouncedChange={(v) => updateFormField(index, 'options', v.split('\\n').filter(Boolean))}\n                  placeholder=\"Opção 1\\nOpção 2\\nOpção 3\"\n                  className=\"input-admin\"\n                  rows={3}\n                />\n              </div>\n            )}\n\n            {field.type === 'paragraph' && (\n              <div className=\"space-y-2\">\n                <Label className=\"text-foreground text-xs\">Conteúdo do Parágrafo</Label>\n                <DebouncedTextareaV2\n                  value={field.content || ''}\n                  onDebouncedChange={(v) => updateFormField(index, 'content', v)}\n                  placeholder=\"Texto informativo exibido no formulário\"\n                  className=\"input-admin\"\n                  rows={3}\n                />\n              </div>\n            )}\n          </div>\n        ))}\n\n        <Button\n          variant=\"outline\"\n          onClick={addField}\n          className=\"text-foreground border-border hover:bg-accent/10 rounded-full\"\n        >\n          + Adicionar Campo\n        </Button>\n      </div>\n\n      <SectionCTAEditorV2\n        sectionTitle=\"Formulário\"\n        ctaData={form?.footerCta}\n        onUpdate={(updates) => {\n          updateSection('form', {\n            ...form,\n            footerCta: { ...(form?.footerCta || { enabled: false, text: '', link: '', mobileHidden: false }), ...updates }\n          });\n        }}\n      />\n    </div>\n  );\n});\n\nFormEditorV2.displayName = 'FormEditorV2';\n","import { memo, useState, useEffect } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { DebouncedInputV2 } from \"@/components/admin/shared-v2/DebouncedInputV2\";\nimport { V2SectionEditorProps } from \"./types\";\nimport { fetchGlobalTrackingV2 } from \"@/lib/cms-v2/cms-api\";\nimport { TrackingSettings } from \"@/lib/cms-v2/cms-types\";\nimport {\n  validatePixelId,\n  getStatusDotColor,\n  getStatusColor,\n  PIXEL_PLATFORMS,\n  type PixelPlatform,\n} from \"@/lib/cms-v2/pixelValidation-v2\";\n\nexport const TrackingEditorV2 = memo(({ draft, updateField }: V2SectionEditorProps) => {\n  const tracking = draft.tracking;\n  const [globalTracking, setGlobalTracking] = useState<TrackingSettings | null>(null);\n\n  // Busca pixels globais pra referência\n  useEffect(() => {\n    fetchGlobalTrackingV2().then(setGlobalTracking);\n  }, []);\n\n  const useGlobal = tracking?.useGlobal !== false; // default true\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header + Master toggle */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <h2 className=\"text-2xl font-bold text-foreground\">Rastreamento (Pixels)</h2>\n        <div className=\"flex items-center space-x-2\">\n          <Switch\n            checked={tracking?.enabled !== false}\n            onCheckedChange={(checked) => updateField('tracking', 'enabled', checked)}\n          />\n          <Label className=\"text-foreground text-sm font-semibold\">Ativar rastreamento</Label>\n        </div>\n      </div>\n\n      {/* Toggle herança global */}\n      <div className=\"bg-muted/20 rounded-2xl p-5\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <Label className=\"text-foreground font-semibold\">Herdar pixels globais</Label>\n            <p className=\"text-xs text-muted-foreground mt-0.5\">\n              {useGlobal\n                ? 'Campos vazios herdam automaticamente do painel global'\n                : 'Esta LP usa apenas seus próprios pixels (sem fallback global)'}\n            </p>\n          </div>\n          <Switch\n            checked={useGlobal}\n            onCheckedChange={(checked) => updateField('tracking', 'useGlobal', checked)}\n          />\n        </div>\n      </div>\n\n      {/* Campos de pixel */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Pixels de Rastreamento</Label>\n        <p className=\"text-sm text-muted-foreground\">\n          Cole os IDs dos pixels de cada plataforma. Eles serão injetados automaticamente no &lt;head&gt; da página.\n        </p>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n          {PIXEL_PLATFORMS.map(({ key, label, placeholder }) => {\n            const localValue = tracking?.[key as PixelPlatform] || '';\n            const globalValue = globalTracking?.[key as PixelPlatform] || '';\n            const validation = validatePixelId(key, localValue);\n\n            // Feedback de herança\n            const isInheriting = useGlobal && !localValue.trim() && !!globalValue.trim();\n            const isOverriding = !!localValue.trim();\n\n            return (\n              <div key={key} className=\"space-y-1.5\">\n                <div className=\"flex items-center gap-2\">\n                  <Label className=\"text-foreground text-sm\">{label}</Label>\n                  <div\n                    className={`w-2.5 h-2.5 rounded-full shrink-0 ${\n                      isInheriting ? 'bg-blue-500' : getStatusDotColor(validation.status)\n                    }`}\n                  />\n                </div>\n                <DebouncedInputV2\n                  value={localValue}\n                  onDebouncedChange={(v) => updateField('tracking', key, v)}\n                  placeholder={isInheriting ? `Global: ${globalValue}` : placeholder}\n                  className=\"input-admin font-mono text-sm\"\n                />\n                {/* Mensagem de status / herança */}\n                {isInheriting ? (\n                  <p className=\"text-[11px] text-blue-400\">\n                    ↳ Herdando global: {globalValue}\n                  </p>\n                ) : isOverriding && useGlobal && globalValue.trim() ? (\n                  <p className=\"text-[11px] text-green-400\">\n                    Pixel específico ativo (sobrescreve global)\n                  </p>\n                ) : validation.status !== 'empty' ? (\n                  <p className={`text-[11px] ${\n                    validation.status === 'valid' ? 'text-green-400' :\n                    validation.status === 'warning' ? 'text-amber-400' :\n                    'text-red-400'\n                  }`}>\n                    {validation.message}\n                  </p>\n                ) : (\n                  <p className=\"text-[11px] text-muted-foreground/50\">Não configurado</p>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Status badges */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-3\">\n        <Label className=\"text-foreground font-semibold text-lg\">Status</Label>\n        <div className=\"flex flex-wrap gap-2\">\n          {PIXEL_PLATFORMS.map(({ key, label }) => {\n            const localValue = tracking?.[key as PixelPlatform] || '';\n            const globalValue = globalTracking?.[key as PixelPlatform] || '';\n            const isInheriting = useGlobal && !localValue.trim() && !!globalValue.trim();\n            const hasValue = !!localValue.trim();\n            const validation = validatePixelId(key, localValue);\n\n            let badgeClass: string;\n            let badgeText: string;\n\n            if (hasValue) {\n              badgeClass = getStatusColor(validation.status);\n              badgeText = validation.status === 'valid' ? 'Ativo' : validation.status === 'warning' ? 'Espaços' : 'Inválido';\n            } else if (isInheriting) {\n              badgeClass = 'text-blue-400 bg-blue-500/20 border border-blue-500/30';\n              badgeText = 'Global';\n            } else {\n              badgeClass = 'text-muted-foreground bg-muted/30';\n              badgeText = 'Vazio';\n            }\n\n            return (\n              <span\n                key={key}\n                className={`px-3 py-1 rounded-full text-xs font-medium border ${badgeClass}`}\n              >\n                {label.split('(')[0].trim()}: {badgeText}\n              </span>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n});\n\nTrackingEditorV2.displayName = 'TrackingEditorV2';\n","import { memo } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { DebouncedInputV2 } from \"@/components/admin/shared-v2/DebouncedInputV2\";\nimport { DebouncedTextareaV2 } from \"@/components/admin/shared-v2/DebouncedTextareaV2\";\nimport { ImageUploadV2 } from \"@/components/admin/shared-v2/ImageUploadV2\";\nimport { V2SectionEditorProps } from \"./types\";\n\nexport const SEOEditorV2 = memo(({ draft, updateField }: V2SectionEditorProps) => {\n  const seo = draft.seo;\n  const metaTitleLen = seo?.metaTitle?.length || 0;\n  const metaDescLen = seo?.metaDescription?.length || 0;\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      <h2 className=\"text-2xl font-bold text-foreground mb-4\">SEO</h2>\n\n      {/* Preview Google */}\n      <div className=\"bg-white rounded-2xl p-6 space-y-1\">\n        <p className=\"text-xs text-gray-500 mb-2\">Prévia do Google:</p>\n        <p className=\"text-[#1a0dab] text-lg font-medium line-clamp-1\">\n          {seo?.metaTitle || 'Título da página aparecerá aqui'}\n        </p>\n        <p className=\"text-sm text-[#006621] line-clamp-1\">\n          https://seusite.com/pagina\n        </p>\n        <p className=\"text-sm text-[#545454] line-clamp-2\">\n          {seo?.metaDescription || 'A descrição da página aparecerá aqui. Escreva algo atraente para aumentar a taxa de cliques.'}\n        </p>\n      </div>\n\n      {/* Meta Tags */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Meta Tags</Label>\n\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between items-center\">\n            <Label className=\"text-foreground\">Meta Title</Label>\n            <span className={`text-xs ${metaTitleLen > 60 ? 'text-destructive' : metaTitleLen > 54 ? 'text-yellow-500' : 'text-muted-foreground'}`}>\n              {metaTitleLen}/60\n            </span>\n          </div>\n          <DebouncedInputV2\n            value={seo?.metaTitle || ''}\n            onDebouncedChange={(v) => updateField('seo', 'metaTitle', v)}\n            placeholder=\"Ex: LimpMe - Lavagem de Carros a Domicílio\"\n            className=\"input-admin\"\n          />\n          {metaTitleLen > 60 && (\n            <p className=\"text-xs text-destructive\">Limite excedido! O texto será cortado nos buscadores.</p>\n          )}\n        </div>\n\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between items-center\">\n            <Label className=\"text-foreground\">Meta Description</Label>\n            <span className={`text-xs ${metaDescLen > 160 ? 'text-destructive' : metaDescLen > 144 ? 'text-yellow-500' : 'text-muted-foreground'}`}>\n              {metaDescLen}/160\n            </span>\n          </div>\n          <DebouncedTextareaV2\n            value={seo?.metaDescription || ''}\n            onDebouncedChange={(v) => updateField('seo', 'metaDescription', v)}\n            placeholder=\"Ex: Serviço de lavagem ecológica para seu veículo...\"\n            className=\"input-admin\"\n            rows={3}\n          />\n          {metaDescLen > 160 && (\n            <p className=\"text-xs text-destructive\">Limite excedido! O texto será cortado nos buscadores.</p>\n          )}\n        </div>\n      </div>\n\n      {/* Open Graph */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Open Graph (Redes Sociais)</Label>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div className=\"space-y-2\">\n            <Label className=\"text-foreground\">OG Title</Label>\n            <DebouncedInputV2\n              value={seo?.ogTitle || ''}\n              onDebouncedChange={(v) => updateField('seo', 'ogTitle', v)}\n              placeholder=\"Título para compartilhamento\"\n              className=\"input-admin\"\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label className=\"text-foreground\">OG Description</Label>\n            <DebouncedInputV2\n              value={seo?.ogDescription || ''}\n              onDebouncedChange={(v) => updateField('seo', 'ogDescription', v)}\n              placeholder=\"Descrição para compartilhamento\"\n              className=\"input-admin\"\n            />\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label className=\"text-foreground\">OG Image (Imagem de compartilhamento)</Label>\n          <ImageUploadV2\n            value={seo?.ogImage || ''}\n            onChange={(url) => updateField('seo', 'ogImage', url)}\n            label=\"OG Image\"\n          />\n          <p className=\"text-xs text-muted-foreground\">Tamanho recomendado: 1200x630 pixels</p>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nSEOEditorV2.displayName = 'SEOEditorV2';\n","import * as React from \"react\";\nimport * as SliderPrimitive from \"@radix-ui/react-slider\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\"relative flex w-full touch-none select-none items-center\", className)}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n));\nSlider.displayName = SliderPrimitive.Root.displayName;\n\nexport { Slider };\n","import { memo, useState } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from \"@/components/ui/collapsible\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ChevronRight, Check, Paintbrush } from \"lucide-react\";\nimport { DebouncedInputV2 } from \"@/components/admin/shared-v2/DebouncedInputV2\";\nimport { V2SectionEditorProps } from \"./types\";\nimport { DesignSettings } from \"@/lib/cms-v2/cms-types\";\nimport { cn } from \"@/lib/utils\";\n\n// ============================================================\n// ColorField helper (reutilizado do original)\n// ============================================================\nfunction ColorField({ label, value, onChange, placeholder }: { label: string; value: string; onChange: (v: string) => void; placeholder?: string }) {\n  return (\n    <div className=\"space-y-1\">\n      <Label className=\"text-foreground text-xs\">{label}</Label>\n      <div className=\"flex gap-2 items-center\">\n        <input\n          type=\"color\"\n          value={value || '#000000'}\n          onChange={(e) => onChange(e.target.value)}\n          className=\"w-10 h-10 rounded-lg cursor-pointer p-0.5 bg-transparent\"\n        />\n        <DebouncedInputV2\n          value={value || ''}\n          onDebouncedChange={onChange}\n          placeholder={placeholder || '#000000'}\n          className=\"input-admin font-mono flex-1\"\n        />\n      </div>\n    </div>\n  );\n}\n\n// ============================================================\n// Presets de Design\n// ============================================================\ninterface DesignPreset {\n  id: string;\n  name: string;\n  description: string;\n  preview: string;\n  values: Partial<DesignSettings>;\n}\n\nconst DESIGN_PRESETS: DesignPreset[] = [\n  {\n    id: 'premium',\n    name: 'LimpMe Premium',\n    description: 'Navy profundo + Verde LimpMe — Glass Apple',\n    preview: 'bg-gradient-to-br from-[#0e1724] to-[#162231]',\n    values: {\n      preset: 'premium',\n      primaryColor: '#14b781',\n      secondaryColor: '#3b82f6',\n      backgroundColor: '#0e1724',\n      buttonColor: '#14b781',\n      titleColor: '#ffffff',\n      borderColor: '#476084',\n      iconColor: '#14b781',\n      starColor: '#facc15',\n      textPrimaryColor: '#ffffff',\n      textSecondaryColor: '#bfbfbf',\n      gradient: { from: '#0e1724', to: '#162231' },\n      glassIntensity: 0.14,\n      cardRoundness: 'medio' as const,\n      verticalSpacing: 'medium' as const,\n      fontFamily: 'Inter, sans-serif',\n    }\n  },\n  {\n    id: 'dark',\n    name: 'Grafite Premium',\n    description: 'Cinza vitrificado + Emerald vibrante',\n    preview: 'bg-gradient-to-br from-[#18181B] to-[#27272A]',\n    values: {\n      preset: 'dark',\n      primaryColor: '#10B981',\n      secondaryColor: '#6366F1',\n      backgroundColor: '#18181B',\n      buttonColor: '#10B981',\n      titleColor: '#FAFAFA',\n      borderColor: '#3F3F46',\n      iconColor: '#10B981',\n      starColor: '#FBBF24',\n      textPrimaryColor: '#FAFAFA',\n      textSecondaryColor: '#A1A1AA',\n      gradient: { from: '#18181B', to: '#27272A' },\n      glassIntensity: 0.10,\n      cardRoundness: 'medio' as const,\n      verticalSpacing: 'medium' as const,\n      fontFamily: 'Inter, sans-serif',\n    }\n  },\n  {\n    id: 'offwhite',\n    name: 'Off White Clean',\n    description: 'Branco puro + Azul corporate — Glass Apple',\n    preview: 'bg-gradient-to-br from-[#FAFBFC] to-[#F1F5F9]',\n    values: {\n      preset: 'offwhite',\n      primaryColor: '#2563EB',\n      secondaryColor: '#0EA5E9',\n      backgroundColor: '#FAFBFC',\n      buttonColor: '#2563EB',\n      titleColor: '#0F172A',\n      borderColor: '#E2E8F0',\n      iconColor: '#2563EB',\n      starColor: '#F59E0B',\n      textPrimaryColor: '#0F172A',\n      textSecondaryColor: '#64748B',\n      gradient: { from: '#FAFBFC', to: '#F1F5F9' },\n      glassIntensity: 0.45,\n      cardRoundness: 'medio' as const,\n      verticalSpacing: 'medium' as const,\n      fontFamily: 'Inter, sans-serif',\n    }\n  },\n  {\n    id: 'emerald',\n    name: 'Emerald Forest',\n    description: 'Verde musgo profundo + Emerald brilhante',\n    preview: 'bg-gradient-to-br from-[#0F2419] to-[#14332A]',\n    values: {\n      preset: 'emerald',\n      primaryColor: '#34D399',\n      secondaryColor: '#6EE7B7',\n      backgroundColor: '#0F2419',\n      buttonColor: '#34D399',\n      titleColor: '#ECFDF5',\n      borderColor: '#1E4D3A',\n      iconColor: '#34D399',\n      starColor: '#FCD34D',\n      textPrimaryColor: '#ECFDF5',\n      textSecondaryColor: '#86EFAC',\n      gradient: { from: '#0F2419', to: '#14332A' },\n      glassIntensity: 0.10,\n      cardRoundness: 'medio' as const,\n      verticalSpacing: 'medium' as const,\n      fontFamily: 'Inter, sans-serif',\n    }\n  },\n  {\n    id: 'sand',\n    name: 'Sand Hamptons',\n    description: 'Areia premium + Bronze dourado — WCAG AA',\n    preview: 'bg-gradient-to-br from-[#F5F0E8] to-[#E8DFD0]',\n    values: {\n      preset: 'sand',\n      primaryColor: '#8B6914',\n      secondaryColor: '#996515',\n      backgroundColor: '#F5F0E8',\n      buttonColor: '#8B6914',\n      titleColor: '#1C1917',\n      borderColor: '#B8A990',\n      iconColor: '#8B6914',\n      starColor: '#8B6914',\n      textPrimaryColor: '#1C1917',\n      textSecondaryColor: '#57534E',\n      gradient: { from: '#F5F0E8', to: '#E8DFD0' },\n      glassIntensity: 0.55,\n      cardRoundness: 'medio' as const,\n      verticalSpacing: 'medium' as const,\n      fontFamily: 'Inter, sans-serif',\n    }\n  },\n  {\n    id: 'purple',\n    name: 'Purple Night',\n    description: 'Indigo profundo + Violeta eletrico',\n    preview: 'bg-gradient-to-br from-[#1A1025] to-[#251540]',\n    values: {\n      preset: 'purple',\n      primaryColor: '#A855F7',\n      secondaryColor: '#EC4899',\n      backgroundColor: '#1A1025',\n      buttonColor: '#A855F7',\n      titleColor: '#F3E8FF',\n      borderColor: '#3B2560',\n      iconColor: '#A855F7',\n      starColor: '#FBBF24',\n      textPrimaryColor: '#F3E8FF',\n      textSecondaryColor: '#C4B5FD',\n      gradient: { from: '#1A1025', to: '#251540' },\n      glassIntensity: 0.10,\n      cardRoundness: 'medio' as const,\n      verticalSpacing: 'medium' as const,\n      fontFamily: 'Inter, sans-serif',\n    }\n  },\n  {\n    id: 'midnight',\n    name: 'Midnight Cyan',\n    description: 'Indigo profundo + Cyan eletrico',\n    preview: 'bg-gradient-to-br from-[#0C1222] to-[#162032]',\n    values: {\n      preset: 'midnight',\n      primaryColor: '#22D3EE',\n      secondaryColor: '#0EA5E9',\n      backgroundColor: '#0C1222',\n      buttonColor: '#22D3EE',\n      titleColor: '#ECFEFF',\n      borderColor: '#164E63',\n      iconColor: '#22D3EE',\n      starColor: '#FBBF24',\n      textPrimaryColor: '#ECFEFF',\n      textSecondaryColor: '#67E8F9',\n      gradient: { from: '#0C1222', to: '#162032' },\n      glassIntensity: 0.12,\n      cardRoundness: 'medio' as const,\n      verticalSpacing: 'medium' as const,\n      fontFamily: 'Inter, sans-serif',\n    }\n  },\n];\n\n// ============================================================\n// DesignEditorV2 — Presets + Personalizacao Avancada\n// ============================================================\nexport const DesignEditorV2 = memo(({ draft, updateField, updateSection }: V2SectionEditorProps) => {\n  const design = draft.design;\n  const [advancedOpen, setAdvancedOpen] = useState(false);\n\n  const activePresetId = design?.preset || '';\n  const isCustom = activePresetId === 'custom' || (!activePresetId && design?.primaryColor);\n\n  const applyPreset = (preset: DesignPreset) => {\n    updateSection('design', { ...design, ...preset.values });\n  };\n\n  const handleGradientChange = (field: 'from' | 'to', value: string) => {\n    const currentGradient = design?.gradient || { from: '', to: '' };\n    updateSection('design', {\n      ...design,\n      preset: 'custom',\n      gradient: { ...currentGradient, [field]: value }\n    });\n  };\n\n  // Wrapper para campos avancados — marca preset como 'custom'\n  const updateDesignField = (field: string, value: any) => {\n    updateField('design', field, value);\n    // Marca como custom se mudou manualmente\n    if (field !== 'preset') {\n      updateField('design', 'preset', 'custom');\n    }\n  };\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      <h2 className=\"text-2xl font-bold text-foreground mb-4\">Design</h2>\n\n      {/* ============================================================ */}\n      {/* Presets de Tema */}\n      {/* ============================================================ */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg flex items-center gap-2\">\n          <Paintbrush className=\"h-5 w-5 text-accent\" />\n          Temas Prontos\n        </Label>\n        <p className=\"text-sm text-muted-foreground\">\n          Escolha um tema como ponto de partida. Todas as cores serao aplicadas automaticamente.\n        </p>\n\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {DESIGN_PRESETS.map((preset) => {\n            const isActive = activePresetId === preset.id;\n            return (\n              <div\n                key={preset.id}\n                className={cn(\n                  'relative rounded-2xl border-2 overflow-hidden transition-all duration-200 cursor-pointer group',\n                  isActive\n                    ? 'border-accent shadow-lg shadow-accent/10'\n                    : 'border-border/30 hover:border-border/60 hover:shadow-md'\n                )}\n                onClick={() => applyPreset(preset)}\n              >\n                {/* Gradient Preview */}\n                <div className={cn('h-24 w-full', preset.preview)} />\n\n                {/* Info */}\n                <div className=\"p-4 bg-background/80 space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <h3 className=\"font-semibold text-foreground text-sm\">{preset.name}</h3>\n                    {isActive && (\n                      <Badge className=\"bg-accent/20 text-accent border-accent/30 text-xs\">\n                        <Check className=\"h-3 w-3 mr-1\" />\n                        Ativo\n                      </Badge>\n                    )}\n                  </div>\n                  <p className=\"text-xs text-muted-foreground\">{preset.description}</p>\n\n                  {/* Color palette dots */}\n                  <div className=\"flex gap-1.5 pt-1\">\n                    {[\n                      preset.values.primaryColor,\n                      preset.values.backgroundColor,\n                      preset.values.titleColor,\n                      preset.values.secondaryColor,\n                    ].filter(Boolean).map((color, i) => (\n                      <div\n                        key={i}\n                        className=\"w-5 h-5 rounded-full\"\n                        style={{ backgroundColor: color }}\n                      />\n                    ))}\n                  </div>\n\n                  <Button\n                    type=\"button\"\n                    size=\"sm\"\n                    variant={isActive ? 'default' : 'outline'}\n                    className={cn(\n                      'w-full mt-2 text-xs',\n                      isActive && 'bg-accent hover:bg-accent/90 text-white'\n                    )}\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      applyPreset(preset);\n                    }}\n                  >\n                    {isActive ? 'Tema Ativo' : 'Aplicar Tema'}\n                  </Button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Indicador de customizacao */}\n        {isCustom && (\n          <div className=\"flex items-center gap-2 p-3 rounded-xl bg-amber-500/10 border border-amber-500/20\">\n            <Paintbrush className=\"h-4 w-4 text-amber-400\" />\n            <span className=\"text-sm text-amber-400\">\n              Tema personalizado — cores ajustadas manualmente\n            </span>\n          </div>\n        )}\n      </div>\n\n      {/* ============================================================ */}\n      {/* Personalizacao Avancada (Collapsible) */}\n      {/* ============================================================ */}\n      <Collapsible open={advancedOpen} onOpenChange={setAdvancedOpen}>\n        <CollapsibleTrigger asChild>\n          <button\n            className=\"flex items-center gap-2.5 w-full px-6 py-4 rounded-2xl bg-muted/20 text-foreground font-semibold text-base hover:bg-muted/30 transition-colors\"\n          >\n            <ChevronRight\n              className={cn(\n                'h-4 w-4 text-muted-foreground transition-transform duration-200',\n                advancedOpen && 'rotate-90'\n              )}\n            />\n            Personalizacao Avancada\n            <span className=\"text-xs font-normal text-muted-foreground ml-auto\">\n              Cores, gradiente, glass e layout\n            </span>\n          </button>\n        </CollapsibleTrigger>\n\n        <CollapsibleContent className=\"space-y-6 pt-4\">\n          {/* Cores Principais */}\n          <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n            <Label className=\"text-foreground font-semibold text-lg\">Cores Principais</Label>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <ColorField\n                label=\"Cor Primaria *\"\n                value={design?.primaryColor || ''}\n                onChange={(v) => updateDesignField('primaryColor', v)}\n                placeholder=\"#22c55e\"\n              />\n              <ColorField\n                label=\"Cor Secundaria\"\n                value={design?.secondaryColor || ''}\n                onChange={(v) => updateDesignField('secondaryColor', v)}\n                placeholder=\"#3b82f6\"\n              />\n              <ColorField\n                label=\"Cor de Fundo *\"\n                value={design?.backgroundColor || ''}\n                onChange={(v) => updateDesignField('backgroundColor', v)}\n                placeholder=\"#0f172a\"\n              />\n            </div>\n          </div>\n\n          {/* Cores de Elementos */}\n          <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n            <Label className=\"text-foreground font-semibold text-lg\">Cores de Elementos</Label>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <ColorField\n                label=\"Botoes\"\n                value={design?.buttonColor || ''}\n                onChange={(v) => updateDesignField('buttonColor', v)}\n                placeholder=\"#22c55e\"\n              />\n              <ColorField\n                label=\"Titulos\"\n                value={design?.titleColor || ''}\n                onChange={(v) => updateDesignField('titleColor', v)}\n                placeholder=\"#ffffff\"\n              />\n              <ColorField\n                label=\"Bordas\"\n                value={design?.borderColor || ''}\n                onChange={(v) => updateDesignField('borderColor', v)}\n                placeholder=\"#334155\"\n              />\n              <ColorField\n                label=\"Icones\"\n                value={design?.iconColor || ''}\n                onChange={(v) => updateDesignField('iconColor', v)}\n                placeholder=\"#22c55e\"\n              />\n              <ColorField\n                label=\"Estrelas\"\n                value={design?.starColor || ''}\n                onChange={(v) => updateDesignField('starColor', v)}\n                placeholder=\"#facc15\"\n              />\n              <ColorField\n                label=\"Texto Primario\"\n                value={design?.textPrimaryColor || ''}\n                onChange={(v) => updateDesignField('textPrimaryColor', v)}\n                placeholder=\"#ffffff\"\n              />\n              <ColorField\n                label=\"Texto Secundario\"\n                value={design?.textSecondaryColor || ''}\n                onChange={(v) => updateDesignField('textSecondaryColor', v)}\n                placeholder=\"#94a3b8\"\n              />\n            </div>\n          </div>\n\n          {/* Gradiente */}\n          <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n            <Label className=\"text-foreground font-semibold text-lg\">Gradiente de Fundo</Label>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <ColorField\n                label=\"De (inicio)\"\n                value={design?.gradient?.from || ''}\n                onChange={(v) => handleGradientChange('from', v)}\n                placeholder=\"#0f172a\"\n              />\n              <ColorField\n                label=\"Para (fim)\"\n                value={design?.gradient?.to || ''}\n                onChange={(v) => handleGradientChange('to', v)}\n                placeholder=\"#1e293b\"\n              />\n            </div>\n            {design?.gradient?.from && design?.gradient?.to && (\n              <div\n                className=\"h-8 rounded-xl\"\n                style={{\n                  background: `linear-gradient(to right, ${design.gradient.from}, ${design.gradient.to})`\n                }}\n              />\n            )}\n          </div>\n\n          {/* Glass Intensity */}\n          <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n            <Label className=\"text-foreground font-semibold text-lg\">Efeito Glass</Label>\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between\">\n                <Label className=\"text-foreground text-sm\">Intensidade</Label>\n                <span className=\"text-sm text-muted-foreground\">\n                  {(design?.glassIntensity ?? 0.1).toFixed(2)}\n                </span>\n              </div>\n              <Slider\n                value={[design?.glassIntensity ?? 0.1]}\n                onValueChange={([value]) => updateDesignField('glassIntensity', value)}\n                min={0}\n                max={1}\n                step={0.05}\n                className=\"w-full\"\n              />\n            </div>\n          </div>\n\n          {/* Layout */}\n          <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n            <Label className=\"text-foreground font-semibold text-lg\">Layout</Label>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"space-y-2\">\n                <Label className=\"text-foreground text-xs\">Arredondamento dos Cards</Label>\n                <Select\n                  value={design?.cardRoundness || 'medio'}\n                  onValueChange={(v) => updateDesignField('cardRoundness', v as DesignSettings['cardRoundness'])}\n                >\n                  <SelectTrigger className=\"input-admin\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"leve\">Leve (8px)</SelectItem>\n                    <SelectItem value=\"medio\">Medio (16px)</SelectItem>\n                    <SelectItem value=\"full\">Arredondado (24px)</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label className=\"text-foreground text-xs\">Espacamento Vertical</Label>\n                <Select\n                  value={design?.verticalSpacing || 'medium'}\n                  onValueChange={(v) => updateDesignField('verticalSpacing', v as DesignSettings['verticalSpacing'])}\n                >\n                  <SelectTrigger className=\"input-admin\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"small\">Compacto</SelectItem>\n                    <SelectItem value=\"medium\">Medio</SelectItem>\n                    <SelectItem value=\"large\">Espacoso</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label className=\"text-foreground text-xs\">Fonte</Label>\n                <DebouncedInputV2\n                  value={design?.fontFamily || ''}\n                  onDebouncedChange={(v) => updateDesignField('fontFamily', v)}\n                  placeholder=\"Inter, sans-serif\"\n                  className=\"input-admin\"\n                />\n              </div>\n            </div>\n          </div>\n        </CollapsibleContent>\n      </Collapsible>\n    </div>\n  );\n});\n\nDesignEditorV2.displayName = 'DesignEditorV2';\n","import { memo } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { Button } from \"@/components/ui/button\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { GripVertical, Plus } from \"lucide-react\";\nimport { V2SectionEditorProps } from \"./types\";\nimport { LPContent } from \"@/lib/cms-v2/cms-types\";\nimport { cn } from \"@/lib/utils\";\n\nimport {\n  DndContext,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  TouchSensor,\n  useSensor,\n  useSensors,\n  DragEndEvent,\n} from \"@dnd-kit/core\";\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  useSortable,\n  verticalListSortingStrategy,\n} from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\n\n// ============================================================\n// Labels de cada secao\n// ============================================================\nconst SECTION_LABELS: Record<string, string> = {\n  hero: 'Hero',\n  benefits: 'Beneficios',\n  howItWorks: 'Como Funciona',\n  plans: 'Planos',\n  testimonials: 'Depoimentos',\n  kpis: 'KPIs',\n  about: 'Sobre',\n  contact: 'Contato',\n  beforeAfter: 'Antes e Depois',\n  process: 'Processo',\n  services: 'Servicos',\n  video: 'Video',\n  videoCarousel: 'Carrossel de Videos',\n  whyChoose: 'Por que Escolher',\n  ctaFinal: 'CTA Final',\n  faq: 'FAQ',\n  form: 'Formulario',\n  forWhom: 'Para Quem',\n};\n\nconst ALL_SECTIONS = Object.keys(SECTION_LABELS);\n\n// ============================================================\n// SortableItem — cada secao arrastavel\n// ============================================================\ninterface SortableItemProps {\n  sectionId: string;\n  isEnabled: boolean;\n  onToggle: () => void;\n  onRemove: () => void;\n}\n\nconst SortableItem = ({ sectionId, isEnabled, onToggle, onRemove }: SortableItemProps) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id: sectionId });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      className={cn(\n        'flex items-center gap-3 p-3 rounded-xl border transition-all duration-200',\n        isDragging && 'opacity-80 shadow-lg z-50 scale-[1.02]',\n        isEnabled\n          ? 'bg-background/50 border-border/20'\n          : 'bg-muted/30 border-border/10 opacity-60'\n      )}\n    >\n      {/* Grip Handle — funcional com dnd-kit */}\n      <button\n        type=\"button\"\n        className={cn(\n          'cursor-grab active:cursor-grabbing p-1 rounded',\n          'text-muted-foreground hover:text-foreground transition-colors',\n          'touch-none select-none'\n        )}\n        {...attributes}\n        {...listeners}\n      >\n        <GripVertical className=\"h-5 w-5\" />\n      </button>\n\n      {/* Label */}\n      <span className={cn(\n        'flex-1 text-sm font-medium text-foreground',\n        !isEnabled && 'text-muted-foreground line-through'\n      )}>\n        {SECTION_LABELS[sectionId] || sectionId}\n      </span>\n\n      {/* Toggle Switch (ativar/desativar) */}\n      <Switch\n        checked={isEnabled}\n        onCheckedChange={() => onToggle()}\n        className=\"data-[state=checked]:bg-accent data-[state=unchecked]:bg-muted\"\n      />\n\n      {/* Remover */}\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={onRemove}\n        className=\"text-destructive hover:text-destructive text-xs h-7 px-2\"\n      >\n        Remover\n      </Button>\n    </div>\n  );\n};\n\n// ============================================================\n// SectionOrderEditorV2 — principal\n// ============================================================\nexport const SectionOrderEditorV2 = memo(({ draft, updateField, updateSection }: V2SectionEditorProps) => {\n  const activeSections = draft.sectionOrder || [];\n  const inactiveSections = ALL_SECTIONS.filter(s => !activeSections.includes(s));\n\n  // Sensores: mouse, touch e teclado\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: { distance: 8 },\n    }),\n    useSensor(TouchSensor, {\n      activationConstraint: { delay: 200, tolerance: 5 },\n    }),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    })\n  );\n\n  const updateOrder = (newOrder: string[]) => {\n    updateSection('sectionOrder' as keyof LPContent, newOrder as LPContent['sectionOrder']);\n  };\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event;\n    if (over && active.id !== over.id) {\n      const oldIndex = activeSections.findIndex((id) => id === active.id);\n      const newIndex = activeSections.findIndex((id) => id === over.id);\n      updateOrder(arrayMove(activeSections, oldIndex, newIndex));\n    }\n  };\n\n  const addSection = (sectionId: string) => {\n    // Adiciona ao order E liga o enabled automaticamente\n    updateOrder([...activeSections, sectionId]);\n    updateField(sectionId as keyof LPContent, 'enabled', true);\n  };\n\n  const removeSection = (sectionId: string) => {\n    updateOrder(activeSections.filter(s => s !== sectionId));\n  };\n\n  const isSectionEnabled = (sectionId: string): boolean => {\n    const section = draft[sectionId as keyof LPContent];\n    if (typeof section === 'object' && section !== null && 'enabled' in section) {\n      return (section as { enabled?: boolean }).enabled !== false;\n    }\n    return true;\n  };\n\n  const toggleSectionEnabled = (sectionId: string) => {\n    const isEnabled = isSectionEnabled(sectionId);\n    updateField(sectionId as keyof LPContent, 'enabled', !isEnabled);\n  };\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      <h2 className=\"text-2xl font-bold text-foreground mb-4\">Ordem das Secoes</h2>\n\n      {/* Secoes Ativas — drag-and-drop */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">\n          Secoes na Pagina ({activeSections.length})\n        </Label>\n\n        {activeSections.length === 0 && (\n          <p className=\"text-sm text-muted-foreground text-center py-6 border border-dashed border-border/30 rounded-xl\">\n            Nenhuma secao adicionada. Adicione secoes abaixo.\n          </p>\n        )}\n\n        <DndContext\n          sensors={sensors}\n          collisionDetection={closestCenter}\n          onDragEnd={handleDragEnd}\n        >\n          <SortableContext\n            items={activeSections}\n            strategy={verticalListSortingStrategy}\n          >\n            <div className=\"space-y-2\">\n              {activeSections.map((sectionId) => (\n                <SortableItem\n                  key={sectionId}\n                  sectionId={sectionId}\n                  isEnabled={isSectionEnabled(sectionId)}\n                  onToggle={() => toggleSectionEnabled(sectionId)}\n                  onRemove={() => removeSection(sectionId)}\n                />\n              ))}\n            </div>\n          </SortableContext>\n        </DndContext>\n      </div>\n\n      {/* Secoes Disponiveis — pool para adicionar */}\n      {inactiveSections.length > 0 && (\n        <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n          <Label className=\"text-foreground font-semibold text-lg\">\n            Secoes Disponiveis ({inactiveSections.length})\n          </Label>\n          <div className=\"flex flex-wrap gap-2\">\n            {inactiveSections.map((sectionId) => (\n              <Button\n                key={sectionId}\n                type=\"button\"\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => addSection(sectionId)}\n                className=\"text-foreground border-border hover:bg-accent/10 rounded-full text-xs gap-1.5\"\n              >\n                <Plus className=\"h-3 w-3\" />\n                {SECTION_LABELS[sectionId] || sectionId}\n              </Button>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\nSectionOrderEditorV2.displayName = 'SectionOrderEditorV2';\n","import { memo } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { MessageCircle, Smartphone } from \"lucide-react\";\nimport { DebouncedInputV2 } from \"@/components/admin/shared-v2/DebouncedInputV2\";\nimport { DebouncedTextareaV2 } from \"@/components/admin/shared-v2/DebouncedTextareaV2\";\nimport { V2SectionEditorProps } from \"./types\";\n\nexport const FloatingWhatsappEditorV2 = memo(({ draft, updateField, updateSection }: V2SectionEditorProps) => {\n  const wpp = draft.floatingWhatsapp;\n  const sticky = wpp?.stickyCta || { enabled: false, text: 'Contratar agora', link: '#plans', scrollThreshold: 30 };\n\n  const updateSticky = (field: string, value: unknown) => {\n    updateSection('floatingWhatsapp' as any, {\n      ...wpp,\n      stickyCta: { ...sticky, [field]: value },\n    });\n  };\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h2 className=\"text-2xl font-bold text-foreground flex items-center gap-2\">\n          <MessageCircle className=\"w-6 h-6 text-green-500\" />\n          CTAs Flutuantes\n        </h2>\n        <div className=\"flex items-center space-x-2\">\n          <Switch\n            checked={wpp?.enabled !== false}\n            onCheckedChange={(checked) => updateField('floatingWhatsapp', 'enabled', checked)}\n          />\n          <Label className=\"text-foreground text-sm font-semibold\">Ativado</Label>\n        </div>\n      </div>\n\n      {/* Número e Mensagem */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Configuração</Label>\n        <div className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label className=\"text-foreground\">Número do WhatsApp *</Label>\n            <DebouncedInputV2\n              value={wpp?.phoneNumber || ''}\n              onDebouncedChange={(v) => updateField('floatingWhatsapp', 'phoneNumber', v)}\n              placeholder=\"5548999999999\"\n              className=\"input-admin font-mono\"\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              Formato: código do país + DDD + número (sem espaços ou caracteres)\n            </p>\n          </div>\n          <div className=\"space-y-2\">\n            <Label className=\"text-foreground\">Mensagem Pré-preenchida</Label>\n            <DebouncedTextareaV2\n              value={wpp?.message || ''}\n              onDebouncedChange={(v) => updateField('floatingWhatsapp', 'message', v)}\n              placeholder=\"Olá! Gostaria de saber mais sobre...\"\n              className=\"input-admin\"\n              rows={3}\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              Esta mensagem aparecerá preenchida quando o usuário clicar no botão\n            </p>\n          </div>\n          <div className=\"space-y-2\">\n            <Label className=\"text-foreground\">Texto do Botão</Label>\n            <DebouncedInputV2\n              value={wpp?.label || ''}\n              onDebouncedChange={(v) => updateField('floatingWhatsapp', 'label', v)}\n              placeholder=\"Fale Conosco\"\n              className=\"input-admin\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Opções Visuais */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg\">Opções Visuais</Label>\n\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <Label className=\"text-foreground text-sm\">Efeito Pulse (Glow)</Label>\n              <p className=\"text-xs text-muted-foreground\">Animação pulsante para chamar atenção</p>\n            </div>\n            <Switch\n              checked={wpp?.pulseEffect !== false}\n              onCheckedChange={(checked) => updateField('floatingWhatsapp', 'pulseEffect', checked)}\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <Label className=\"text-foreground text-sm\">Exibir em Mobile</Label>\n              <p className=\"text-xs text-muted-foreground\">Mostrar o botão em dispositivos móveis</p>\n            </div>\n            <Switch\n              checked={wpp?.showOnMobile !== false}\n              onCheckedChange={(checked) => updateField('floatingWhatsapp', 'showOnMobile', checked)}\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <Label className=\"text-foreground text-sm\">Exibir Rótulo em Mobile</Label>\n              <p className=\"text-xs text-muted-foreground\">Mostrar texto junto ao ícone em mobile</p>\n            </div>\n            <Switch\n              checked={wpp?.showLabelOnMobile || false}\n              onCheckedChange={(checked) => updateField('floatingWhatsapp', 'showLabelOnMobile', checked)}\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Preview */}\n      {wpp?.enabled && (\n        <div className=\"bg-muted/20 rounded-2xl p-6 space-y-3\">\n          <Label className=\"text-foreground font-semibold text-lg\">Prévia</Label>\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-12 h-12 rounded-full bg-green-500 flex items-center justify-center text-white shadow-lg\">\n              <MessageCircle className=\"h-6 w-6\" />\n            </div>\n            {wpp?.label && (\n              <span className=\"px-4 py-2 bg-background/80 rounded-full shadow text-sm font-medium text-foreground\">\n                {wpp.label}\n              </span>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* ============================================================ */}\n      {/* Sticky CTA Mobile */}\n      {/* ============================================================ */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold text-lg flex items-center gap-2\">\n            <Smartphone className=\"h-5 w-5 text-blue-400\" />\n            Sticky CTA Mobile\n          </Label>\n          <div className=\"flex items-center gap-2\">\n            <Switch\n              checked={sticky.enabled}\n              onCheckedChange={(v) => updateSticky('enabled', v)}\n            />\n            <Label className=\"text-foreground text-sm font-semibold\">\n              {sticky.enabled ? 'Ligado' : 'Desligado'}\n            </Label>\n          </div>\n        </div>\n\n        <p className=\"text-sm text-muted-foreground\">\n          Barra fixa no rodape do celular que aparece apos o visitante rolar a pagina. Ideal para manter o CTA sempre visivel.\n        </p>\n\n        {sticky.enabled && (\n          <div className=\"space-y-4 pt-2\">\n            <div className=\"space-y-2\">\n              <Label className=\"text-foreground text-sm\">Texto do Botao</Label>\n              <DebouncedInputV2\n                value={sticky.text}\n                onDebouncedChange={(v) => updateSticky('text', v)}\n                placeholder=\"Contratar agora\"\n                className=\"input-admin\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-foreground text-sm\">Link</Label>\n              <DebouncedInputV2\n                value={sticky.link}\n                onDebouncedChange={(v) => updateSticky('link', v)}\n                placeholder=\"#plans ou /checkout\"\n                className=\"input-admin font-mono\"\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                O cupom da campanha (se configurado) sera adicionado automaticamente\n              </p>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-foreground text-sm\">Scroll para aparecer (%)</Label>\n              <div className=\"flex items-center gap-4\">\n                <Slider\n                  value={[sticky.scrollThreshold || 30]}\n                  onValueChange={([v]) => updateSticky('scrollThreshold', v)}\n                  min={10}\n                  max={80}\n                  step={5}\n                  className=\"flex-1\"\n                />\n                <span className=\"text-sm text-foreground font-mono w-12 text-right\">\n                  {sticky.scrollThreshold || 30}%\n                </span>\n              </div>\n              <p className=\"text-xs text-muted-foreground\">\n                A barra aparece quando o visitante rolar esta porcentagem da pagina\n              </p>\n            </div>\n\n            {/* Preview do Sticky */}\n            <div className=\"bg-muted/10 rounded-xl p-4\">\n              <Label className=\"text-foreground text-xs font-semibold mb-2 block\">Previa (Mobile)</Label>\n              <div className=\"mx-auto w-[200px] h-10 bg-accent rounded-lg flex items-center justify-center shadow-lg\">\n                <span className=\"text-sm font-semibold text-white\">\n                  {sticky.text || 'Contratar agora'}\n                </span>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});\n\nFloatingWhatsappEditorV2.displayName = 'FloatingWhatsappEditorV2';\n","import { memo } from \"react\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Timer, ShieldAlert, Trophy, Plus, Trash2, Ticket, Palette } from \"lucide-react\";\nimport { DebouncedInputV2 } from \"@/components/admin/shared-v2/DebouncedInputV2\";\nimport { DebouncedTextareaV2 } from \"@/components/admin/shared-v2/DebouncedTextareaV2\";\nimport { ImageUploadV2 } from \"@/components/admin/shared-v2/ImageUploadV2\";\nimport { V2SectionEditorProps } from \"./types\";\nimport type { ConversionSettings } from \"@/lib/cms-v2/cms-types\";\n\n// Defaults para evitar undefined\nconst DEFAULT_COUNTDOWN: ConversionSettings['countdown'] = {\n  enabled: false,\n  mode: 'deadline',\n  deadline: '',\n  evergreenHours: 24,\n  label: 'Oferta termina em:',\n  showInPlans: true,\n  showInCtaFinal: true,\n  expiredText: '',\n};\n\nconst DEFAULT_EXIT: ConversionSettings['exitIntent'] = {\n  enabled: false,\n  title: 'Espera! Antes de ir...',\n  text: 'Garanta um desconto especial na sua primeira limpeza',\n  ctaText: 'Quero meu desconto',\n  ctaLink: '/checkout',\n  dismissText: 'Nao, obrigado',\n  frequency: 'session',\n  delaySeconds: 5,\n};\n\nconst DEFAULT_SOCIAL: ConversionSettings['socialProof'] = {\n  enabled: false,\n  items: [],\n  intervalSeconds: 20,\n  maxPerVisit: 5,\n  position: 'bottom-left',\n};\n\nexport const ConversionEditorV2 = memo(({ draft, updateField, updateSection }: V2SectionEditorProps) => {\n  const conv = draft.conversion || { couponCode: '', countdown: DEFAULT_COUNTDOWN, exitIntent: DEFAULT_EXIT, socialProof: DEFAULT_SOCIAL };\n  const countdown = conv.countdown || DEFAULT_COUNTDOWN;\n  const exitIntent = conv.exitIntent || DEFAULT_EXIT;\n  const socialProof = conv.socialProof || DEFAULT_SOCIAL;\n\n  const updateConv = (field: string, value: unknown) => {\n    updateSection('conversion' as any, { ...conv, [field]: value });\n  };\n\n  const updateCountdown = (field: string, value: unknown) => {\n    updateSection('conversion' as any, {\n      ...conv,\n      countdown: { ...countdown, [field]: value },\n    });\n  };\n\n  const updateExit = (field: string, value: unknown) => {\n    updateSection('conversion' as any, {\n      ...conv,\n      exitIntent: { ...exitIntent, [field]: value },\n    });\n  };\n\n  const updateSocial = (field: string, value: unknown) => {\n    updateSection('conversion' as any, {\n      ...conv,\n      socialProof: { ...socialProof, [field]: value },\n    });\n  };\n\n  const addSocialItem = () => {\n    updateSocial('items', [\n      ...socialProof.items,\n      { name: '', city: '', plan: '', timeAgo: '', message: '' },\n    ]);\n  };\n\n  const removeSocialItem = (index: number) => {\n    updateSocial('items', socialProof.items.filter((_, i) => i !== index));\n  };\n\n  const updateSocialItem = (index: number, field: string, value: string) => {\n    const newItems = [...socialProof.items];\n    newItems[index] = { ...newItems[index], [field]: value };\n    updateSocial('items', newItems);\n  };\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      <h2 className=\"text-2xl font-bold text-foreground mb-4\">Conversao</h2>\n\n      {/* ============================================================ */}\n      {/* Cupom da Campanha */}\n      {/* ============================================================ */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <Label className=\"text-foreground font-semibold text-lg flex items-center gap-2\">\n          <Ticket className=\"h-5 w-5 text-accent\" />\n          Cupom da Campanha\n        </Label>\n        <p className=\"text-sm text-muted-foreground\">\n          Este cupom sera adicionado automaticamente aos links dos planos, exit intent e sticky CTA.\n          O cupom precisa existir no Stripe.\n        </p>\n        <DebouncedInputV2\n          value={conv.couponCode || ''}\n          onDebouncedChange={(v) => updateConv('couponCode', v)}\n          placeholder=\"Ex: PROMO25\"\n          className=\"input-admin font-mono uppercase\"\n        />\n      </div>\n\n      {/* ============================================================ */}\n      {/* Urgencia — Countdown Timer */}\n      {/* ============================================================ */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold text-lg flex items-center gap-2\">\n            <Timer className=\"h-5 w-5 text-orange-400\" />\n            Urgencia (Countdown)\n          </Label>\n          <div className=\"flex items-center gap-2\">\n            <Switch\n              checked={countdown.enabled}\n              onCheckedChange={(v) => updateCountdown('enabled', v)}\n            />\n            <Label className=\"text-foreground text-sm font-semibold\">\n              {countdown.enabled ? 'Ligado' : 'Desligado'}\n            </Label>\n          </div>\n        </div>\n\n        {countdown.enabled && (\n          <div className=\"space-y-4 pt-2\">\n            <div className=\"space-y-2\">\n              <Label className=\"text-foreground text-sm\">Modo</Label>\n              <Select\n                value={countdown.mode}\n                onValueChange={(v) => updateCountdown('mode', v)}\n              >\n                <SelectTrigger className=\"input-admin\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"deadline\">Deadline fixa (data/hora)</SelectItem>\n                  <SelectItem value=\"evergreen\">Evergreen (por visitante)</SelectItem>\n                  <SelectItem value=\"roundHour\">Proxima hora cheia (trafego pago)</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            {countdown.mode === 'deadline' && (\n              <div className=\"space-y-2\">\n                <Label className=\"text-foreground text-sm\">Data/Hora Limite</Label>\n                <input\n                  type=\"datetime-local\"\n                  value={countdown.deadline || ''}\n                  onChange={(e) => updateCountdown('deadline', e.target.value)}\n                  className=\"input-admin font-mono w-full px-4 py-2 rounded-lg bg-muted/20 text-foreground\"\n                />\n                <p className=\"text-xs text-muted-foreground\">Selecione a data e hora limite da oferta</p>\n              </div>\n            )}\n\n            {countdown.mode === 'evergreen' && (\n              <div className=\"space-y-2\">\n                <Label className=\"text-foreground text-sm\">Duracao (horas)</Label>\n                <div className=\"flex items-center gap-4\">\n                  <Slider\n                    value={[countdown.evergreenHours || 24]}\n                    onValueChange={([v]) => updateCountdown('evergreenHours', v)}\n                    min={1}\n                    max={72}\n                    step={1}\n                    className=\"flex-1\"\n                  />\n                  <span className=\"text-sm text-foreground font-mono w-12 text-right\">\n                    {countdown.evergreenHours || 24}h\n                  </span>\n                </div>\n                <p className=\"text-xs text-muted-foreground\">Cada visitante ve o timer a partir da primeira visita</p>\n              </div>\n            )}\n\n            {countdown.mode === 'roundHour' && (\n              <div className=\"space-y-2\">\n                <Label className=\"text-foreground text-sm\">Horas a frente</Label>\n                <div className=\"flex items-center gap-4\">\n                  <Slider\n                    value={[countdown.roundHourAhead || 2]}\n                    onValueChange={([v]) => updateCountdown('roundHourAhead', v)}\n                    min={1}\n                    max={6}\n                    step={1}\n                    className=\"flex-1\"\n                  />\n                  <span className=\"text-sm text-foreground font-mono w-12 text-right\">\n                    {countdown.roundHourAhead || 2}h\n                  </span>\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  Timer conta ate a proxima hora cheia. Ex: visitante entra 15:37 com 2h → expira as 17:00. Ideal para trafego pago.\n                </p>\n              </div>\n            )}\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-foreground text-sm\">Texto antes do timer</Label>\n              <DebouncedInputV2\n                value={countdown.label || ''}\n                onDebouncedChange={(v) => updateCountdown('label', v)}\n                placeholder=\"Oferta termina em:\"\n                className=\"input-admin\"\n              />\n            </div>\n\n            <div className=\"flex gap-6\">\n              <div className=\"flex items-center gap-2\">\n                <Switch\n                  checked={countdown.showInPlans}\n                  onCheckedChange={(v) => updateCountdown('showInPlans', v)}\n                />\n                <Label className=\"text-foreground text-sm\">Mostrar nos Planos</Label>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Switch\n                  checked={countdown.showInCtaFinal}\n                  onCheckedChange={(v) => updateCountdown('showInCtaFinal', v)}\n                />\n                <Label className=\"text-foreground text-sm\">Mostrar no CTA Final</Label>\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-foreground text-sm\">Texto quando expirar (opcional)</Label>\n              <DebouncedInputV2\n                value={countdown.expiredText || ''}\n                onDebouncedChange={(v) => updateCountdown('expiredText', v)}\n                placeholder=\"Oferta encerrada\"\n                className=\"input-admin\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-foreground text-sm flex items-center gap-2\">\n                <Palette className=\"h-3.5 w-3.5\" />\n                Cor de urgencia (opcional)\n              </Label>\n              <div className=\"flex items-center gap-3\">\n                <input\n                  type=\"color\"\n                  value={countdown.urgencyColor || '#DC2626'}\n                  onChange={(e) => updateCountdown('urgencyColor', e.target.value)}\n                  className=\"w-10 h-10 rounded-lg border border-border cursor-pointer\"\n                />\n                <DebouncedInputV2\n                  value={countdown.urgencyColor || ''}\n                  onDebouncedChange={(v) => updateCountdown('urgencyColor', v)}\n                  placeholder=\"Vazio = cor accent do tema\"\n                  className=\"input-admin font-mono flex-1\"\n                />\n                {countdown.urgencyColor && (\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => updateCountdown('urgencyColor', '')}\n                    className=\"text-xs\"\n                  >\n                    Limpar\n                  </Button>\n                )}\n              </div>\n              <p className=\"text-xs text-muted-foreground\">Deixe vazio para usar a cor accent do tema. Use vermelho (#DC2626) para urgencia.</p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* ============================================================ */}\n      {/* Retencao — Exit Intent */}\n      {/* ============================================================ */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold text-lg flex items-center gap-2\">\n            <ShieldAlert className=\"h-5 w-5 text-red-400\" />\n            Retencao (Exit Intent)\n          </Label>\n          <div className=\"flex items-center gap-2\">\n            <Switch\n              checked={exitIntent.enabled}\n              onCheckedChange={(v) => updateExit('enabled', v)}\n            />\n            <Label className=\"text-foreground text-sm font-semibold\">\n              {exitIntent.enabled ? 'Ligado' : 'Desligado'}\n            </Label>\n          </div>\n        </div>\n\n        {exitIntent.enabled && (\n          <div className=\"space-y-4 pt-2\">\n            <div className=\"space-y-2\">\n              <Label className=\"text-foreground text-sm\">Titulo do Popup</Label>\n              <DebouncedInputV2\n                value={exitIntent.title}\n                onDebouncedChange={(v) => updateExit('title', v)}\n                placeholder=\"Espera! Antes de ir...\"\n                className=\"input-admin\"\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                Use **texto** para negrito e {'{{texto}}'} para destaque colorido.\n              </p>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-foreground text-sm\">Texto</Label>\n              <DebouncedTextareaV2\n                value={exitIntent.text}\n                onDebouncedChange={(v) => updateExit('text', v)}\n                placeholder=\"Garanta 15% de desconto na sua primeira limpeza\"\n                className=\"input-admin\"\n                rows={3}\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                Use **texto** para negrito, {'{{texto}}'} para destaque e quebra de linha com Enter.\n              </p>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              <Switch\n                checked={exitIntent.titleUppercase !== false}\n                onCheckedChange={(v) => updateExit('titleUppercase', v)}\n              />\n              <Label className=\"text-foreground text-sm\">Titulo em MAIUSCULAS</Label>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label className=\"text-foreground text-sm\">Texto do Botao CTA</Label>\n                <DebouncedInputV2\n                  value={exitIntent.ctaText}\n                  onDebouncedChange={(v) => updateExit('ctaText', v)}\n                  placeholder=\"Quero meu desconto\"\n                  className=\"input-admin\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"text-foreground text-sm\">Link do CTA</Label>\n                <DebouncedInputV2\n                  value={exitIntent.ctaLink}\n                  onDebouncedChange={(v) => updateExit('ctaLink', v)}\n                  placeholder=\"/checkout\"\n                  className=\"input-admin font-mono\"\n                />\n                <p className=\"text-xs text-muted-foreground\">O cupom da campanha sera adicionado automaticamente</p>\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-foreground text-sm\">Texto de dispensa</Label>\n              <DebouncedInputV2\n                value={exitIntent.dismissText || ''}\n                onDebouncedChange={(v) => updateExit('dismissText', v)}\n                placeholder=\"Nao, obrigado\"\n                className=\"input-admin\"\n              />\n              <p className=\"text-xs text-muted-foreground\">Texto do link para fechar o popup sem converter</p>\n            </div>\n\n            {/* Imagem do Popup (opcional) */}\n            <div className=\"bg-muted/10 rounded-xl p-4 space-y-3\">\n              <Label className=\"text-foreground text-sm font-semibold\">\n                Imagem do Popup (opcional)\n              </Label>\n              <div className=\"flex flex-wrap gap-6 justify-center\">\n                <ImageUploadV2\n                  label=\"Imagem do Popup\"\n                  recommendedSize=\"800 × 600\"\n                  value={exitIntent.imageUrl || ''}\n                  onChange={(url) => updateExit('imageUrl', url)}\n                />\n              </div>\n              {exitIntent.imageUrl?.trim() && (\n                <div className=\"space-y-2\">\n                  <Label className=\"text-foreground text-xs\">Posicao da Imagem</Label>\n                  <Select\n                    value={exitIntent.imagePosition || 'top'}\n                    onValueChange={(v) => updateExit('imagePosition', v)}\n                  >\n                    <SelectTrigger className=\"input-admin\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"top\">Topo (acima do texto)</SelectItem>\n                      <SelectItem value=\"left\">Lateral esquerda (desktop)</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n              )}\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label className=\"text-foreground text-sm\">Frequencia</Label>\n                <Select\n                  value={exitIntent.frequency}\n                  onValueChange={(v) => updateExit('frequency', v)}\n                >\n                  <SelectTrigger className=\"input-admin\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"session\">1x por sessao</SelectItem>\n                    <SelectItem value=\"day\">1x por dia</SelectItem>\n                    <SelectItem value=\"week\">1x por semana</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"text-foreground text-sm\">Delay minimo (segundos)</Label>\n                <div className=\"flex items-center gap-4\">\n                  <Slider\n                    value={[exitIntent.delaySeconds || 5]}\n                    onValueChange={([v]) => updateExit('delaySeconds', v)}\n                    min={0}\n                    max={30}\n                    step={1}\n                    className=\"flex-1\"\n                  />\n                  <span className=\"text-sm text-foreground font-mono w-8 text-right\">\n                    {exitIntent.delaySeconds || 5}s\n                  </span>\n                </div>\n                <p className=\"text-xs text-muted-foreground\">So mostra se o visitante ficou pelo menos X segundos</p>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* ============================================================ */}\n      {/* Prova Social — Toasts */}\n      {/* ============================================================ */}\n      <div className=\"bg-muted/20 rounded-2xl p-6 space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-foreground font-semibold text-lg flex items-center gap-2\">\n            <Trophy className=\"h-5 w-5 text-yellow-400\" />\n            Prova Social (Toasts)\n          </Label>\n          <div className=\"flex items-center gap-2\">\n            <Switch\n              checked={socialProof.enabled}\n              onCheckedChange={(v) => updateSocial('enabled', v)}\n            />\n            <Label className=\"text-foreground text-sm font-semibold\">\n              {socialProof.enabled ? 'Ligado' : 'Desligado'}\n            </Label>\n          </div>\n        </div>\n\n        {socialProof.enabled && (\n          <div className=\"space-y-4 pt-2\">\n            {/* Mensagens */}\n            <div className=\"space-y-3\">\n              <Label className=\"text-foreground text-sm font-semibold\">\n                Mensagens ({socialProof.items.length})\n              </Label>\n\n              {socialProof.items.map((item, index) => (\n                <div key={index} className=\"space-y-2 bg-muted/10 rounded-lg p-3\">\n                  <div className=\"grid grid-cols-[1fr_1fr_1fr_1fr_auto] gap-2 items-end\">\n                    <div className=\"space-y-1\">\n                      {index === 0 && <Label className=\"text-foreground text-xs\">Nome</Label>}\n                      <DebouncedInputV2\n                        value={item.name}\n                        onDebouncedChange={(v) => updateSocialItem(index, 'name', v)}\n                        placeholder=\"Maria\"\n                        className=\"input-admin text-sm\"\n                      />\n                    </div>\n                    <div className=\"space-y-1\">\n                      {index === 0 && <Label className=\"text-foreground text-xs\">Cidade</Label>}\n                      <DebouncedInputV2\n                        value={item.city}\n                        onDebouncedChange={(v) => updateSocialItem(index, 'city', v)}\n                        placeholder=\"Sao Paulo\"\n                        className=\"input-admin text-sm\"\n                      />\n                    </div>\n                    <div className=\"space-y-1\">\n                      {index === 0 && <Label className=\"text-foreground text-xs\">Plano</Label>}\n                      <DebouncedInputV2\n                        value={item.plan}\n                        onDebouncedChange={(v) => updateSocialItem(index, 'plan', v)}\n                        placeholder=\"Gold\"\n                        className=\"input-admin text-sm\"\n                      />\n                    </div>\n                    <div className=\"space-y-1\">\n                      {index === 0 && <Label className=\"text-foreground text-xs\">Tempo</Label>}\n                      <DebouncedInputV2\n                        value={item.timeAgo}\n                        onDebouncedChange={(v) => updateSocialItem(index, 'timeAgo', v)}\n                        placeholder=\"3 min\"\n                        className=\"input-admin text-sm\"\n                      />\n                    </div>\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      onClick={() => removeSocialItem(index)}\n                      className=\"h-9 w-9 text-destructive hover:text-destructive\"\n                    >\n                      <Trash2 className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                  <div className=\"space-y-1\">\n                    <Label className=\"text-foreground text-xs\">Mensagem customizada (opcional)</Label>\n                    <DebouncedInputV2\n                      value={item.message || ''}\n                      onDebouncedChange={(v) => updateSocialItem(index, 'message', v)}\n                      placeholder=\"Substitui o template padrao. Ex: Maria acabou de contratar!\"\n                      className=\"input-admin text-sm\"\n                    />\n                  </div>\n                </div>\n              ))}\n\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={addSocialItem}\n                className=\"gap-1.5\"\n              >\n                <Plus className=\"h-3.5 w-3.5\" />\n                Adicionar mensagem\n              </Button>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2\">\n              <div className=\"space-y-2\">\n                <Label className=\"text-foreground text-sm\">Intervalo (segundos)</Label>\n                <div className=\"flex items-center gap-4\">\n                  <Slider\n                    value={[socialProof.intervalSeconds || 20]}\n                    onValueChange={([v]) => updateSocial('intervalSeconds', v)}\n                    min={10}\n                    max={60}\n                    step={5}\n                    className=\"flex-1\"\n                  />\n                  <span className=\"text-sm text-foreground font-mono w-8 text-right\">\n                    {socialProof.intervalSeconds || 20}s\n                  </span>\n                </div>\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"text-foreground text-sm\">Duracao do toast (segundos)</Label>\n                <div className=\"flex items-center gap-4\">\n                  <Slider\n                    value={[socialProof.toastDuration || 4]}\n                    onValueChange={([v]) => updateSocial('toastDuration', v)}\n                    min={2}\n                    max={10}\n                    step={1}\n                    className=\"flex-1\"\n                  />\n                  <span className=\"text-sm text-foreground font-mono w-8 text-right\">\n                    {socialProof.toastDuration || 4}s\n                  </span>\n                </div>\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"text-foreground text-sm\">Max por visita</Label>\n                <div className=\"flex items-center gap-4\">\n                  <Slider\n                    value={[socialProof.maxPerVisit || 5]}\n                    onValueChange={([v]) => updateSocial('maxPerVisit', v)}\n                    min={1}\n                    max={15}\n                    step={1}\n                    className=\"flex-1\"\n                  />\n                  <span className=\"text-sm text-foreground font-mono w-8 text-right\">\n                    {socialProof.maxPerVisit || 5}\n                  </span>\n                </div>\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"text-foreground text-sm\">Posicao</Label>\n                <Select\n                  value={socialProof.position || 'bottom-left'}\n                  onValueChange={(v) => updateSocial('position', v)}\n                >\n                  <SelectTrigger className=\"input-admin\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"bottom-left\">Inferior Esquerdo</SelectItem>\n                    <SelectItem value=\"bottom-right\">Inferior Direito</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});\n\nConversionEditorV2.displayName = 'ConversionEditorV2';\n","import { memo } from 'react';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport { Button } from '@/components/ui/button';\nimport { Plus, Trash2, Menu } from 'lucide-react';\nimport { DebouncedInputV2 } from '@/components/admin/shared-v2/DebouncedInputV2';\nimport { ImageUploadV2 } from '@/components/admin/shared-v2/ImageUploadV2';\nimport { V2SectionEditorProps } from './types';\nimport type { GlobalMenuSettings } from '@/lib/cms-v2/cms-types';\n\nconst DEFAULT_MENU: GlobalMenuSettings = {\n  enabled: false,\n  logoUrl: '',\n  links: [],\n};\n\nexport const GlobalMenuEditorV2 = memo(({ draft, updateSection }: V2SectionEditorProps) => {\n  const menu = draft.globalMenu || DEFAULT_MENU;\n\n  const updateMenu = (field: string, value: unknown) => {\n    updateSection('globalMenu' as any, { ...menu, [field]: value });\n  };\n\n  const addLink = () => {\n    updateMenu('links', [...(menu.links || []), { text: '', url: '' }]);\n  };\n\n  const removeLink = (index: number) => {\n    updateMenu('links', (menu.links || []).filter((_: unknown, i: number) => i !== index));\n  };\n\n  const updateLink = (index: number, field: string, value: string) => {\n    const newLinks = [...(menu.links || [])];\n    newLinks[index] = { ...newLinks[index], [field]: value };\n    updateMenu('links', newLinks);\n  };\n\n  return (\n    <div className=\"glass-primitive rounded-3xl p-10 space-y-6\">\n      {/* Header com toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-xl font-semibold text-foreground flex items-center gap-2\">\n          <Menu className=\"h-5 w-5\" />\n          Menu Global\n        </h2>\n        <div className=\"flex items-center gap-2\">\n          <Label htmlFor=\"globalMenu-enabled\" className=\"text-sm font-normal\">Ativado</Label>\n          <Switch\n            id=\"globalMenu-enabled\"\n            checked={menu.enabled}\n            onCheckedChange={(v) => updateMenu('enabled', v)}\n          />\n        </div>\n      </div>\n\n      <p className=\"text-sm text-muted-foreground\">\n        Header fixo translucido com logo e links de navegacao. Aparece no topo da LP.\n      </p>\n\n      {menu.enabled && (\n        <div className=\"space-y-6 pt-2\">\n          {/* Logo */}\n          <div className=\"space-y-3\">\n            <Label className=\"text-foreground font-semibold\">Logo do Menu</Label>\n            <p className=\"text-xs text-muted-foreground\">\n              Se vazio, usa o logo do Footer automaticamente.\n            </p>\n            <ImageUploadV2\n              label=\"Logo\"\n              recommendedSize=\"200 x 40\"\n              value={menu.logoUrl || ''}\n              onChange={(url) => updateMenu('logoUrl', url)}\n            />\n          </div>\n\n          {/* Links */}\n          <div className=\"space-y-3\">\n            <Label className=\"text-foreground font-semibold\">\n              Links de Navegacao ({(menu.links || []).length})\n            </Label>\n            <p className=\"text-xs text-muted-foreground\">\n              Visiveis apenas em desktop. Use anchors como #plans, #faq, etc.\n            </p>\n\n            {(menu.links || []).map((link, index) => (\n              <div key={index} className=\"grid grid-cols-[1fr_1fr_auto] gap-2 items-end\">\n                <div className=\"space-y-1\">\n                  {index === 0 && <Label className=\"text-foreground text-xs\">Texto</Label>}\n                  <DebouncedInputV2\n                    value={link.text}\n                    onDebouncedChange={(v) => updateLink(index, 'text', v)}\n                    placeholder=\"Ex: Planos\"\n                    className=\"input-admin text-sm\"\n                  />\n                </div>\n                <div className=\"space-y-1\">\n                  {index === 0 && <Label className=\"text-foreground text-xs\">Link</Label>}\n                  <DebouncedInputV2\n                    value={link.url}\n                    onDebouncedChange={(v) => updateLink(index, 'url', v)}\n                    placeholder=\"Ex: #plans\"\n                    className=\"input-admin text-sm font-mono\"\n                  />\n                </div>\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  onClick={() => removeLink(index)}\n                  className=\"h-9 w-9 text-destructive hover:text-destructive\"\n                >\n                  <Trash2 className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            ))}\n\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={addLink}\n              className=\"gap-1.5\"\n            >\n              <Plus className=\"h-3.5 w-3.5\" />\n              Adicionar link\n            </Button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\nGlobalMenuEditorV2.displayName = 'GlobalMenuEditorV2';\n","import { memo } from 'react';\nimport type { V2SectionEditorProps } from './types';\nimport type { SpeakersSection } from '@/lib/cms-v2/cms-types';\nimport { DebouncedInputV2 } from '@/components/admin/shared-v2/DebouncedInputV2';\nimport { DebouncedTextareaV2 } from '@/components/admin/shared-v2/DebouncedTextareaV2';\nimport { ImageUploadV2 } from '@/components/admin/shared-v2/ImageUploadV2';\nimport { SectionCTAEditorV2 } from '@/components/admin/shared-v2/SectionCTAEditorV2';\nimport { Switch } from '@/components/ui/switch';\nimport { Label } from '@/components/ui/label';\nimport { Button } from '@/components/ui/button';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport {\n  Plus,\n  Trash2,\n  ChevronUp,\n  ChevronDown,\n  Instagram,\n  Linkedin,\n  Globe,\n  Mic2,\n} from 'lucide-react';\n\nexport const SpeakersEditorV2 = memo(({ draft, updateSection }: V2SectionEditorProps) => {\n  const section = (draft.speakers ?? {}) as SpeakersSection;\n  const items = section.items || [];\n\n  const update = (changes: Partial<SpeakersSection>) => {\n    updateSection('speakers', { ...section, ...changes });\n  };\n\n  const addItem = () => {\n    update({\n      items: [\n        ...items,\n        { name: '', role: '', bio: '', image: '', socials: { instagram: '', linkedin: '', website: '' } },\n      ],\n    });\n  };\n\n  const removeItem = (index: number) => {\n    update({ items: items.filter((_, i) => i !== index) });\n  };\n\n  const moveItem = (index: number, direction: 'up' | 'down') => {\n    const newItems = [...items];\n    const target = direction === 'up' ? index - 1 : index + 1;\n    if (target < 0 || target >= newItems.length) return;\n    [newItems[index], newItems[target]] = [newItems[target], newItems[index]];\n    update({ items: newItems });\n  };\n\n  const updateItem = (index: number, field: string, value: string) => {\n    const newItems = [...items];\n    newItems[index] = { ...newItems[index], [field]: value };\n    update({ items: newItems });\n  };\n\n  const updateSocial = (index: number, platform: string, value: string) => {\n    const newItems = [...items];\n    newItems[index] = {\n      ...newItems[index],\n      socials: { ...newItems[index].socials, [platform]: value },\n    };\n    update({ items: newItems });\n  };\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Header + Toggle */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <Mic2 className=\"h-5 w-5 text-accent\" />\n          <h3 className=\"text-lg font-bold text-foreground\">Palestrantes</h3>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Label htmlFor=\"speakers-enabled\" className=\"text-sm text-muted-foreground\">\n            Ativa\n          </Label>\n          <Switch\n            id=\"speakers-enabled\"\n            checked={section.enabled ?? false}\n            onCheckedChange={(v) => update({ enabled: v })}\n          />\n        </div>\n      </div>\n\n      {/* Titulo */}\n      <div className=\"space-y-2\">\n        <Label>Titulo</Label>\n        <DebouncedInputV2\n          value={section.title || ''}\n          onDebouncedChange={(v) => update({ title: v })}\n          placeholder=\"Ex: Nossos Palestrantes\"\n        />\n      </div>\n\n      {/* Subtitulo */}\n      <div className=\"space-y-2\">\n        <Label>Subtitulo</Label>\n        <DebouncedInputV2\n          value={section.subtitle || ''}\n          onDebouncedChange={(v) => update({ subtitle: v })}\n          placeholder=\"Opcional\"\n        />\n      </div>\n\n      {/* Layout */}\n      <div className=\"space-y-2\">\n        <Label>Layout</Label>\n        <Select\n          value={section.layout || 'grid'}\n          onValueChange={(v) => update({ layout: v as 'grid' | 'featured' })}\n        >\n          <SelectTrigger>\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"grid\">Grid (todos iguais)</SelectItem>\n            <SelectItem value=\"featured\">Featured (primeiro maior)</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      {/* Palestrantes */}\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-base font-semibold\">\n            Palestrantes ({items.length})\n          </Label>\n          <Button variant=\"outline\" size=\"sm\" onClick={addItem}>\n            <Plus className=\"h-4 w-4 mr-1\" />\n            Adicionar\n          </Button>\n        </div>\n\n        {items.length === 0 && (\n          <p className=\"text-sm text-muted-foreground text-center py-8 border border-dashed border-border rounded-lg\">\n            Nenhum palestrante. Clique em \"Adicionar\" para comecar.\n          </p>\n        )}\n\n        {items.map((item, index) => (\n          <div\n            key={index}\n            className=\"p-5 border border-border/40 rounded-xl bg-background/50 space-y-4\"\n          >\n            {/* Header do card */}\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-sm font-semibold text-foreground\">\n                #{index + 1} {item.name || 'Palestrante'}\n              </span>\n              <div className=\"flex items-center gap-1\">\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-7 w-7\"\n                  onClick={() => moveItem(index, 'up')}\n                  disabled={index === 0}\n                >\n                  <ChevronUp className=\"h-4 w-4\" />\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-7 w-7\"\n                  onClick={() => moveItem(index, 'down')}\n                  disabled={index === items.length - 1}\n                >\n                  <ChevronDown className=\"h-4 w-4\" />\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-7 w-7 text-destructive hover:text-destructive\"\n                  onClick={() => removeItem(index)}\n                >\n                  <Trash2 className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            </div>\n\n            {/* Foto */}\n            <ImageUploadV2\n              value={item.image}\n              onChange={(url) => updateItem(index, 'image', url)}\n              label=\"Foto do palestrante\"\n              recommendedSize=\"400x400px (quadrado)\"\n            />\n\n            {/* Nome */}\n            <div className=\"space-y-1\">\n              <Label className=\"text-xs\">Nome</Label>\n              <DebouncedInputV2\n                value={item.name || ''}\n                onDebouncedChange={(v) => updateItem(index, 'name', v)}\n                placeholder=\"Nome completo\"\n              />\n            </div>\n\n            {/* Cargo */}\n            <div className=\"space-y-1\">\n              <Label className=\"text-xs\">Cargo / Papel</Label>\n              <DebouncedInputV2\n                value={item.role || ''}\n                onDebouncedChange={(v) => updateItem(index, 'role', v)}\n                placeholder=\"Ex: CEO, Palestrante, Especialista\"\n              />\n            </div>\n\n            {/* Bio */}\n            <div className=\"space-y-1\">\n              <Label className=\"text-xs\">Bio</Label>\n              <DebouncedTextareaV2\n                value={item.bio || ''}\n                onDebouncedChange={(v) => updateItem(index, 'bio', v)}\n                placeholder=\"Breve descricao do palestrante...\"\n                rows={3}\n              />\n              <p className=\"text-[11px] text-muted-foreground\">\n                Use **texto** para negrito e {'{{texto}}'} para destaque colorido\n              </p>\n            </div>\n\n            {/* Redes sociais */}\n            <div className=\"space-y-3 pt-2 border-t border-border/30\">\n              <Label className=\"text-xs font-semibold\">Redes Sociais (opcional)</Label>\n              <div className=\"grid grid-cols-1 gap-3\">\n                <div className=\"flex items-center gap-2\">\n                  <Instagram className=\"h-4 w-4 text-muted-foreground shrink-0\" />\n                  <DebouncedInputV2\n                    value={item.socials?.instagram || ''}\n                    onDebouncedChange={(v) => updateSocial(index, 'instagram', v)}\n                    placeholder=\"https://instagram.com/...\"\n                    className=\"flex-1\"\n                  />\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <Linkedin className=\"h-4 w-4 text-muted-foreground shrink-0\" />\n                  <DebouncedInputV2\n                    value={item.socials?.linkedin || ''}\n                    onDebouncedChange={(v) => updateSocial(index, 'linkedin', v)}\n                    placeholder=\"https://linkedin.com/in/...\"\n                    className=\"flex-1\"\n                  />\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <Globe className=\"h-4 w-4 text-muted-foreground shrink-0\" />\n                  <DebouncedInputV2\n                    value={item.socials?.website || ''}\n                    onDebouncedChange={(v) => updateSocial(index, 'website', v)}\n                    placeholder=\"https://...\"\n                    className=\"flex-1\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Footer CTA */}\n      <SectionCTAEditorV2\n        sectionTitle=\"Palestrantes\"\n        ctaData={section.footerCta}\n        onUpdate={(updates) =>\n          update({ footerCta: { ...section.footerCta!, ...updates } })\n        }\n      />\n    </div>\n  );\n});\n\nSpeakersEditorV2.displayName = 'SpeakersEditorV2';\n","import { memo } from 'react';\nimport type { V2SectionEditorProps } from './types';\nimport type { SponsorsSection } from '@/lib/cms-v2/cms-types';\nimport { DebouncedInputV2 } from '@/components/admin/shared-v2/DebouncedInputV2';\nimport { ImageUploadV2 } from '@/components/admin/shared-v2/ImageUploadV2';\nimport { SectionCTAEditorV2 } from '@/components/admin/shared-v2/SectionCTAEditorV2';\nimport { Switch } from '@/components/ui/switch';\nimport { Label } from '@/components/ui/label';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport {\n  Plus,\n  Trash2,\n  ChevronUp,\n  ChevronDown,\n  Trophy,\n  Palette,\n} from 'lucide-react';\n\nexport const SponsorsEditorV2 = memo(({ draft, updateSection }: V2SectionEditorProps) => {\n  const section = (draft.sponsors ?? {}) as SponsorsSection;\n  const tiers = section.tiers || [];\n\n  const update = (changes: Partial<SponsorsSection>) => {\n    updateSection('sponsors', { ...section, ...changes });\n  };\n\n  // ---- Tier helpers ----\n  const addTier = () => {\n    update({\n      tiers: [\n        ...tiers,\n        { name: 'Novo Tier', enabled: true, color: '', logoHeight: 'md', items: [] },\n      ],\n    });\n  };\n\n  const removeTier = (index: number) => {\n    update({ tiers: tiers.filter((_, i) => i !== index) });\n  };\n\n  const moveTier = (index: number, direction: 'up' | 'down') => {\n    const newTiers = [...tiers];\n    const target = direction === 'up' ? index - 1 : index + 1;\n    if (target < 0 || target >= newTiers.length) return;\n    [newTiers[index], newTiers[target]] = [newTiers[target], newTiers[index]];\n    update({ tiers: newTiers });\n  };\n\n  const updateTier = (index: number, field: string, value: unknown) => {\n    const newTiers = [...tiers];\n    newTiers[index] = { ...newTiers[index], [field]: value };\n    update({ tiers: newTiers });\n  };\n\n  // ---- Item helpers (dentro de um tier) ----\n  const addSponsor = (tierIndex: number) => {\n    const newTiers = [...tiers];\n    newTiers[tierIndex] = {\n      ...newTiers[tierIndex],\n      items: [...newTiers[tierIndex].items, { name: '', logo: '', url: '' }],\n    };\n    update({ tiers: newTiers });\n  };\n\n  const removeSponsor = (tierIndex: number, itemIndex: number) => {\n    const newTiers = [...tiers];\n    newTiers[tierIndex] = {\n      ...newTiers[tierIndex],\n      items: newTiers[tierIndex].items.filter((_, i) => i !== itemIndex),\n    };\n    update({ tiers: newTiers });\n  };\n\n  const updateSponsor = (tierIndex: number, itemIndex: number, field: string, value: string) => {\n    const newTiers = [...tiers];\n    const newItems = [...newTiers[tierIndex].items];\n    newItems[itemIndex] = { ...newItems[itemIndex], [field]: value };\n    newTiers[tierIndex] = { ...newTiers[tierIndex], items: newItems };\n    update({ tiers: newTiers });\n  };\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Header + Toggle */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <Trophy className=\"h-5 w-5 text-accent\" />\n          <h3 className=\"text-lg font-bold text-foreground\">Patrocinadores</h3>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Label htmlFor=\"sponsors-enabled\" className=\"text-sm text-muted-foreground\">\n            Ativa\n          </Label>\n          <Switch\n            id=\"sponsors-enabled\"\n            checked={section.enabled ?? false}\n            onCheckedChange={(v) => update({ enabled: v })}\n          />\n        </div>\n      </div>\n\n      {/* Titulo */}\n      <div className=\"space-y-2\">\n        <Label>Titulo</Label>\n        <DebouncedInputV2\n          value={section.title || ''}\n          onDebouncedChange={(v) => update({ title: v })}\n          placeholder=\"Ex: Nossos Patrocinadores\"\n        />\n      </div>\n\n      {/* Subtitulo */}\n      <div className=\"space-y-2\">\n        <Label>Subtitulo</Label>\n        <DebouncedInputV2\n          value={section.subtitle || ''}\n          onDebouncedChange={(v) => update({ subtitle: v })}\n          placeholder=\"Opcional\"\n        />\n      </div>\n\n      {/* Tiers */}\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <Label className=\"text-base font-semibold\">\n            Categorias ({tiers.length})\n          </Label>\n          <Button variant=\"outline\" size=\"sm\" onClick={addTier}>\n            <Plus className=\"h-4 w-4 mr-1\" />\n            Adicionar Categoria\n          </Button>\n        </div>\n\n        {tiers.length === 0 && (\n          <p className=\"text-sm text-muted-foreground text-center py-8 border border-dashed border-border rounded-lg\">\n            Nenhuma categoria. Clique em \"Adicionar Categoria\" para comecar.\n          </p>\n        )}\n\n        {tiers.map((tier, tierIndex) => (\n          <div\n            key={tierIndex}\n            className=\"border border-border/40 rounded-xl bg-background/50 overflow-hidden\"\n          >\n            {/* Tier header */}\n            <div\n              className=\"flex items-center justify-between p-4 border-b border-border/30\"\n              style={\n                tier.color\n                  ? { borderLeftWidth: 4, borderLeftColor: tier.color }\n                  : undefined\n              }\n            >\n              <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n                <Switch\n                  checked={tier.enabled}\n                  onCheckedChange={(v) => updateTier(tierIndex, 'enabled', v)}\n                />\n                <DebouncedInputV2\n                  value={tier.name || ''}\n                  onDebouncedChange={(v) => updateTier(tierIndex, 'name', v)}\n                  placeholder=\"Nome da categoria\"\n                  className=\"max-w-[200px] h-8 text-sm font-semibold\"\n                />\n              </div>\n              <div className=\"flex items-center gap-1\">\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-7 w-7\"\n                  onClick={() => moveTier(tierIndex, 'up')}\n                  disabled={tierIndex === 0}\n                >\n                  <ChevronUp className=\"h-4 w-4\" />\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-7 w-7\"\n                  onClick={() => moveTier(tierIndex, 'down')}\n                  disabled={tierIndex === tiers.length - 1}\n                >\n                  <ChevronDown className=\"h-4 w-4\" />\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-7 w-7 text-destructive hover:text-destructive\"\n                  onClick={() => removeTier(tierIndex)}\n                >\n                  <Trash2 className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            </div>\n\n            {/* Tier config */}\n            <div className=\"p-4 space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                {/* Cor */}\n                <div className=\"space-y-1\">\n                  <Label className=\"text-xs flex items-center gap-1.5\">\n                    <Palette className=\"h-3.5 w-3.5\" />\n                    Cor do tier\n                  </Label>\n                  <div className=\"flex items-center gap-2\">\n                    <Input\n                      type=\"color\"\n                      value={tier.color || '#888888'}\n                      onChange={(e) => updateTier(tierIndex, 'color', e.target.value)}\n                      className=\"w-10 h-8 p-1 cursor-pointer\"\n                    />\n                    <DebouncedInputV2\n                      value={tier.color || ''}\n                      onDebouncedChange={(v) => updateTier(tierIndex, 'color', v)}\n                      placeholder=\"#FFFFFF\"\n                      className=\"flex-1 h-8 text-xs font-mono\"\n                    />\n                  </div>\n                </div>\n\n                {/* Tamanho */}\n                <div className=\"space-y-1\">\n                  <Label className=\"text-xs\">Tamanho dos logos</Label>\n                  <Select\n                    value={tier.logoHeight || 'md'}\n                    onValueChange={(v) => updateTier(tierIndex, 'logoHeight', v)}\n                  >\n                    <SelectTrigger className=\"h-8 text-xs\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"sm\">Pequeno (48px)</SelectItem>\n                      <SelectItem value=\"md\">Medio (80px)</SelectItem>\n                      <SelectItem value=\"lg\">Grande (120px)</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n\n              {/* Sponsors do tier */}\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <Label className=\"text-xs font-semibold\">\n                    Patrocinadores ({tier.items.length})\n                  </Label>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"h-7 text-xs\"\n                    onClick={() => addSponsor(tierIndex)}\n                  >\n                    <Plus className=\"h-3.5 w-3.5 mr-1\" />\n                    Adicionar\n                  </Button>\n                </div>\n\n                {tier.items.length === 0 && (\n                  <p className=\"text-xs text-muted-foreground text-center py-4 border border-dashed border-border/50 rounded-lg\">\n                    Nenhum patrocinador neste tier.\n                  </p>\n                )}\n\n                {tier.items.map((sponsor, sponsorIndex) => (\n                  <div\n                    key={sponsorIndex}\n                    className=\"flex items-start gap-3 p-3 border border-border/30 rounded-lg bg-background/30\"\n                  >\n                    {/* Logo upload */}\n                    <div className=\"shrink-0 w-24\">\n                      <ImageUploadV2\n                        value={sponsor.logo}\n                        onChange={(url) => updateSponsor(tierIndex, sponsorIndex, 'logo', url)}\n                        label=\"Logo\"\n                        recommendedSize=\"200x100px\"\n                      />\n                    </div>\n\n                    {/* Campos */}\n                    <div className=\"flex-1 space-y-2 min-w-0\">\n                      <DebouncedInputV2\n                        value={sponsor.name || ''}\n                        onDebouncedChange={(v) =>\n                          updateSponsor(tierIndex, sponsorIndex, 'name', v)\n                        }\n                        placeholder=\"Nome do patrocinador\"\n                        className=\"h-8 text-sm\"\n                      />\n                      <DebouncedInputV2\n                        value={sponsor.url || ''}\n                        onDebouncedChange={(v) =>\n                          updateSponsor(tierIndex, sponsorIndex, 'url', v)\n                        }\n                        placeholder=\"Link (opcional)\"\n                        className=\"h-8 text-xs\"\n                      />\n                    </div>\n\n                    {/* Remove */}\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-7 w-7 shrink-0 text-destructive hover:text-destructive\"\n                      onClick={() => removeSponsor(tierIndex, sponsorIndex)}\n                    >\n                      <Trash2 className=\"h-3.5 w-3.5\" />\n                    </Button>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Footer CTA */}\n      <SectionCTAEditorV2\n        sectionTitle=\"Patrocinadores\"\n        ctaData={section.footerCta}\n        onUpdate={(updates) =>\n          update({ footerCta: { ...section.footerCta!, ...updates } })\n        }\n      />\n    </div>\n  );\n});\n\nSponsorsEditorV2.displayName = 'SponsorsEditorV2';\n","import { useState, useEffect } from 'react';\nimport { useParams, Navigate, useNavigate } from 'react-router-dom';\nimport { useAdminEditorV2Production } from '@/hooks/cms/useAdminEditorV2Production';\nimport { Button } from '@/components/ui/button';\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from '@/components/ui/collapsible';\nimport {\n  Save,\n  Eye,\n  RefreshCw,\n  AlertCircle,\n  Loader2,\n  ArrowLeft,\n  ChevronRight,\n  // Configuracoes icons\n  ListOrdered,\n  MessageSquare,\n  Palette,\n  Search,\n  Target,\n  Zap,\n  // Secoes icons\n  Sparkles,\n  Award,\n  Compass,\n  CreditCard,\n  MessageCircle,\n  BarChart3,\n  Info,\n  Mail,\n  ImageIcon,\n  Route,\n  ShoppingBag,\n  Video,\n  PlayCircle,\n  CheckCircle2,\n  Megaphone,\n  HelpCircle,\n  ClipboardList,\n  Users,\n  LayoutGrid,\n  History,\n  Menu,\n  Mic2,\n  Trophy,\n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport { SaveStatusHUDV2 } from '@/components/admin/shared-v2/SaveStatusHUDV2';\nimport type { LucideIcon } from 'lucide-react';\nimport { CMSHistoryPanel } from '@/components/admin/CMSHistoryPanel';\nimport { PreviewDrawerV2 } from '@/components/admin/preview-v2/PreviewDrawerV2';\n\n// Editores V2 — 100% isolados, zero imports V1\nimport {\n  HeroEditorV2,\n  BenefitsEditorV2,\n  HowItWorksEditorV2,\n  BeforeAfterEditorV2,\n  ProcessEditorV2,\n  ForWhomEditorV2,\n  ServicesEditorV2,\n  PlansEditorV2,\n  VideoEditorV2,\n  VideoCarouselEditorV2,\n  WhyChooseEditorV2,\n  TestimonialsEditorV2,\n  AboutEditorV2,\n  FAQEditorV2,\n  CTAFinalEditorV2,\n  ContactEditorV2,\n  KPIsEditorV2,\n  FooterEditorV2,\n  FormEditorV2,\n  TrackingEditorV2,\n  SEOEditorV2,\n  DesignEditorV2,\n  SectionOrderEditorV2,\n  FloatingWhatsappEditorV2,\n  ConversionEditorV2,\n  GlobalMenuEditorV2,\n  SpeakersEditorV2,\n  SponsorsEditorV2,\n} from '@/components/admin/sections-v2';\n\n// ============================================================\n// Definicao das secoes do sidebar interno\n// ============================================================\ninterface SectionItem {\n  key: string;\n  label: string;\n  icon: LucideIcon;\n}\n\ninterface SectionGroup {\n  group: string;\n  icon: LucideIcon;\n  defaultOpen: boolean;\n  items: SectionItem[];\n}\n\nconst SECTIONS: SectionGroup[] = [\n  {\n    group: 'Configuracoes',\n    icon: Palette,\n    defaultOpen: true,\n    items: [\n      { key: 'sectionOrder', label: 'Ordem das Secoes', icon: ListOrdered },\n      { key: 'conversion', label: 'Conversao', icon: Zap },\n      { key: 'globalMenu', label: 'Menu Global', icon: Menu },\n      { key: 'floatingWhatsapp', label: 'CTAs Flutuantes', icon: MessageSquare },\n      { key: 'design', label: 'Design', icon: Palette },\n      { key: 'seo', label: 'SEO', icon: Search },\n      { key: 'tracking', label: 'Rastreamento', icon: Target },\n      { key: 'history', label: 'Historico', icon: History },\n    ],\n  },\n  {\n    group: 'Secoes',\n    icon: LayoutGrid,\n    defaultOpen: true,\n    items: [\n      { key: 'hero', label: 'Hero', icon: Sparkles },\n      { key: 'benefits', label: 'Beneficios', icon: Award },\n      { key: 'howItWorks', label: 'Como Funciona', icon: Compass },\n      { key: 'plans', label: 'Planos', icon: CreditCard },\n      { key: 'testimonials', label: 'Depoimentos', icon: MessageCircle },\n      { key: 'kpis', label: 'KPIs', icon: BarChart3 },\n      { key: 'speakers', label: 'Palestrantes', icon: Mic2 },\n      { key: 'sponsors', label: 'Patrocinadores', icon: Trophy },\n      { key: 'about', label: 'Sobre', icon: Info },\n      { key: 'contact', label: 'Contato', icon: Mail },\n      { key: 'beforeAfter', label: 'Antes e Depois', icon: ImageIcon },\n      { key: 'process', label: 'Processo', icon: Route },\n      { key: 'services', label: 'Servicos', icon: ShoppingBag },\n      { key: 'video', label: 'Video', icon: Video },\n      { key: 'videoCarousel', label: 'Carrossel Videos', icon: PlayCircle },\n      { key: 'whyChoose', label: 'Por que Escolher', icon: CheckCircle2 },\n      { key: 'ctaFinal', label: 'CTA Final', icon: Megaphone },\n      { key: 'faq', label: 'FAQ', icon: HelpCircle },\n      { key: 'form', label: 'Formulario', icon: ClipboardList },\n      { key: 'forWhom', label: 'Para Quem', icon: Users },\n      { key: 'footer', label: 'Footer', icon: LayoutGrid },\n    ],\n  },\n];\n\n// ============================================================\n// EDITOR V2 — Modelo Linear (Producao)\n// ============================================================\nexport default function LPEditorV2() {\n  const { lpKey } = useParams<{ lpKey: string }>();\n  const navigate = useNavigate();\n  const [activeSection, setActiveSection] = useState('hero');\n  const [previewOpen, setPreviewOpen] = useState(false);\n  const [openGroups, setOpenGroups] = useState<Record<string, boolean>>(() => {\n    const initial: Record<string, boolean> = {};\n    SECTIONS.forEach((g) => {\n      initial[g.group] = g.defaultOpen;\n    });\n    return initial;\n  });\n\n  if (!lpKey) {\n    return <Navigate to=\"/admin/landpages-v2\" replace />;\n  }\n\n  const {\n    draft,\n    isDirty,\n    isLoading,\n    saveStatus,\n    lastSavedAt,\n    updateField,\n    updateNestedField,\n    updateSection,\n    saveNow,\n  } = useAdminEditorV2Production(lpKey);\n\n  const handleManualSave = async () => {\n    const success = await saveNow();\n    if (success) {\n      toast.success('Salvo com sucesso!');\n    } else {\n      toast.error('Erro ao salvar');\n    }\n  };\n\n  // Aviso ao sair com alteracoes nao salvas\n  useEffect(() => {\n    const handleBeforeUnload = (e: BeforeUnloadEvent) => {\n      if (isDirty) {\n        e.preventDefault();\n      }\n    };\n    window.addEventListener('beforeunload', handleBeforeUnload);\n    return () => window.removeEventListener('beforeunload', handleBeforeUnload);\n  }, [isDirty]);\n\n  const toggleGroup = (group: string) => {\n    setOpenGroups((prev) => ({ ...prev, [group]: !prev[group] }));\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n          <p className=\"text-muted-foreground\">Carregando editor...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!draft) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-[400px] gap-4\">\n        <AlertCircle className=\"h-12 w-12 text-destructive\" />\n        <p className=\"text-muted-foreground\">LP nao encontrada: {lpKey}</p>\n        <Button variant=\"outline\" onClick={() => window.location.reload()}>\n          <RefreshCw className=\"h-4 w-4 mr-2\" />\n          Tentar novamente\n        </Button>\n      </div>\n    );\n  }\n\n  // Props comuns para todos os editores\n  const editorProps = { draft, lpKey, updateField, updateNestedField, updateSection };\n\n  const renderEditor = () => {\n    switch (activeSection) {\n      case 'hero': return <HeroEditorV2 {...editorProps} />;\n      case 'benefits': return <BenefitsEditorV2 {...editorProps} />;\n      case 'howItWorks': return <HowItWorksEditorV2 {...editorProps} />;\n      case 'beforeAfter': return <BeforeAfterEditorV2 {...editorProps} />;\n      case 'process': return <ProcessEditorV2 {...editorProps} />;\n      case 'forWhom': return <ForWhomEditorV2 {...editorProps} />;\n      case 'services': return <ServicesEditorV2 {...editorProps} />;\n      case 'plans': return <PlansEditorV2 {...editorProps} />;\n      case 'video': return <VideoEditorV2 {...editorProps} />;\n      case 'videoCarousel': return <VideoCarouselEditorV2 {...editorProps} />;\n      case 'whyChoose': return <WhyChooseEditorV2 {...editorProps} />;\n      case 'testimonials': return <TestimonialsEditorV2 {...editorProps} />;\n      case 'about': return <AboutEditorV2 {...editorProps} />;\n      case 'faq': return <FAQEditorV2 {...editorProps} />;\n      case 'ctaFinal': return <CTAFinalEditorV2 {...editorProps} />;\n      case 'contact': return <ContactEditorV2 {...editorProps} />;\n      case 'kpis': return <KPIsEditorV2 {...editorProps} />;\n      case 'footer': return <FooterEditorV2 {...editorProps} />;\n      case 'form': return <FormEditorV2 {...editorProps} />;\n      case 'speakers': return <SpeakersEditorV2 {...editorProps} />;\n      case 'sponsors': return <SponsorsEditorV2 {...editorProps} />;\n      case 'tracking': return <TrackingEditorV2 {...editorProps} />;\n      case 'seo': return <SEOEditorV2 {...editorProps} />;\n      case 'design': return <DesignEditorV2 {...editorProps} />;\n      case 'sectionOrder': return <SectionOrderEditorV2 {...editorProps} />;\n      case 'conversion': return <ConversionEditorV2 {...editorProps} />;\n      case 'globalMenu': return <GlobalMenuEditorV2 {...editorProps} />;\n      case 'floatingWhatsapp': return <FloatingWhatsappEditorV2 {...editorProps} />;\n      case 'history': return (\n        <CMSHistoryPanel\n          tableName=\"bd_cms_lp_v2\"\n          recordKey={lpKey}\n          title=\"Historico de Versoes\"\n          description=\"Todas as alteracoes salvas desta LP\"\n        />\n      );\n      default: return <HeroEditorV2 {...editorProps} />;\n    }\n  };\n\n  return (\n    <div className=\"flex gap-0 min-h-[calc(100vh-80px)]\">\n      {/* ========== Sidebar interno ========== */}\n      <aside className=\"w-64 shrink-0 border-r border-border/30 bg-background/50 backdrop-blur-sm sticky top-0 self-start max-h-screen overflow-y-auto\">\n        {/* Botao voltar */}\n        <div className=\"p-4 border-b border-border/20\">\n          <button\n            onClick={() => navigate('/admin/landpages-v2')}\n            className=\"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors group w-full\"\n          >\n            <ArrowLeft className=\"h-4 w-4 group-hover:-translate-x-0.5 transition-transform\" />\n            <span>Voltar ao Dashboard</span>\n          </button>\n          <div className=\"mt-3\">\n            <h2 className=\"text-sm font-bold text-foreground truncate\">{lpKey}</h2>\n            <SaveStatusHUDV2\n              status={saveStatus}\n              lastSaved={lastSavedAt}\n            />\n          </div>\n        </div>\n\n        {/* Grupos colapsaveis */}\n        <div className=\"p-3 space-y-1\">\n          {SECTIONS.map((group) => {\n            const GroupIcon = group.icon;\n            const isOpen = openGroups[group.group] ?? true;\n            const hasActiveItem = group.items.some((item) => item.key === activeSection);\n\n            return (\n              <Collapsible\n                key={group.group}\n                open={isOpen}\n                onOpenChange={() => toggleGroup(group.group)}\n              >\n                <CollapsibleTrigger asChild>\n                  <button\n                    className={`flex items-center gap-2.5 w-full px-3 py-2.5 rounded-lg text-sm font-semibold transition-all duration-200 ${\n                      hasActiveItem && !isOpen\n                        ? 'bg-accent/15 text-accent'\n                        : 'text-foreground/80 hover:bg-accent/5 hover:text-foreground'\n                    }`}\n                  >\n                    <GroupIcon className=\"h-4 w-4 shrink-0\" />\n                    <span className=\"flex-1 text-left\">{group.group}</span>\n                    <ChevronRight\n                      className={`h-3.5 w-3.5 shrink-0 text-muted-foreground transition-transform duration-200 ${\n                        isOpen ? 'rotate-90' : ''\n                      }`}\n                    />\n                  </button>\n                </CollapsibleTrigger>\n\n                <CollapsibleContent>\n                  <nav className=\"mt-1 ml-2 space-y-0.5 border-l border-border/30 pl-2\">\n                    {group.items.map((item) => {\n                      const ItemIcon = item.icon;\n                      const isActive = activeSection === item.key;\n\n                      return (\n                        <button\n                          key={item.key}\n                          onClick={() => setActiveSection(item.key)}\n                          className={`flex items-center gap-2.5 w-full px-3 py-2 rounded-lg text-[13px] transition-all duration-150 ${\n                            isActive\n                              ? 'bg-accent/20 text-accent font-semibold shadow-sm'\n                              : 'text-foreground/70 hover:bg-accent/5 hover:text-foreground'\n                          }`}\n                        >\n                          <ItemIcon className={`h-3.5 w-3.5 shrink-0 ${isActive ? 'text-accent' : 'text-muted-foreground'}`} />\n                          <span className=\"truncate\">{item.label}</span>\n                        </button>\n                      );\n                    })}\n                  </nav>\n                </CollapsibleContent>\n              </Collapsible>\n            );\n          })}\n        </div>\n      </aside>\n\n      {/* ========== Area principal ========== */}\n      <div className=\"flex-1 min-w-0\">\n        {/* Header sticky */}\n        <div className=\"flex items-center justify-between sticky top-0 z-10 bg-background/80 backdrop-blur-sm py-3 px-6 border-b border-border/20\">\n          <h1 className=\"text-lg font-bold text-foreground\">\n            {SECTIONS.flatMap((g) => g.items).find((i) => i.key === activeSection)?.label ?? 'Editor'}\n          </h1>\n\n          <div className=\"flex items-center gap-3\">\n            <Button variant=\"outline\" size=\"sm\" onClick={() => setPreviewOpen(true)}>\n              <Eye className=\"h-4 w-4 mr-1\" />\n              Preview\n            </Button>\n            <Button\n              size=\"sm\"\n              onClick={handleManualSave}\n              disabled={!isDirty || saveStatus === 'saving'}\n              className={isDirty ? 'bg-accent hover:bg-accent/90 text-accent-foreground shadow-md shadow-accent/25' : ''}\n            >\n              {saveStatus === 'saving' ? (\n                <Loader2 className=\"h-4 w-4 mr-1 animate-spin\" />\n              ) : (\n                <Save className=\"h-4 w-4 mr-1\" />\n              )}\n              {saveStatus === 'saving' ? 'Salvando...' : isDirty ? 'Salvar (⌘S)' : 'Salvar'}\n            </Button>\n          </div>\n        </div>\n\n        {/* Editor ativo com respiro */}\n        <div className=\"p-6\">\n          {renderEditor()}\n        </div>\n      </div>\n\n      {/* Preview Drawer */}\n      <PreviewDrawerV2\n        open={previewOpen}\n        onOpenChange={setPreviewOpen}\n        slug={lpKey}\n      />\n    </div>\n  );\n}\n"],"names":["defaultFooterCta","DEFAULT_LP_TEMPLATE","getNewLPContent","SUPABASE_URL","SUPABASE_ANON_KEY","supabase","createClient","rowToRecord","row","recordToInsert","record","fetchLPByRef","ref","data","error","err","fetchAllLPs","saveContent","lpKey","content","saveLP","lp","updatePayload","deleteLP","duplicateLP","sourceLpKey","newLpKey","newName","newSlug","source","createLP","insertData","updateLPStatus","status","updateLPSettings","GLOBAL_V2_KEY","fetchGlobalTrackingV2","saveGlobalTrackingV2","tracking","existing","updatedContent","CACHE_TTL_MS","REFETCH_COOLDOWN_MS","getCacheV2","raw","entry","setCacheV2","CMSContextV2","createContext","CMSProviderV2","children","setContent","useState","isLoading","setIsLoading","setError","lastFetchRef","useRef","load","useCallback","attempt","r","useEffect","cached","handleVisibilityChange","design","root","hexToHSL","hex","g","b","max","min","h","s","l","d","adjustHSL","hsl","deltaL","parts","newL","setHSLVar","varName","bgHSL","textHex","textHSL","softHSL","roundnessMap","isLight","bgHue","shadowColor","shadowSm","shadowLg","bgLightness","jsx","useCMSV2","context","useContext","renderRichText","text","accentColor","line","lineIdx","jsxs","React","parseLine","tokens","regex","lastIndex","match","applyUTMv2","url","separator","applyCoupon","coupon","resolveTrackingV2","local","global","cn","inputs","twMerge","clsx","SectionCTAV2","className","couponCode","href","HeroV2","Fragment","sizeMap","IconBadgeV2","Icon","size","color","container","iconSize","style","benefitIcons","Home","Leaf","Users","Clock","Shield","Sparkles","BenefitsV2","item","index","IconComp","howItWorksIcons","PhoneCall","CalendarCheck","HowItWorksV2","step","COOKIE_PREFIX","getEvergreenDeadline","hours","key","stored","deadline","getRoundHourDeadline","hoursAhead","now","target","calcTimeLeft","diff","pad","n","CountdownTimerV2","memo","settings","timeLeft","setTimeLeft","expired","setExpired","getDeadline","tick","tl","interval","uc","labelStyle","labelClass","boxStyle","boxClass","separatorStyle","separatorClass","TimerUnit","value","label","isSeconds","planIcons","Medal","Award","Crown","Gem","tierColors","PlansV2","conversion","plan","IconComponent","tierColor","feature","idx","Check","TestimonialCardV2","buttonVariants","cva","Button","variant","asChild","props","Slot","CarouselContext","useCarousel","Carousel","orientation","opts","setApi","plugins","carouselRef","api","useEmblaCarousel","canScrollPrev","setCanScrollPrev","canScrollNext","setCanScrollNext","onSelect","scrollPrev","scrollNext","handleKeyDown","event","CarouselContent","CarouselItem","CarouselPrevious","ArrowLeft","CarouselNext","ArrowRight","TestimonialsV2","kpiIcons","Wrench","Star","KPIsV2","enabledKpis","k","kpi","AboutV2","WhatsAppIcon","ContactV2","BeforeAfterV2","CircleX","CircleCheck","processIcons","Calendar","MapPin","Camera","ProcessV2","ServicesV2","convertToEmbedUrl","youtubeRegex","youtubeMatch","vimeoRegex","vimeoMatch","getYouTubeThumbnail","VideoV2","playing","setPlaying","embedUrl","thumbnail","Play","getEmbedUrlV2","trimmedUrl","shortsMatch","ytWatchMatch","ytShortMatch","AspectRatio","AspectRatioPrimitive","VideoCard","autoplayUrl","handlePlay","VideoCarouselV2","whyChooseIcons","ThumbsUp","WhyChooseV2","CTAFinalV2","Accordion","AccordionPrimitive","AccordionItem","AccordionTrigger","ChevronDown","AccordionContent","FAQV2","ForWhomV2","socialIcons","Instagram","Facebook","Linkedin","Youtube","Music2","FooterV2","link","social","Input","type","labelVariants","Label","LabelPrimitive","Textarea","Checkbox","checked","CheckboxPrimitive","Minus","Select","SelectPrimitive","SelectValue","SelectTrigger","SelectScrollUpButton","ChevronUp","SelectScrollDownButton","SelectContent","position","useAdminTheme","isAdminRoute","shouldUseAdminTheme","SelectLabel","SelectItem","SelectSeparator","maskPhone","limited","maskCPF","maskDate","maskCEP","getMaskFunction","TOAST_LIMIT","TOAST_REMOVE_DELAY","count","genId","toastTimeouts","addToRemoveQueue","toastId","timeout","dispatch","reducer","state","action","t","toast","listeners","memoryState","listener","id","update","dismiss","open","CEPFieldWithButtonV2","onChange","onAddressFound","onAddressFieldsChange","placeholder","isValid","setIsValid","bairro","setBairro","cidade","setCidade","uf","setUf","handleChange","newValue","handleBairroChange","val","handleCidadeChange","handleUfChange","handleSearch","cleanCEP","newAddress","inputClasses","addressInputClasses","e","CheckCircle2","Loader2","DynamicFormFieldV2","field","maskFn","renderField","option","selectedValues","newValues","v","FormV2","formValues","setFormValues","errors","setErrors","isSubmitting","setIsSubmitting","showSuccessCard","setShowSuccessCard","fields","handleFieldChange","fieldId","prev","newErrors","handleAddressFound","address","addressMappings","fieldIdLower","labelLower","addressKey","handleAddressFieldsChange","addressFields","validateForm","selectedCount","handlePostSubmit","getDeviceInfo","ua","deviceType","os","fireWebhook","submittedData","utmParams","handleSubmit","dataToSubmit","metadata","CheckCircle","Send","SpeakerCard","speaker","isFeatured","hasSocials","Globe","SpeakersV2","isFeaturedLayout","LOGO_HEIGHTS","LOGO_PADDING","GRID_COLS","SponsorsV2","activeTiers","tier","tierIndex","logoHeight","hasColor","sponsor","sponsorIndex","cardContent","WhatsAppButtonV2","whatsappUrl","TrackingHeadV2","seo","setMeta","name","property","attr","el","scripts","addScript","src","inline","script","shouldShow","frequency","timestamp","markAsSeen","ExitIntentPopupV2","show","setShow","ready","setReady","dismissedRef","onReturnRef","delayTimer","handleMouseLeave","handleVisibility","onReturn","ctaUrl","hasImage","imageLeft","X","SESSION_KEY_PREFIX","SocialProofToastV2","currentIndex","setCurrentIndex","visible","setVisible","shown","setShown","hideTimeoutsRef","maxPerVisit","toastDuration","getShownCount","incrementShown","current","initialShown","itemIndex","showNext","hideTimeout","newCount","timer","initialDelay","StickyMobileCtaV2","threshold","handleScroll","scrollableHeight","scrollPercent","urlWithUTM","GlobalMenuV2","footer","logoSrc","links","i","renderSection","sectionId","LandingPageV2Content","globalTracking","setGlobalTracking","Navigate","sectionOrder","gradient","gradientStyle","hasMenu","LandingPageV2","slug","useParams","Card","CardHeader","CardTitle","CardDescription","CardContent","CardFooter","badgeVariants","Badge","Dialog","DialogPrimitive","DialogTrigger","DialogPortal","DialogClose","DialogOverlay","isInsideRadixPortal","DialogContent","handleInteractOutside","handlePointerDownOutside","DialogHeader","DialogFooter","DialogTitle","DialogDescription","DropdownMenu","DropdownMenuPrimitive","DropdownMenuTrigger","DropdownMenuSubTrigger","inset","ChevronRight","DropdownMenuSubContent","DropdownMenuContent","sideOffset","DropdownMenuItem","DropdownMenuCheckboxItem","DropdownMenuRadioItem","Circle","DropdownMenuLabel","DropdownMenuSeparator","typeToMaxWidth","maxWidthClasses","AdminPageContainer","maxWidth","resolvedMaxWidth","iconColorMap","AdminPageHeader","title","description","iconColor","badge","actions","backButton","Sheet","SheetPrimitive","SheetClose","SheetPortal","SheetOverlay","sheetVariants","SheetContent","side","hideCloseButton","SheetHeader","SheetTitle","SheetDescription","PreviewDrawerV2","onOpenChange","lpName","viewMode","setViewMode","refreshKey","setRefreshKey","previewUrl","Monitor","Smartphone","RotateCcw","useDebouncedInput","externalValue","onDebouncedChange","delay","localValue","setLocalValue","isInternalUpdate","prevExternalValue","DebouncedInputV2","debounceMs","PIXEL_RULES","validatePixelId","platform","rule","getStatusColor","getStatusDotColor","PIXEL_PLATFORMS","DEFAULT_TRACKING","GlobalTrackingPanelV2","setTracking","isSaving","setIsSaving","lpsWithOverride","setLpsWithOverride","isDirty","setIsDirty","globalData","allLps","overrides","handleSave","hasAnyGlobal","p","Activity","Save","validation","DEFAULT_HOMEPAGE","fetchHomepageConfig","version","lp_ref","setHomepage","lpRef","lpErr","updErr","insErr","statusColors","statusLabels","InlineSlugEditor","onSave","isEditing","setIsEditing","setValue","fullUrl","cleaned","handleCopy","Pencil","Copy","formatRelativeDate","dateStr","date","diffMs","diffMin","diffHrs","diffDays","LandingPagesV2","lps","setLps","isCreating","setIsCreating","newLp","setNewLp","createDialogOpen","setCreateDialogOpen","duplicateSource","setDuplicateSource","duplicateData","setDuplicateData","isDuplicating","setIsDuplicating","deleteTarget","setDeleteTarget","deleteConfirmText","setDeleteConfirmText","isDeleting","setIsDeleting","editLp","setEditLp","isEditingSetting","setIsEditingSetting","previewLp","setPreviewLp","homepageConfig","setHomepageConfig","isSettingHomepage","setIsSettingHomepage","loadLPs","hpConfig","filteredLps","handleCreate","handleStatusChange","newStatus","handleSlugSave","handleUpdateSettings","handleDuplicate","handleSetHomepage","newConfig","isHomepage","openDuplicateDialog","handleDelete","LayoutTemplate","Plus","Rocket","FileText","Eye","Link","Edit","Settings","Trash2","useCMSSync","isSyncing","setIsSyncing","lastSavedAt","setLastSavedAt","isFirstLoadRef","loadFromDatabase","persistToDatabase","success","useAdminEditorV2Production","draft","setDraft","initializedRef","draftRef","serverContentRef","touchedFieldsRef","protectImageFields","draftContent","serverContent","safe","simpleImageFields","section","touchKey","sectionData","serverSection","serverVal","draftVal","srv","dft","saveStatus","setSaveStatus","updateField","newDraft","updateNestedField","path","pathParts","keys","updatePath","obj","pathKeys","child","updateSection","saveNow","safeDraft","handleHotkeySave","Collapsible","CollapsiblePrimitive","CollapsibleTrigger","CollapsibleContent","BRAZIL_TIMEZONE","formatBrazilTime","SaveStatusHUDV2","lastSaved","AlertCircle","buildFormatLongFn","args","options","width","buildLocalizeFn","valuesArray","defaultWidth","buildMatchFn","string","matchPattern","matchResult","matchedString","parsePatterns","findIndex","pattern","findKey","rest","object","predicate","array","buildMatchPatternFn","parseResult","formatDistanceLocale","formatDistance","token","result","tokenValue","dateFormats","timeFormats","dateTimeFormats","formatLong","formatRelativeLocale","weekday","formatRelative","_baseDate","_options","format","eraValues","quarterValues","monthValues","dayValues","dayPeriodValues","formattingDayPeriodValues","ordinalNumber","dirtyNumber","number","localize","quarter","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","ptBR","ScrollArea","ScrollAreaPrimitive","ScrollBar","AlertDialog","AlertDialogPrimitive","AlertDialogPortal","AlertDialogOverlay","AlertDialogContent","AlertDialogHeader","AlertDialogFooter","AlertDialogTitle","AlertDialogDescription","AlertDialogAction","AlertDialogCancel","useCMSHistory","tableName","recordId","recordKey","limit","useQuery","query","useRestoreVersion","queryClient","useQueryClient","useMutation","dataToRestore","created_at","updated_at","cleanData","_","variables","generateDiff","oldData","newData","added","removed","changed","oldKeys","newKeys","oldVal","newVal","CMSHistoryPanel","expandedId","setExpandedId","restoreEntry","setRestoreEntry","history","restore","isRestoring","handleRestore","getActionBadge","formatDate","dateString","History","isExpanded","canRestore","AlertTriangle","Switch","SwitchPrimitives","DebouncedTextareaV2","uploadImage","file","fileExt","filePath","publicUrl","compressImage","compressedFile","imageCompression","ImageUploadV2","uploading","setUploading","dragActive","setDragActive","inputRef","handleFile","compressToastId","optimizedFile","errorMessage","handleDrag","Upload","SectionCTAEditorV2","sectionTitle","ctaData","onUpdate","HeroEditorV2","hero","updates","BenefitsEditorV2","benefits","items","addItem","newItems","removeItem","updateItem","GripVertical","HowItWorksEditorV2","howItWorks","steps","addStep","newSteps","removeStep","updateStep","BeforeAfterEditorV2","beforeAfter","images","addImage","newImages","removeImage","updateImage","img","ProcessEditorV2","process","ForWhomEditorV2","forWhom","ServicesEditorV2","services","updateItemText","toggleItemEnabled","PlansEditorV2","plans","newId","addFeature","features","removeFeature","featureIndex","updateFeature","fIndex","VideoEditorV2","VideoCarouselEditorV2","moveItem","direction","newIndex","ArrowUp","ArrowDown","WhyChooseEditorV2","TestimonialsEditorV2","renderStars","currentRating","star","AboutEditorV2","FAQEditorV2","HelpCircle","CTAFinalEditorV2","ContactEditorV2","KPIsEditorV2","kpis","FooterEditorV2","privacy","terms","cnpj","socials","socialLabels","newLinks","FIELD_TYPES","FormEditorV2","form","updateFormField","newFields","addField","newField","removeField","ft","TrackingEditorV2","useGlobal","globalValue","isInheriting","isOverriding","hasValue","badgeClass","badgeText","SEOEditorV2","metaTitleLen","metaDescLen","Slider","SliderPrimitive","ColorField","DESIGN_PRESETS","DesignEditorV2","advancedOpen","setAdvancedOpen","activePresetId","isCustom","applyPreset","preset","handleGradientChange","currentGradient","updateDesignField","Paintbrush","isActive","SECTION_LABELS","ALL_SECTIONS","SortableItem","isEnabled","onToggle","onRemove","attributes","setNodeRef","transform","transition","isDragging","useSortable","CSS","SectionOrderEditorV2","activeSections","inactiveSections","sensors","useSensors","useSensor","PointerSensor","TouchSensor","KeyboardSensor","sortableKeyboardCoordinates","updateOrder","newOrder","handleDragEnd","active","over","oldIndex","arrayMove","addSection","removeSection","isSectionEnabled","toggleSectionEnabled","DndContext","closestCenter","SortableContext","verticalListSortingStrategy","FloatingWhatsappEditorV2","wpp","sticky","updateSticky","MessageCircle","DEFAULT_COUNTDOWN","DEFAULT_EXIT","DEFAULT_SOCIAL","ConversionEditorV2","conv","countdown","exitIntent","socialProof","updateConv","updateCountdown","updateExit","updateSocial","addSocialItem","removeSocialItem","updateSocialItem","Ticket","Timer","Palette","ShieldAlert","Trophy","DEFAULT_MENU","GlobalMenuEditorV2","menu","updateMenu","addLink","removeLink","updateLink","Menu","SpeakersEditorV2","changes","Mic2","SponsorsEditorV2","tiers","addTier","removeTier","moveTier","newTiers","updateTier","addSponsor","removeSponsor","updateSponsor","SECTIONS","ListOrdered","Zap","MessageSquare","Search","Target","LayoutGrid","Compass","CreditCard","BarChart3","Info","Mail","ImageIcon","Route","ShoppingBag","Video","PlayCircle","Megaphone","ClipboardList","LPEditorV2","navigate","useNavigate","activeSection","setActiveSection","previewOpen","setPreviewOpen","openGroups","setOpenGroups","initial","handleManualSave","handleBeforeUnload","toggleGroup","group","RefreshCw","editorProps","renderEditor","GroupIcon","isOpen","hasActiveItem","ItemIcon"],"mappings":"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","x_google_ignoreList":[73,74,75,76,77,78,79,80,81,82]}